!function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=17)}([function(e,n,t){"use strict";t.r(n),t.d(n,"render",(function(){return D})),t.d(n,"hydrate",(function(){return T})),t.d(n,"createElement",(function(){return h})),t.d(n,"h",(function(){return h})),t.d(n,"Fragment",(function(){return g})),t.d(n,"createRef",(function(){return v})),t.d(n,"isValidElement",(function(){return o})),t.d(n,"Component",(function(){return y})),t.d(n,"cloneElement",(function(){return B})),t.d(n,"createContext",(function(){return M})),t.d(n,"toChildArray",(function(){return O})),t.d(n,"_unmount",(function(){return A})),t.d(n,"options",(function(){return r}));var r,o,u,i,l,a,c,s={},f=[],d=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function p(e,n){for(var t in n)e[t]=n[t];return e}function _(e){var n=e.parentNode;n&&n.removeChild(e)}function h(e,n,t){var r,o=arguments,u={};for(r in n)"key"!==r&&"ref"!==r&&(u[r]=n[r]);if(arguments.length>3)for(t=[t],r=3;r<arguments.length;r++)t.push(o[r]);if(null!=t&&(u.children=t),"function"==typeof e&&null!=e.defaultProps)for(r in e.defaultProps)void 0===u[r]&&(u[r]=e.defaultProps[r]);return m(e,u,n&&n.key,n&&n.ref)}function m(e,n,t,o){var u={type:e,props:n,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__d:null,__c:null,constructor:void 0};return r.vnode&&r.vnode(u),u}function v(){return{}}function g(e){return e.children}function y(e,n){this.props=e,this.context=n}function b(e,n){if(null==n)return e.__?b(e.__,e.__.__k.indexOf(e)+1):null;for(var t;n<e.__k.length;n++)if(null!=(t=e.__k[n])&&null!=t.__e)return t.__e;return"function"==typeof e.type?b(e):null}function C(e){var n,t;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if(null!=(t=e.__k[n])&&null!=t.__e){e.__e=e.__c.base=t.__e;break}return C(e)}}function k(e){(!e.__d&&(e.__d=!0)&&1===u.push(e)||l!==r.debounceRendering)&&((l=r.debounceRendering)||i)(w)}function w(){var e,n,t,r,o,i,l;for(u.sort((function(e,n){return n.__v.__b-e.__v.__b}));e=u.pop();)e.__d&&(t=void 0,r=void 0,i=(o=(n=e).__v).__e,(l=n.__P)&&(t=[],r=P(l,o,p({},o),n.__n,void 0!==l.ownerSVGElement,null,t,null==i?b(o):i),R(t,o),r!=i&&C(o)))}function x(e,n,t,r,o,u,i,l,a){var c,d,p,h,m,v,g,y=t&&t.__k||f,C=y.length;if(l==s&&(l=null!=u?u[0]:C?b(t,0):null),c=0,n.__k=O(n.__k,(function(t){if(null!=t){if(t.__=n,t.__b=n.__b+1,null===(p=y[c])||p&&t.key==p.key&&t.type===p.type)y[c]=void 0;else for(d=0;d<C;d++){if((p=y[d])&&t.key==p.key&&t.type===p.type){y[d]=void 0;break}p=null}if(h=P(e,t,p=p||s,r,o,u,i,l,a),(d=t.ref)&&p.ref!=d&&(g||(g=[]),p.ref&&g.push(p.ref,null,t),g.push(d,t.__c||h,t)),null!=h){if(null==v&&(v=h),null!=t.__d)h=t.__d,t.__d=null;else if(u==p||h!=l||null==h.parentNode){e:if(null==l||l.parentNode!==e)e.appendChild(h);else{for(m=l,d=0;(m=m.nextSibling)&&d<C;d+=2)if(m==h)break e;e.insertBefore(h,l)}"option"==n.type&&(e.value="")}l=h.nextSibling,"function"==typeof n.type&&(n.__d=h)}}return c++,t})),n.__e=v,null!=u&&"function"!=typeof n.type)for(c=u.length;c--;)null!=u[c]&&_(u[c]);for(c=C;c--;)null!=y[c]&&A(y[c],y[c]);if(g)for(c=0;c<g.length;c++)H(g[c],g[++c],g[++c])}function O(e,n,t){if(null==t&&(t=[]),null==e||"boolean"==typeof e)n&&t.push(n(null));else if(Array.isArray(e))for(var r=0;r<e.length;r++)O(e[r],n,t);else t.push(n?n("string"==typeof e||"number"==typeof e?m(null,e,null,null):null!=e.__e||null!=e.__c?m(e.type,e.props,e.key,null):e):e);return t}function E(e,n,t){"-"===n[0]?e.setProperty(n,t):e[n]="number"==typeof t&&!1===d.test(n)?t+"px":null==t?"":t}function S(e,n,t,r,o){var u,i,l,a,c;if(o?"className"===n&&(n="class"):"class"===n&&(n="className"),"key"===n||"children"===n);else if("style"===n)if(u=e.style,"string"==typeof t)u.cssText=t;else{if("string"==typeof r&&(u.cssText="",r=null),r)for(i in r)t&&i in t||E(u,i,"");if(t)for(l in t)r&&t[l]===r[l]||E(u,l,t[l])}else"o"===n[0]&&"n"===n[1]?(a=n!==(n=n.replace(/Capture$/,"")),c=n.toLowerCase(),n=(c in e?c:n).slice(2),t?(r||e.addEventListener(n,N,a),(e.l||(e.l={}))[n]=t):e.removeEventListener(n,N,a)):"list"!==n&&"tagName"!==n&&"form"!==n&&"type"!==n&&!o&&n in e?e[n]=null==t?"":t:"function"!=typeof t&&"dangerouslySetInnerHTML"!==n&&(n!==(n=n.replace(/^xlink:?/,""))?null==t||!1===t?e.removeAttributeNS("http://www.w3.org/1999/xlink",n.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",n.toLowerCase(),t):null==t||!1===t?e.removeAttribute(n):e.setAttribute(n,t))}function N(e){this.l[e.type](r.event?r.event(e):e)}function P(e,n,t,o,u,i,l,a,c){var s,f,d,_,h,m,v,b,C,k,w=n.type;if(void 0!==n.constructor)return null;(s=r.__b)&&s(n);try{e:if("function"==typeof w){if(b=n.props,C=(s=w.contextType)&&o[s.__c],k=s?C?C.props.value:s.__:o,t.__c?v=(f=n.__c=t.__c).__=f.__E:("prototype"in w&&w.prototype.render?n.__c=f=new w(b,k):(n.__c=f=new y(b,k),f.constructor=w,f.render=F),C&&C.sub(f),f.props=b,f.state||(f.state={}),f.context=k,f.__n=o,d=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=w.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=p({},f.__s)),p(f.__s,w.getDerivedStateFromProps(b,f.__s))),_=f.props,h=f.state,d)null==w.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==w.getDerivedStateFromProps&&b!==_&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(b,k),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(b,f.__s,k)){for(f.props=b,f.state=f.__s,f.__d=!1,f.__v=n,n.__e=t.__e,n.__k=t.__k,f.__h.length&&l.push(f),s=0;s<n.__k.length;s++)n.__k[s]&&(n.__k[s].__=n);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(b,f.__s,k),null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(_,h,m)}))}f.context=k,f.props=b,f.state=f.__s,(s=r.__r)&&s(n),f.__d=!1,f.__v=n,f.__P=e,s=f.render(f.props,f.state,f.context),n.__k=O(null!=s&&s.type==g&&null==s.key?s.props.children:s),null!=f.getChildContext&&(o=p(p({},o),f.getChildContext())),d||null==f.getSnapshotBeforeUpdate||(m=f.getSnapshotBeforeUpdate(_,h)),x(e,n,t,o,u,i,l,a,c),f.base=n.__e,f.__h.length&&l.push(f),v&&(f.__E=f.__=null),f.__e=null}else n.__e=j(t.__e,n,t,o,u,i,l,c);(s=r.diffed)&&s(n)}catch(e){r.__e(e,n,t)}return n.__e}function R(e,n){r.__c&&r.__c(n,e),e.some((function(n){try{e=n.__h,n.__h=[],e.some((function(e){e.call(n)}))}catch(e){r.__e(e,n.__v)}}))}function j(e,n,t,r,o,u,i,l){var a,c,d,p,_,h=t.props,m=n.props;if(o="svg"===n.type||o,null==e&&null!=u)for(a=0;a<u.length;a++)if(null!=(c=u[a])&&(null===n.type?3===c.nodeType:c.localName===n.type)){e=c,u[a]=null;break}if(null==e){if(null===n.type)return document.createTextNode(m);e=o?document.createElementNS("http://www.w3.org/2000/svg",n.type):document.createElement(n.type),u=null}if(null===n.type)null!=u&&(u[u.indexOf(e)]=null),h!==m&&e.data!=m&&(e.data=m);else if(n!==t){if(null!=u&&(u=f.slice.call(e.childNodes)),d=(h=t.props||s).dangerouslySetInnerHTML,p=m.dangerouslySetInnerHTML,!l){if(h===s)for(h={},_=0;_<e.attributes.length;_++)h[e.attributes[_].name]=e.attributes[_].value;(p||d)&&(p&&d&&p.__html==d.__html||(e.innerHTML=p&&p.__html||""))}(function(e,n,t,r,o){var u;for(u in t)u in n||S(e,u,null,t[u],r);for(u in n)o&&"function"!=typeof n[u]||"value"===u||"checked"===u||t[u]===n[u]||S(e,u,n[u],t[u],r)})(e,m,h,o,l),n.__k=n.props.children,p||x(e,n,t,r,"foreignObject"!==n.type&&o,u,i,s,l),l||("value"in m&&void 0!==m.value&&m.value!==e.value&&(e.value=null==m.value?"":m.value),"checked"in m&&void 0!==m.checked&&m.checked!==e.checked&&(e.checked=m.checked))}return e}function H(e,n,t){try{"function"==typeof e?e(n):e.current=n}catch(e){r.__e(e,t)}}function A(e,n,t){var o,u,i;if(r.unmount&&r.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||H(o,null,n)),t||"function"==typeof e.type||(t=null!=(u=e.__e)),e.__e=e.__d=null,null!=(o=e.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(e){r.__e(e,n)}o.base=o.__P=null}if(o=e.__k)for(i=0;i<o.length;i++)o[i]&&A(o[i],n,t);null!=u&&_(u)}function F(e,n,t){return this.constructor(e,t)}function D(e,n,t){var o,u,i;r.__&&r.__(e,n),u=(o=t===a)?null:t&&t.__k||n.__k,e=h(g,null,[e]),i=[],P(n,(o?n:t||n).__k=e,u||s,s,void 0!==n.ownerSVGElement,t&&!o?[t]:u?null:f.slice.call(n.childNodes),i,t||s,o),R(i,e)}function T(e,n){D(e,n,a)}function B(e,n){return n=p(p({},e.props),n),arguments.length>2&&(n.children=f.slice.call(arguments,2)),m(e.type,n,n.key||e.key,n.ref||e.ref)}function M(e){var n={},t={__c:"__cC"+c++,__:e,Consumer:function(e,n){return e.children(n)},Provider:function(e){var r,o=this;return this.getChildContext||(r=[],this.getChildContext=function(){return n[t.__c]=o,n},this.shouldComponentUpdate=function(n){e.value!==n.value&&r.some((function(e){e.context=n.value,k(e)}))},this.sub=function(e){r.push(e);var n=e.componentWillUnmount;e.componentWillUnmount=function(){r.splice(r.indexOf(e),1),n&&n.call(e)}}),e.children}};return t.Consumer.contextType=t,t}r={__e:function(e,n){for(var t,r;n=n.__;)if((t=n.__c)&&!t.__)try{if(t.constructor&&null!=t.constructor.getDerivedStateFromError&&(r=!0,t.setState(t.constructor.getDerivedStateFromError(e))),null!=t.componentDidCatch&&(r=!0,t.componentDidCatch(e)),r)return k(t.__E=t)}catch(n){e=n}throw e}},o=function(e){return null!=e&&void 0===e.constructor},y.prototype.setState=function(e,n){var t;t=this.__s!==this.state?this.__s:this.__s=p({},this.state),"function"==typeof e&&(e=e(t,this.props)),e&&p(t,e),null!=e&&this.__v&&(this.__e=!1,n&&this.__h.push(n),k(this))},y.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),k(this))},y.prototype.render=g,u=[],i="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,a=s,c=0},function(e,n,t){"use strict";t.d(n,"j",(function(){return p})),t.d(n,"h",(function(){return _})),t.d(n,"d",(function(){return h})),t.d(n,"f",(function(){return m})),t.d(n,"i",(function(){return v})),t.d(n,"e",(function(){return g})),t.d(n,"g",(function(){return y})),t.d(n,"a",(function(){return b})),t.d(n,"b",(function(){return C})),t.d(n,"c",(function(){return k}));var r,o,u,i=t(0),l=[],a=i.options.__r,c=i.options.diffed,s=i.options.__c,f=i.options.unmount;function d(e){i.options.__h&&i.options.__h(o);var n=o.__H||(o.__H={t:[],u:[]});return e>=n.t.length&&n.t.push({}),n.t[e]}function p(e){return _(S,e)}function _(e,n,t){var u=d(r++);return u.__c||(u.__c=o,u.i=[t?t(n):S(void 0,n),function(n){var t=e(u.i[0],n);u.i[0]!==t&&(u.i[0]=t,u.__c.setState({}))}]),u.i}function h(e,n){var t=d(r++);E(t.o,n)&&(t.i=e,t.o=n,o.__H.u.push(t))}function m(e,n){var t=d(r++);E(t.o,n)&&(t.i=e,t.o=n,o.__h.push(t))}function v(e){return y((function(){return{current:e}}),[])}function g(e,n,t){m((function(){"function"==typeof e?e(n()):e&&(e.current=n())}),null==t?t:t.concat(e))}function y(e,n){var t=d(r++);return E(t.o,n)?(t.o=n,t.v=e,t.i=e()):t.i}function b(e,n){return y((function(){return e}),n)}function C(e){var n=o.context[e.__c];if(!n)return e.__;var t=d(r++);return null==t.i&&(t.i=!0,n.sub(o)),n.props.value}function k(e,n){i.options.useDebugValue&&i.options.useDebugValue(n?n(e):e)}function w(){l.some((function(e){e.__P&&(e.__H.u.forEach(x),e.__H.u.forEach(O),e.__H.u=[])})),l=[]}function x(e){e.m&&e.m()}function O(e){var n=e.i();"function"==typeof n&&(e.m=n)}function E(e,n){return!e||n.some((function(n,t){return n!==e[t]}))}function S(e,n){return"function"==typeof n?n(e):n}i.options.__r=function(e){a&&a(e),r=0,(o=e.__c).__H&&(o.__H.u.forEach(x),o.__H.u.forEach(O),o.__H.u=[])},i.options.diffed=function(e){c&&c(e);var n=e.__c;if(n){var t=n.__H;t&&t.u.length&&(1!==l.push(n)&&u===i.options.requestAnimationFrame||((u=i.options.requestAnimationFrame)||function(e){var n,t=function(){clearTimeout(r),cancelAnimationFrame(n),setTimeout(e)},r=setTimeout(t,100);"undefined"!=typeof window&&(n=requestAnimationFrame(t))})(w))}},i.options.__c=function(e,n){n.some((function(e){e.__h.forEach(x),e.__h=e.__h.filter((function(e){return!e.i||O(e)}))})),s&&s(e,n)},i.options.unmount=function(e){f&&f(e);var n=e.__c;if(n){var t=n.__H;t&&t.t.forEach((function(e){return e.m&&e.m()}))}}},function(e,n,t){"use strict";t.d(n,"b",(function(){return c}));var r=t(1);t.d(n,"c",(function(){return r.b})),t.d(n,"d",(function(){return r.d})),t.d(n,"e",(function(){return r.i}));var o=t(0);function u(e,n){for(var t in n)e[t]=n[t];return e}function i(e,n){for(var t in e)if("__source"!==t&&!(t in n))return!0;for(var r in n)if("__source"!==r&&e[r]!==n[r])return!0;return!1}var l=function(e){var n,t;function r(n){var t;return(t=e.call(this,n)||this).isPureReactComponent=!0,t}return t=e,(n=r).prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t,r.prototype.shouldComponentUpdate=function(e,n){return i(this.props,e)||i(this.state,n)},r}(o.Component);var a=o.options.vnode;function c(e){function n(n){var t=u({},n);return delete t.ref,e(t,n.ref)}return n.prototype.isReactComponent=!0,n.t=!0,n.displayName="ForwardRef("+(e.displayName||e.name)+")",n}o.options.vnode=function(e){e.type&&e.type.t&&e.ref&&(e.props.ref=e.ref,e.ref=null),a&&a(e)};var s=function(e,n){return e?Object(o.toChildArray)(e).map(n):null},f={map:s,forEach:s,count:function(e){return e?Object(o.toChildArray)(e).length:0},only:function(e){if(1!==(e=Object(o.toChildArray)(e)).length)throw new Error("Children.only() expects only one child.");return e[0]},toArray:o.toChildArray},d=o.options.__e;function p(e){return e&&((e=u({},e)).__c=null,e.__k=e.__k&&e.__k.map(p)),e}function _(e){this.__u=0,this.__b=null}function h(e){var n=e.__.__c;return n&&n.o&&n.o(e)}function m(){this.u=null,this.i=null}o.options.__e=function(e,n,t){if(e.then)for(var r,o=n;o=o.__;)if((r=o.__c)&&r.l)return r.l(e,n.__c);d(e,n,t)},(_.prototype=new o.Component).l=function(e,n){var t=this,r=h(t.__v),o=!1,u=function(){o||(o=!0,r?r(i):i())};n.__c=n.componentWillUnmount,n.componentWillUnmount=function(){u(),n.__c&&n.__c()};var i=function(){--t.__u||(t.__v.__k[0]=t.state.o,t.setState({o:t.__b=null}))};t.__u++||t.setState({o:t.__b=t.__v.__k[0]}),e.then(u,u)},_.prototype.render=function(e,n){return this.__b&&(this.__v.__k[0]=p(this.__b),this.__b=null),[Object(o.createElement)(o.Component,null,n.o?null:e.children),n.o&&e.fallback]};var v=function(e,n,t){if(++t[1]===t[0]&&e.i.delete(n),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.i.size))for(t=e.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;e.u=t=t[2]}};(m.prototype=new o.Component).o=function(e){var n=this,t=h(n.__v),r=n.i.get(e);return r[0]++,function(o){var u=function(){n.props.revealOrder?(r.push(o),v(n,e,r)):o()};t?t(u):u()}},m.prototype.render=function(e){this.u=null,this.i=new Map;var n=Object(o.toChildArray)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&n.reverse();for(var t=n.length;t--;)this.i.set(n[t],this.u=[1,0,this.u]);return e.children},m.prototype.componentDidUpdate=m.prototype.componentDidMount=function(){var e=this;e.i.forEach((function(n,t){v(e,t,n)}))};var g=function(){function e(){}var n=e.prototype;return n.getChildContext=function(){return this.props.context},n.render=function(e){return e.children},e}();function y(e){var n=this,t=e.container,r=Object(o.createElement)(g,{context:n.context},e.vnode);return n.s&&n.s!==t&&(n.h.parentNode&&n.s.removeChild(n.h),Object(o._unmount)(n.v),n.p=!1),e.vnode?n.p?(t.__k=n.__k,Object(o.render)(r,t),n.__k=t.__k):(n.h=document.createTextNode(""),Object(o.hydrate)("",t),t.appendChild(n.h),n.p=!0,n.s=t,Object(o.render)(r,t,n.h),n.__k=this.h.__k):n.p&&(n.h.parentNode&&n.s.removeChild(n.h),Object(o._unmount)(n.v)),n.v=r,n.componentWillUnmount=function(){n.h.parentNode&&n.s.removeChild(n.h),Object(o._unmount)(n.v)},null}var b=/^(?:accent|alignment|arabic|baseline|cap|clip|color|fill|flood|font|glyph|horiz|marker|overline|paint|stop|strikethrough|stroke|text|underline|unicode|units|v|vector|vert|word|writing|x)[A-Z]/;o.Component.prototype.isReactComponent={};var C="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;function k(e,n,t){if(null==n.__k)for(;n.firstChild;)n.removeChild(n.firstChild);return function(e,n,t){return Object(o.render)(e,n),"function"==typeof t&&t(),e?e.__c:null}(e,n,t)}var w=o.options.event;function x(e,n){e["UNSAFE_"+n]&&!e[n]&&Object.defineProperty(e,n,{configurable:!1,get:function(){return this["UNSAFE_"+n]},set:function(e){this["UNSAFE_"+n]=e}})}o.options.event=function(e){return w&&(e=w(e)),e.persist=function(){},e.nativeEvent=e};var O={configurable:!0,get:function(){return this.class}},E=o.options.vnode;o.options.vnode=function(e){e.$$typeof=C;var n=e.type,t=e.props;if("function"!=typeof n){var r,u,i;for(i in t.defaultValue&&(t.value||0===t.value||(t.value=t.defaultValue),delete t.defaultValue),Array.isArray(t.value)&&t.multiple&&"select"===n&&(Object(o.toChildArray)(t.children).forEach((function(e){-1!=t.value.indexOf(e.props.value)&&(e.props.selected=!0)})),delete t.value),t)if(r=b.test(i))break;if(r)for(i in u=e.props={},t)u[b.test(i)?i.replace(/([A-Z0-9])/,"-$1").toLowerCase():i]=t[i]}(t.class||t.className)&&(O.enumerable="className"in t,t.className&&(t.class=t.className),Object.defineProperty(t,"className",O)),function(n){var t=e.type,r=e.props;if(r&&"string"==typeof t){var o={};for(var u in r)/^on(Ani|Tra|Tou)/.test(u)&&(r[u.toLowerCase()]=r[u],delete r[u]),o[u.toLowerCase()]=u;if(o.ondoubleclick&&(r.ondblclick=r[o.ondoubleclick],delete r[o.ondoubleclick]),o.onbeforeinput&&(r.onbeforeinput=r[o.onbeforeinput],delete r[o.onbeforeinput]),o.onchange&&("textarea"===t||"input"===t.toLowerCase()&&!/^fil|che|ra/i.test(r.type))){var i=o.oninput||"oninput";r[i]||(r[i]=r[o.onchange],delete r[o.onchange])}}}(),"function"==typeof n&&!n.m&&n.prototype&&(x(n.prototype,"componentWillMount"),x(n.prototype,"componentWillReceiveProps"),x(n.prototype,"componentWillUpdate"),n.m=!0),E&&E(e)};function S(e){return!!e&&e.$$typeof===C}n.a={useState:r.j,useReducer:r.h,useEffect:r.d,useLayoutEffect:r.f,useRef:r.i,useImperativeHandle:r.e,useMemo:r.g,useCallback:r.a,useContext:r.b,useDebugValue:r.c,version:"16.8.0",Children:f,render:k,hydrate:k,unmountComponentAtNode:function(e){return!!e.__k&&(Object(o.render)(null,e),!0)},createPortal:function(e,n){return Object(o.createElement)(y,{vnode:e,container:n})},createElement:o.createElement,createContext:o.createContext,createFactory:function(e){return o.createElement.bind(null,e)},cloneElement:function(e){return S(e)?o.cloneElement.apply(null,arguments):e},createRef:o.createRef,Fragment:o.Fragment,isValidElement:S,findDOMNode:function(e){return e&&(e.base||1===e.nodeType&&e)||null},Component:o.Component,PureComponent:l,memo:function(e,n){function t(e){var t=this.props.ref,r=t==e.ref;return!r&&t&&(t.call?t(null):t.current=null),n?!n(this.props,e)||!r:i(this.props,e)}function r(n){return this.shouldComponentUpdate=t,Object(o.createElement)(e,u({},n))}return r.prototype.isReactComponent=!0,r.displayName="Memo("+(e.displayName||e.name)+")",r.t=!0,r},forwardRef:c,unstable_batchedUpdates:function(e,n){return e(n)},Suspense:_,SuspenseList:m,lazy:function(e){var n,t,r;function u(u){if(n||(n=e()).then((function(e){t=e.default||e}),(function(e){r=e})),r)throw r;if(!t)throw n;return Object(o.createElement)(t,u)}return u.displayName="Lazy",u.t=!0,u}}},function(e,n,t){"use strict";t.d(n,"b",(function(){return h})),t.d(n,"a",(function(){return _}));var r={data:""},o=function(e){try{var n=e?e.querySelector("#_goober"):self._goober;return n||((n=(e||document.head).appendChild(document.createElement("style"))).innerHTML=" ",n.id="_goober"),n.firstChild}catch(e){}return r},u=/(?:([a-z0-9-%@]+) *:? *([^{;]+?);|([^;}{]*?) +{)|(})/gi,i=/\/\*.*?\*\/|\s{2,}|\n/gm,l={c:0},a=function(e,n,t,r){var o=JSON.stringify(e),a=l[o]||(l[o]=t?"":".go"+o.split("").reduce((function(e,n){return e+n.charCodeAt(0)|8}),4));return function(e,n,t){n.data.indexOf(e)<0&&(n.data=t?e+n.data:n.data+e)}(l[a]||(l[a]=function e(n,t,r){var o="",u="",i="";if(/^@[k|f]/.test(r))return r+JSON.stringify(n).replace(/","/g,";").replace(/"|,"/g,"").replace(/:{/g,"{");for(var l in n){var a=n[l];if("object"==typeof a){var c=t+" "+l;/&/g.test(l)&&(c=l.replace(/&/g,t)),"@"==l[0]&&(c=t),u+=e(a,c,c==t?l:r||"")}else/^@i/.test(l)?i=l+" "+a+";":o+=l.replace(/[A-Z]/g,"-$&").toLowerCase()+":"+a+";"}if(o.charCodeAt(0)){var s=t+"{"+o+"}";return r?u+r+"{"+s+"}":i+s+u}return i+u}(e[0]?function(e){for(var n,t=[{}];n=u.exec(e.replace(i,""));)n[4]&&t.shift(),n[3]?t.unshift(t[0][n[3]]={}):n[4]||(t[0][n[1]]=n[2]);return t[0]}(e):e,a)),n,r),a.slice(1)},c=function(e,n,t){return e.reduce((function(e,r,o){var u=n[o];if(u&&u.call){var i=u(t),l=i&&i.props&&i.props.className||/^go/.test(i)&&i;u=l?"."+l:i&&i.props?"":i}return e+r+(u||"")}),"")};function s(e){var n=this||{},t=e.call?e(n.p):e;return a(t.map?c(t,[].slice.call(arguments,1),n.p):t,o(n.target),n.g,n.o)}s.bind({g:1});var f,d,p,_=function(e,n,t){f=e,d=n,p=t};function h(e){var n=this||{};return function(){var t=arguments;function r(r,o){var u=n.p=Object.assign(p?{theme:p()}:{},r),i=u.className;return n.o=/\s*go[0-9]+/g.test(i),u.className=s.apply(n,t)+(i?" "+i:""),u.ref=o,f(e,u)}return d?d(r):r}}},function(e,n){e.exports=function(e,n){return n||(n=e.slice(0)),e.raw=n,e}},function(e,n,t){var r;e.exports=(r=t(0),function(e){function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){"use strict";function r(){this._root=(0,i.render)(function e(n,t){if(3===n.nodeType)return n.nodeValue;if(1!==n.nodeType)return null;var r=[],o={},u=0,l=n.attributes,a=n.childNodes;for(u=l.length;u--;)o[l[u].name]=l[u].value;for(u=a.length;u--;)r[u]=e(a[u]);return(0,i.h)(t||n.nodeName.toLowerCase(),o,r)}(this,this._vdomComponent),this,this._root)}function o(){(0,i.render)((0,i.h)(l),this,this._root)}Object.defineProperty(n,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.default=function(e,n,t){var i=function(n){function i(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i);var n=Reflect.construct(HTMLElement,[],i);return n._vdomComponent=e,n}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+(void 0===n?"undefined":u(n)));e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(i,HTMLElement),a(i,[{key:"connectedCallback",value:function(){r.apply(this)}},{key:"attributeChangedCallback",value:function(){r.apply(this)}},{key:"detachedCallback",value:function(){o.apply(this)}}],[{key:"observedAttributes",get:function(){return t}}]),i}();return window.customElements.define(n||e.displayName||e.name,i)};var i=t(1),l=function(){return null},a=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}()},function(e,n){e.exports=r}]))},function(e,n,t){"use strict";var r=t(4),o=t.n(r),u=t(0),i=t(2),l=t(3),a={colors:{$D10:"#162D3D",$D20:"#32536A",$D30:"#577083",$D40:"#7A92A5",$D50:"#B6C1CD",$D55:"#CBD3DC",$D60:"#DFE5EB",$D70:"#F0F4F7",$D80:"#FFFFFF",$B00:"#2B81CB",$B05:"#308DDD",$B10:"#3899EC",$B20:"#4EB7F5",$B25:"#A1D7FB",$B27:"#B3E0FB",$B30:"#C1E4FE",$B40:"#DAEFFE",$B50:"#EAF7FF",$B60:"#F4FAFE"},sidebar:{colors:{$bg:"#23263e",$divider:"#434567",$bgHover:"#2e3249",$bgActive:"#393f59"}}};function c(){var e=o()(["\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  box-sizing: border-box;\n"]);return c=function(){return e},e}var s=Object(u.createContext)(a);Object(l.a)(u.h,i.b,(function(){return Object(i.c)(s)}));var f=Object(l.b)("div")(c());n.a=function(e){var n=e.children;return Object(u.h)(f,{__source:{fileName:"/Users/igors/Development/pc-comonents/src/App.tsx",lineNumber:13}},n)}},function(e,n){function t(){return e.exports=t=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},t.apply(this,arguments)}e.exports=t},function(e,n,t){"use strict";n.a=function(e){var n=e.ref,t=e.eventName;return function(e){n.current&&n.current.dispatchEvent(new CustomEvent(t,{detail:e,bubbles:!0}))}}},,,,,,,,,function(e,n,t){"use strict";t.r(n);var r=t(4),o=t.n(r),u=t(7),i=t.n(u),l=t(0),a=t(1),c=t(3),s=t(5),f=t.n(s),d=t(2);function p(){return(p=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function _(e,n){if(null==e)return{};var t,r,o={},u=Object.keys(e);for(r=0;r<u.length;r++)t=u[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}var h={init:"init"},m={Cell:function(e){var n=e.cell.value;return void 0===n?"":n},width:150,minWidth:0,maxWidth:Number.MAX_SAFE_INTEGER};function v(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.reduce((function(e,n){var t=n.style,r=n.className;return e=p({},e,{},_(n,["style","className"])),t&&(e.style=e.style?p({},e.style||{},{},t||{}):t),r&&(e.className=e.className?e.className+" "+r:r),""===e.className&&delete e.className,e}),{})}var g=function(e,n){return void 0===n&&(n={}),function(t){return void 0===t&&(t={}),[].concat(e,[t]).reduce((function(e,r){return function e(n,t,r){return"function"==typeof t?e({},t(n,r)):Array.isArray(t)?v.apply(void 0,[n].concat(t)):v(n,t)}(e,r,p({},n,{userProps:t}))}),{})}},y=function(e,n,t){return void 0===t&&(t={}),e.reduce((function(e,n){return n(e,t)}),n)},b=function(e,n){return void 0===n&&(n={}),e.forEach((function(e){e(n)}))};function C(e,n,t,r){e.findIndex((function(e){return e.pluginName===t}));n.forEach((function(n){e.findIndex((function(e){return e.pluginName===n}))})),r.forEach((function(n){e.findIndex((function(e){return e.pluginName===n}))}))}function k(e,n){return"function"==typeof e?e(n):e}function w(e){var n=d.a.useRef();return n.current=e,d.a.useCallback((function(){return n.current}),[])}"undefined"!=typeof document?d.a.useLayoutEffect:d.a.useEffect;function x(e,n){var t=w(e[n]);return e[n]=void 0,t}function O(e,n,t){return void 0===t&&(t={}),function(r,o){void 0===o&&(o={});var u="string"==typeof r?n[r]:r;if(void 0===u)throw new Error("Renderer Error");return function(e,n){return t=e,function(e){return"function"==typeof e&&!(!(n=Object.getPrototypeOf(e)).prototype||!n.prototype.isReactComponent);var n}(t)||function(e){return"function"==typeof e}(t)||function(e){return"object"==typeof e&&"symbol"==typeof e.$$typeof&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}(t)?d.a.createElement(e,n):e;var t}(u,p({},e,{column:n},t,{},o))}}function E(e,n,t,r,o){var u=e=p({},m,{},n,{},e),i=u.id,l=u.accessor,a=u.Header;if("string"==typeof l){i=i||l;var c=l.split(".");l=function(e){return function(e,n,t){if(!n)return e;var r,o="function"==typeof n?n:JSON.stringify(n),u=P.get(o)||function(){var e=function(e){return function e(n,t){void 0===t&&(t=[]);if(Array.isArray(n))for(var r=0;r<n.length;r+=1)e(n[r],t);else t.push(n);return t}(e).map((function(e){return String(e).replace(".","_")})).join(".").replace(j,".").replace(H,"").split(".")}(n);return P.set(o,e),e}();try{r=u.reduce((function(e,n){return e[n]}),e)}catch(e){}return void 0!==r?r:t}(e,c)}}if(!i&&"string"==typeof a&&a&&(i=a),!i&&e.columns)throw console.error(e),new Error('A column ID (or unique "Header" value) is required!');if(!i)throw console.error(e),new Error("A column ID (or string accessor) is required!");return e=p({Header:function(){return d.a.createElement(d.a.Fragment,null," ")},Footer:function(){return d.a.createElement(d.a.Fragment,null," ")}},e,{id:i,accessor:l,parent:t,depth:r,index:o})}function S(e,n,t,r){return void 0===r&&(r=0),e.map((function(e,o){return(e=E(e,n,t,r,o)).columns&&(e.columns=S(e.columns,n,e,r+1)),e}))}function N(e,n){var t=[];return function e(r,o){var u={headers:[]},i=[],l=r.some((function(e){return e.parent}));r.forEach((function(e){var t=!i.length,r=[].concat(i).reverse()[0];if(e.parent){var o=i.filter((function(n){return n.originalId===e.parent.id}));(t||r.originalId!==e.parent.id)&&i.push(p({},e.parent,{originalId:e.parent.id,id:[e.parent.id,o.length].join("_")}))}else if(l){var a=[e.id,"placeholder"].join("_"),c=i.filter((function(e){return e.originalId===a})),s=E({originalId:a,id:[e.id,"placeholder",c.length].join("_"),placeholderOf:e},n);(t||r.originalId!==s.originalId)&&i.push(s)}(e.parent||l)&&((r=[].concat(i).reverse()[0]).headers=r.headers||[],r.headers.includes(e)||r.headers.push(e)),e.totalHeaderCount=e.headers?e.headers.reduce((function(e,n){return e+n.totalHeaderCount}),0):1,u.headers.push(e)})),t.push(u),i.length&&e(i)}(e),t.reverse()}var P=new Map;function R(e,n){var t=[];return function e(r){r.forEach((function(r){r[n]?e(r[n]):t.push(r)}))}(e),t}var j=/\[/g,H=/\]/g;var A=function(e){return e.filter((function(e){return e.column.isVisible}))},F=function(e,n){var t=n.column;return p({key:"header_"+t.id,colSpan:t.totalVisibleHeaderCount},e)},D=function(e,n){var t=n.column;return p({key:"footer_"+t.id,colSpan:t.totalVisibleHeaderCount},e)},T=function(e,n){return p({key:"headerGroup_"+n.index},e)},B=function(e,n){return p({key:"footerGroup_"+n.index},e)},M=function(e,n){return p({key:"row_"+n.row.id},e)},$=function(e,n){var t=n.cell;return p({},e,{key:"cell_"+t.row.id+"_"+t.column.id})};function W(){return{useOptions:[],stateReducers:[],useControlledState:[],columns:[],columnsDeps:[],flatColumns:[],flatColumnsDeps:[],headerGroups:[],headerGroupsDeps:[],useInstanceBeforeDimensions:[],useInstance:[],useRows:[],cells:[A],prepareRow:[],getTableProps:[],getTableBodyProps:[],getHeaderGroupProps:[T],getFooterGroupProps:[B],getHeaderProps:[F],getFooterProps:[D],getRowProps:[M],getCellProps:[$],useFinalInstance:[]}}h.resetHiddenColumns="resetHiddenColumns",h.toggleHideColumn="toggleHideColumn",h.setHiddenColumns="setHiddenColumns",h.toggleHideAllColumns="toggleHideAllColumns";var I=function(e){e.getToggleHiddenProps=[G],e.getToggleHideAllColumnsProps=[L],e.stateReducers.push(U),e.useInstanceBeforeDimensions.push(V),e.headerGroupsDeps.push((function(e,n){var t=n.instance;return[].concat(e,[t.state.hiddenColumns])})),e.useInstance.push(z)};I.pluginName="useColumnVisibility";var G=function(e,n){var t=n.column;return[e,{onChange:function(e){t.toggleHidden(!e.target.checked)},style:{cursor:"pointer"},checked:t.isVisible,title:"Toggle Column Visible"}]},L=function(e,n){var t=n.instance;return[e,{onChange:function(e){t.toggleHideAllColumns(!e.target.checked)},style:{cursor:"pointer"},checked:!t.allColumnsHidden&&!t.state.hiddenColumns.length,title:"Toggle All Columns Hidden",indeterminate:!t.allColumnsHidden&&t.state.hiddenColumns.length}]};function U(e,n,t,r){if(n.type===h.init)return p({hiddenColumns:[]},e);if(n.type===h.resetHiddenColumns)return p({},e,{hiddenColumns:r.initialState.hiddenColumns||[]});if(n.type===h.toggleHideColumn){var o=(void 0!==n.value?n.value:!e.hiddenColumns.includes(n.columnId))?[].concat(e.hiddenColumns,[n.columnId]):e.hiddenColumns.filter((function(e){return e!==n.columnId}));return p({},e,{hiddenColumns:o})}return n.type===h.setHiddenColumns?p({},e,{hiddenColumns:k(n.value,e.hiddenColumns)}):n.type===h.toggleHideAllColumns?p({},e,{hiddenColumns:(void 0!==n.value?n.value:!e.hiddenColumns.length)?r.flatColumns.map((function(e){return e.id})):[]}):void 0}function V(e){var n=e.headers,t=e.state.hiddenColumns;d.a.useRef(!1).current;var r=0;n.forEach((function(e){return r+=function e(n,r){n.isVisible=r&&!t.includes(n.id);var o=0;return n.headers&&n.headers.length?n.headers.forEach((function(t){return o+=e(t,n.isVisible)})):o=n.isVisible?1:0,n.totalVisibleHeaderCount=o,o}(e,!0)}))}function z(e){var n=e.flatHeaders,t=e.dispatch,r=e.flatColumns,o=e.state.hiddenColumns,u=w(e),i=r.length===o.length,l=d.a.useCallback((function(e,n){return t({type:h.toggleHideColumn,columnId:e,value:n})}),[t]),a=d.a.useCallback((function(e){return t({type:h.setHiddenColumns,value:e})}),[t]),c=d.a.useCallback((function(e){return t({type:h.toggleHideAllColumns,value:e})}),[t]),s=x(u().hooks,"getToggleHideAllColumnsProps"),f=g(s(),{instance:u()}),p=x(u().hooks,"getToggleHiddenProps");n.forEach((function(e){e.toggleHidden=function(n){t({type:h.toggleHideColumn,columnId:e.id,value:n})},e.getToggleHiddenProps=g(p(),{instance:u(),column:e})})),Object.assign(e,{allColumnsHidden:i,toggleHideColumn:l,setHiddenColumns:a,toggleHideAllColumns:c,getToggleHideAllColumnsProps:f})}var q={},J={},Z=function(e,n,t){return e},X=function(e,n){return e.subRows||[]},Y=function(e,n,t){return""+(t?[t.id,n].join("."):n)},K=function(e){return e};function Q(e){var n=e.initialState,t=void 0===n?q:n,r=e.defaultColumn,o=void 0===r?J:r,u=e.getSubRows,i=void 0===u?X:u,l=e.getRowId,a=void 0===l?Y:l,c=e.stateReducer,s=void 0===c?Z:c,f=e.useControlledState,d=void 0===f?K:f;return p({},_(e,["initialState","defaultColumn","getSubRows","getRowId","stateReducer","useControlledState"]),{initialState:t,defaultColumn:o,getSubRows:i,getRowId:a,stateReducer:s,useControlledState:d})}var ee=function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];e=Q(e),t=[I].concat(t);var o=d.a.useRef({}),u=w(o.current);Object.assign(u(),p({},e,{plugins:t,hooks:W()})),t.filter(Boolean).forEach((function(e){e(u().hooks)}));var i=x(u().hooks,"useOptions");Object.assign(u(),y(i(),Q(e)));var l=u(),a=l.data,c=l.columns,s=l.initialState,f=l.defaultColumn,_=l.getSubRows,m=l.getRowId,v=l.stateReducer,C=l.useControlledState,k=x(u().hooks,"stateReducers"),E=w(v),P=d.a.useCallback((function(e,n){if(!n.type)throw console.info({action:n}),new Error("Unknown Action 👆");return[].concat(k(),Array.isArray(E())?E():[E()]).reduce((function(t,r){return r(t,n,e,u())||t}),e)}),[k,E,u]),j=d.a.useReducer(P,void 0,(function(){return P(s,{type:h.init})})),H=j[0],A=j[1],F=x(u().hooks,"useControlledState"),D=y([].concat(F(),[C]),H,{instance:u()});Object.assign(u(),{state:D,dispatch:A});var T=x(u().hooks,"columns"),B=x(u().hooks,"columnsDeps"),M=d.a.useMemo((function(){return S(y(T(),c,{instance:u()}),f)}),[f,T,u,c].concat(y(B(),[],{instance:u()})));u().columns=M;var $=d.a.useMemo((function(){return R(M,"columns")}),[M]);u().flatColumns=$;var G=d.a.useMemo((function(){var e=[];return[a.map((function(n,t){return function n(t,r,o,u){void 0===o&&(o=0);var i=t,l={id:m(t,r,u),original:i,index:r,depth:o,cells:[{}]};e.push(l);var c=_(t,r);c&&(l.subRows=c.map((function(e,t){return n(e,t,o+1,l)})));var s=function(){throw new Error("React-Table: You have not called prepareRow(row) one or more rows you are attempting to render.")};return l.cells.map=s,l.cells.filter=s,l.cells.forEach=s,l.cells[0].getCellProps=s,l.values={},$.forEach((function(e){var n=e.id,u=e.accessor;l.values[n]=u?u(t,r,{subRows:c,depth:o,data:a}):void 0})),l}(n,t)})),e]}),[a,$,m,_]),L=G[0],U=G[1];u().rows=L,u().flatRows=U;var V=x(u().hooks,"flatColumns"),z=x(u().hooks,"flatColumnsDeps");$=d.a.useMemo((function(){return y(V(),$,{instance:u()})}),[$,V,u].concat(y(z(),[],{instance:u()}))),u().flatColumns=$;var q=x(u().hooks,"headerGroups"),J=x(u().hooks,"headerGroupsDeps"),Z=d.a.useMemo((function(){return y(q(),N($,f),u())}),[f,$,q,u].concat(y(J(),[],{instance:u()})));u().headerGroups=Z;var X=d.a.useMemo((function(){return Z.length?Z[0].headers:[]}),[Z]);u().headers=X,u().flatHeaders=Z.reduce((function(e,n){return[].concat(e,n.headers)}),[]);var Y=x(u().hooks,"useInstanceBeforeDimensions");b(Y(),u());var K=ne(X),ee=K[0],te=K[1],re=K[2];u().totalColumnsMinWidth=ee,u().totalColumnsWidth=te,u().totalColumnsMaxWidth=re;var oe=x(u().hooks,"useInstance");b(oe(),u());var ue=x(u().hooks,"getHeaderProps"),ie=x(u().hooks,"getFooterProps");[].concat(u().flatHeaders,u().flatColumns).forEach((function(e){e.render=O(u(),e),e.getHeaderProps=g(ue(),{instance:u(),column:e}),e.getFooterProps=g(ie(),{instance:u(),column:e})}));var le=x(u().hooks,"getHeaderGroupProps"),ae=x(u().hooks,"getFooterGroupProps");u().headerGroups=u().headerGroups.filter((function(e,n){return e.headers=e.headers.filter((function(e){return e.headers?function e(n){return n.filter((function(n){return n.headers?e(n.headers):n.isVisible})).length}(e.headers):e.isVisible})),!!e.headers.length&&(e.getHeaderGroupProps=g(le(),{instance:u(),headerGroup:e,index:n}),e.getFooterGroupProps=g(ae(),{instance:u(),headerGroup:e,index:n}),!0)})),u().footerGroups=[].concat(u().headerGroups).reverse();var ce=x(u().hooks,"useRows");u().rows=y(ce(),u().rows,{instance:u()});var se=x(u().hooks,"prepareRow"),fe=x(u().hooks,"getRowProps"),de=x(u().hooks,"getCellProps"),pe=x(u().hooks,"cells");u().prepareRow=d.a.useCallback((function(e){e.getRowProps=g(fe(),{instance:u(),row:e}),e.allCells=$.map((function(n){var t={column:n,row:e,value:e.values[n.id]};return t.getCellProps=g(de(),{instance:u(),cell:t}),t.render=O(u(),n,{row:e,cell:t}),t})),e.cells=y(pe(),e.allCells,{instance:u()}),b(se(),e,u())}),[fe,u,$,pe,se,de]);var _e=x(u().hooks,"getTableProps");u().getTableProps=g(_e(),{instance:u()});var he=x(u().hooks,"getTableBodyProps");u().getTableBodyProps=g(he(),{instance:u()});var me=x(u().hooks,"useFinalInstance");return b(me(),u()),u()};function ne(e,n){void 0===n&&(n=0);var t=0,r=0,o=0;return e.forEach((function(e){var u=e.headers;if(e.totalLeft=n,u&&u.length){var i=ne(u,n),l=i[0],a=i[1],c=i[2];e.totalMinWidth=l,e.totalWidth=a,e.totalMaxWidth=c}else e.totalMinWidth=e.minWidth,e.totalWidth=Math.min(Math.max(e.minWidth,e.width),e.maxWidth),e.totalMaxWidth=e.maxWidth;e.isVisible&&(n+=e.totalWidth,t+=e.totalMinWidth,r+=e.totalWidth,o+=e.totalMaxWidth)})),[t,r,o]}h.toggleExpanded="toggleExpanded",h.toggleAllExpanded="toggleAllExpanded",h.setExpanded="setExpanded",h.resetExpanded="resetExpanded";var te=function(e,n,t){return e=e.filter((function(e){return n.some((function(n){var r=e.values[n];return String(r).toLowerCase().includes(String(t).toLowerCase())}))}))};te.autoRemove=function(e){return!e};var re=function(e,n,t){return e.filter((function(e){return n.some((function(n){var r=e.values[n];return void 0===r||String(r).toLowerCase()===String(t).toLowerCase()}))}))};re.autoRemove=function(e){return!e};var oe=function(e,n,t){return e.filter((function(e){return n.some((function(n){var r=e.values[n];return void 0===r||String(r)===String(t)}))}))};oe.autoRemove=function(e){return!e};var ue=function(e,n,t){return e.filter((function(e){return n.some((function(n){var r=e.values[n];return t.includes(r)}))}))};ue.autoRemove=function(e){return!e||!e.length};var ie=function(e,n,t){return e.filter((function(e){return n.some((function(n){var r=e.values[n];return r&&r.length&&t.every((function(e){return r.includes(e)}))}))}))};ie.autoRemove=function(e){return!e||!e.length};var le=function(e,n,t){return e.filter((function(e){return n.some((function(n){return e.values[n]===t}))}))};le.autoRemove=function(e){return void 0===e};var ae=function(e,n,t){return e.filter((function(e){return n.some((function(n){return e.values[n]==t}))}))};ae.autoRemove=function(e){return null==e};var ce=function(e,n,t){var r=t||[],o=r[0],u=r[1];if((o="number"==typeof o?o:-1/0)>(u="number"==typeof u?u:1/0)){var i=o;o=u,u=i}return e.filter((function(e){return n.some((function(n){var t=e.values[n];return t>=o&&t<=u}))}))};ce.autoRemove=function(e){return!e||"number"!=typeof e[0]&&"number"!=typeof e[1]};h.resetFilters="resetFilters",h.setFilter="setFilter",h.setAllFilters="setAllFilters";h.resetGlobalFilter="resetGlobalFilter",h.setGlobalFilter="setGlobalFilter";h.resetGroupBy="resetGroupBy",h.toggleGroupBy="toggleGroupBy";h.resetSortBy="resetSortBy",h.toggleSortBy="toggleSortBy",h.clearSortBy="clearSortBy",m.sortType="alphanumeric",m.sortDescFirst=!1;h.resetPage="resetPage",h.gotoPage="gotoPage",h.setPageSize="setPageSize";h.resetSelectedRows="resetSelectedRows",h.toggleAllRowsSelected="toggleAllRowsSelected",h.toggleRowSelected="toggleRowSelected";h.setRowState="setRowState",h.resetRowState="resetRowState";h.resetColumnOrder="resetColumnOrder",h.setColumnOrder="setColumnOrder";m.canResize=!0,h.columnStartResizing="columnStartResizing",h.columnResizing="columnResizing",h.columnDoneResizing="columnDoneResizing";var se={position:"absolute",top:0},fe=function(e){e.getTableBodyProps.push(de),e.getRowProps.push(de),e.getHeaderGroupProps.push(de),e.useInstance.push(pe),e.getHeaderProps.push((function(e,n){var t=n.column;return[e,{style:p({},se,{left:t.totalLeft+"px",width:t.totalWidth+"px"})}]})),e.getCellProps.push((function(e,n){var t=n.cell;return[e,{style:p({},se,{left:t.column.totalLeft+"px",width:t.column.totalWidth+"px"})}]}))};fe.pluginName="useAbsoluteLayout";var de=function(e,n){return[e,{style:{position:"relative",width:n.instance.totalColumnsWidth+"px"}}]};function pe(e){C(e.plugins,[],fe.pluginName,["useResizeColumns"])}var _e=t(6),he=t(8),me="/Users/igors/Development/pc-comonents/src/components/Table/index.tsx";function ve(){var e=o()(["\n  .table {\n    font-size: 14px;\n    background: ",";\n    border-bottom-left-radius: 8px;\n    border-bottom-right-radius: 8px;\n    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.1);\n    width: 100%;\n    overflow: hidden;\n\n    .tr.header {\n      background: ",";\n      height: 42px;\n      &:hover {\n        background: ",";\n        cursor: default;\n      }\n    }\n\n    .tr {\n      height: 54px;\n      width: 100%;\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      border-bottom: 1px solid ",";\n\n      &:hover {\n        background: ",";\n        cursor: pointer;\n        transition: all 120ms ease;\n      }\n\n      .th,\n      .td {\n        display: block;\n        flex: 1;\n        text-align: left;\n        overflow-x: hidden;\n        text-overflow: ellipsis;\n        padding: 0 30px 0 0;\n        align-items: center;\n      }\n\n      .th:first-child,\n      .td:first-child {\n        padding: 0 0 0 30px;\n      }\n    }\n  }\n"]);return ve=function(){return e},e}var ge=function(e){var n=e.data,t=e.columns,r=Object(a.j)(null),o=r[0],u=r[1],c=Object(a.j)(null),s=c[0],f=c[1],d=Object(a.i)();Object(a.d)((function(){if(n&&t){var e=JSON.parse(n),r=JSON.parse(t);u(e),f(r)}}),[n,t]),Object(a.d)((function(){console.log(o,s)}),[o,s]);var p=Object(he.a)({ref:d,eventName:"tableRowClicked"});if(!o||!s)return Object(l.h)("div",{__source:{fileName:me,lineNumber:43}},"Loading....");var _=ee({columns:s,data:o}),h=_.getTableProps,m=_.getTableBodyProps,v=_.headerGroups,g=_.rows,y=_.prepareRow;return Object(l.h)(_e.a,{__source:{fileName:me,lineNumber:57}},Object(l.h)(ye,{__source:{fileName:me,lineNumber:58}},Object(l.h)("div",i()({ref:d},h(),{className:"table",__source:{fileName:me,lineNumber:59}}),Object(l.h)("div",{__source:{fileName:me,lineNumber:60}},v.map((function(e){return Object(l.h)("div",i()({key:e.id},e.getHeaderGroupProps(),{className:"tr header",__source:{fileName:me,lineNumber:62}}),e.headers.map((function(e){return Object(l.h)("div",i()({key:e.id},e.getHeaderProps(),{className:"th",__source:{fileName:me,lineNumber:64}}),e.render("Header"))})))}))),Object(l.h)("div",i()({},m(),{__source:{fileName:me,lineNumber:72}}),g.map((function(e,n){return y(e),Object(l.h)("div",i()({onClick:function(){return p(e.values)},key:e.id},e.getRowProps(),{className:"tr",__source:{fileName:me,lineNumber:77}}),e.cells.map((function(e){return Object(l.h)("div",i()({key:e.value},e.getCellProps(),{className:"td",__source:{fileName:me,lineNumber:79}}),e.render("Cell"))})))}))))))},ye=Object(c.b)("div")(ve(),(function(e){return e.theme.colors.$D80}),(function(e){return e.theme.colors.$B40}),(function(e){return e.theme.colors.$B40}),(function(e){return e.theme.colors.$D60}),(function(e){return e.theme.colors.$B50}));f()(ge,"x-table",["columns","data"]);n.default=ge}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9vcHRpb25zLmpzIiwid2VicGFjazovLy8uLi9zcmMvY3JlYXRlLWVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9yZW5kZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jcmVhdGUtY29udGV4dC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3V0aWwuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9kaWZmL2NoaWxkcmVuLmpzIiwid2VicGFjazovLy8uLi9zcmMvZGlmZi9wcm9wcy5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2RpZmYvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jbG9uZS1lbGVtZW50LmpzIiwid2VicGFjazovLy8uLi9zcmMvZGlmZi9jYXRjaC1lcnJvci5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uLi9zcmMvUHVyZUNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2ZvcndhcmRSZWYuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9DaGlsZHJlbi5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3N1c3BlbnNlLmpzIiwid2VicGFjazovLy8uLi9zcmMvc3VzcGVuc2UtbGlzdC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3BvcnRhbHMuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9ldmVudHMuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9tZW1vLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AbmtzYXJhZi9nb29iZXIvZGlzdC9nb29iZXIubW9kdWxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbExvb3NlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcmVhY3QtY3VzdG9tLWVsZW1lbnQvZGlzdC9idW5kbGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL2dsb2JhbFN0eWxlcy50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL0FwcC50c3giLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvdXNlQ3VzdG9tRXZlbnQudHN4Iiwid2VicGFjazovLy8uLi9zcmMvcHVibGljVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL21ha2VEZWZhdWx0UGx1Z2luSG9va3MuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9ob29rcy91c2VDb2x1bW5WaXNpYmlsaXR5LmpzIiwid2VicGFjazovLy8uLi9zcmMvaG9va3MvdXNlVGFibGUuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9wbHVnaW4taG9va3MvdXNlRXhwYW5kZWQuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9maWx0ZXJUeXBlcy5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3BsdWdpbi1ob29rcy91c2VGaWx0ZXJzLmpzIiwid2VicGFjazovLy8uLi9zcmMvcGx1Z2luLWhvb2tzL3VzZUdsb2JhbEZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3BsdWdpbi1ob29rcy91c2VHcm91cEJ5LmpzIiwid2VicGFjazovLy8uLi9zcmMvcGx1Z2luLWhvb2tzL3VzZVNvcnRCeS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3BsdWdpbi1ob29rcy91c2VQYWdpbmF0aW9uLmpzIiwid2VicGFjazovLy8uLi9zcmMvcGx1Z2luLWhvb2tzL3VzZVJvd1NlbGVjdC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3BsdWdpbi1ob29rcy91c2VSb3dTdGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3BsdWdpbi1ob29rcy91c2VDb2x1bW5PcmRlci5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3BsdWdpbi1ob29rcy91c2VSZXNpemVDb2x1bW5zLmpzIiwid2VicGFjazovLy8uLi9zcmMvcGx1Z2luLWhvb2tzL3VzZUFic29sdXRlTGF5b3V0LmpzIiwid2VicGFjazovLy8uLi9zcmMvcGx1Z2luLWhvb2tzL3VzZUZsZXhMYXlvdXQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvVGFibGUvaW5kZXgudHN4Il0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwib3B0aW9ucyIsImlzVmFsaWRFbGVtZW50IiwicSIsImRlZmVyIiwicHJldkRlYm91bmNlIiwiSVNfSFlEUkFURSIsIkVNUFRZX09CSiIsIkVNUFRZX0FSUiIsIklTX05PTl9ESU1FTlNJT05BTCIsImFzc2lnbiIsIm9iaiIsInByb3BzIiwicmVtb3ZlTm9kZSIsIm5vZGUiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJjcmVhdGVFbGVtZW50IiwidHlwZSIsImNoaWxkcmVuIiwibm9ybWFsaXplZFByb3BzIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicHVzaCIsImRlZmF1bHRQcm9wcyIsImNyZWF0ZVZOb2RlIiwicmVmIiwidm5vZGUiLCJfY2hpbGRyZW4iLCJfcGFyZW50IiwiX2RlcHRoIiwiX2RvbSIsIl9sYXN0RG9tQ2hpbGQiLCJfY29tcG9uZW50IiwiY29uc3RydWN0b3IiLCJ1bmRlZmluZWQiLCJjcmVhdGVSZWYiLCJGcmFnbWVudCIsIkNvbXBvbmVudCIsImNvbnRleHQiLCJnZXREb21TaWJsaW5nIiwiY2hpbGRJbmRleCIsImluZGV4T2YiLCJzaWJsaW5nIiwidXBkYXRlUGFyZW50RG9tUG9pbnRlcnMiLCJjaGlsZCIsImJhc2UiLCJlbnF1ZXVlUmVuZGVyIiwiX2RpcnR5IiwiZGVib3VuY2VSZW5kZXJpbmciLCJwcm9jZXNzIiwiY29tcG9uZW50IiwiY29tbWl0UXVldWUiLCJuZXdEb20iLCJvbGREb20iLCJwYXJlbnREb20iLCJzb3J0IiwiYSIsImIiLCJfdm5vZGUiLCJwb3AiLCJfcGFyZW50RG9tIiwiZGlmZiIsIl9jb250ZXh0Iiwib3duZXJTVkdFbGVtZW50IiwiY29tbWl0Um9vdCIsImRpZmZDaGlsZHJlbiIsIm5ld1BhcmVudFZOb2RlIiwib2xkUGFyZW50Vk5vZGUiLCJpc1N2ZyIsImV4Y2Vzc0RvbUNoaWxkcmVuIiwiaXNIeWRyYXRpbmciLCJqIiwib2xkVk5vZGUiLCJzaWJEb20iLCJmaXJzdENoaWxkRG9tIiwicmVmcyIsIm9sZENoaWxkcmVuIiwib2xkQ2hpbGRyZW5MZW5ndGgiLCJ0b0NoaWxkQXJyYXkiLCJjaGlsZFZOb2RlIiwib3V0ZXIiLCJhcHBlbmRDaGlsZCIsIm5leHRTaWJsaW5nIiwiaW5zZXJ0QmVmb3JlIiwidW5tb3VudCIsImFwcGx5UmVmIiwiY2FsbGJhY2siLCJmbGF0dGVuZWQiLCJBcnJheSIsImlzQXJyYXkiLCJzZXRTdHlsZSIsInN0eWxlIiwic2V0UHJvcGVydHkiLCJ0ZXN0IiwiZG9tIiwib2xkVmFsdWUiLCJ1c2VDYXB0dXJlIiwibmFtZUxvd2VyIiwiY3NzVGV4dCIsInJlcGxhY2UiLCJ0b0xvd2VyQ2FzZSIsInNsaWNlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50UHJveHkiLCJfbGlzdGVuZXJzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInJlbW92ZUF0dHJpYnV0ZU5TIiwic2V0QXR0cmlidXRlTlMiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJlIiwiZXZlbnQiLCJuZXdWTm9kZSIsInRtcCIsImlzTmV3Iiwib2xkUHJvcHMiLCJvbGRTdGF0ZSIsInNuYXBzaG90IiwiY2xlYXJQcm9jZXNzaW5nRXhjZXB0aW9uIiwibmV3UHJvcHMiLCJwcm92aWRlciIsImNjdHgiLCJuZXdUeXBlIiwiX2RpZmYiLCJjb250ZXh0VHlwZSIsIl9pZCIsIl9kZWZhdWx0VmFsdWUiLCJfcHJvY2Vzc2luZ0V4Y2VwdGlvbiIsIl9wZW5kaW5nRXJyb3IiLCJyZW5kZXIiLCJkb1JlbmRlciIsInN1YiIsInN0YXRlIiwiX3JlbmRlckNhbGxiYWNrcyIsIl9uZXh0U3RhdGUiLCJnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMiLCJjb21wb25lbnRXaWxsTW91bnQiLCJjb21wb25lbnREaWRNb3VudCIsImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLCJfZm9yY2UiLCJzaG91bGRDb21wb25lbnRVcGRhdGUiLCJjb21wb25lbnRXaWxsVXBkYXRlIiwiY29tcG9uZW50RGlkVXBkYXRlIiwiX3JlbmRlciIsImdldENoaWxkQ29udGV4dCIsImdldFNuYXBzaG90QmVmb3JlVXBkYXRlIiwiZGlmZkVsZW1lbnROb2RlcyIsImRpZmZlZCIsIl9jYXRjaEVycm9yIiwicm9vdCIsIl9jb21taXQiLCJzb21lIiwiY2IiLCJvbGRIdG1sIiwibmV3SHRtbCIsIm5vZGVUeXBlIiwibG9jYWxOYW1lIiwiZG9jdW1lbnQiLCJjcmVhdGVUZXh0Tm9kZSIsImNyZWF0ZUVsZW1lbnROUyIsImRhdGEiLCJjaGlsZE5vZGVzIiwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwiLCJhdHRyaWJ1dGVzIiwiX19odG1sIiwiaW5uZXJIVE1MIiwiaHlkcmF0ZSIsImRpZmZQcm9wcyIsImNoZWNrZWQiLCJjdXJyZW50IiwicGFyZW50Vk5vZGUiLCJza2lwUmVtb3ZlIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJ0aGlzIiwicmVwbGFjZU5vZGUiLCJfcm9vdCIsImNsb25lRWxlbWVudCIsImNyZWF0ZUNvbnRleHQiLCJkZWZhdWx0VmFsdWUiLCJjdHgiLCJDb25zdW1lciIsIlByb3ZpZGVyIiwic3VicyIsIl90aGlzIiwiX3Byb3BzIiwib2xkIiwic3BsaWNlIiwiZXJyb3IiLCJoYXNDYXVnaHQiLCJnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IiLCJzZXRTdGF0ZSIsImNvbXBvbmVudERpZENhdGNoIiwidXBkYXRlIiwiZm9yY2VVcGRhdGUiLCJQcm9taXNlIiwidGhlbiIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiY3VycmVudEluZGV4IiwiY3VycmVudENvbXBvbmVudCIsInByZXZSYWYiLCJhZnRlclBhaW50RWZmZWN0cyIsIm9sZEJlZm9yZVJlbmRlciIsIm9sZEFmdGVyRGlmZiIsIm9sZENvbW1pdCIsIm9sZEJlZm9yZVVubW91bnQiLCJnZXRIb29rU3RhdGUiLCJpbmRleCIsIl9ob29rIiwiaG9va3MiLCJfX2hvb2tzIiwiX2xpc3QiLCJfcGVuZGluZ0VmZmVjdHMiLCJ1c2VTdGF0ZSIsImluaXRpYWxTdGF0ZSIsInVzZVJlZHVjZXIiLCJpbnZva2VPclJldHVybiIsInJlZHVjZXIiLCJpbml0IiwiaG9va1N0YXRlIiwiX3ZhbHVlIiwibmV4dFZhbHVlIiwiYWN0aW9uIiwidXNlRWZmZWN0IiwiYXJncyIsImFyZ3NDaGFuZ2VkIiwiX2FyZ3MiLCJ1c2VMYXlvdXRFZmZlY3QiLCJ1c2VSZWYiLCJpbml0aWFsVmFsdWUiLCJ1c2VNZW1vIiwidXNlSW1wZXJhdGl2ZUhhbmRsZSIsImNyZWF0ZUhhbmRsZSIsImNvbmNhdCIsImZhY3RvcnkiLCJfZmFjdG9yeSIsInVzZUNhbGxiYWNrIiwidXNlQ29udGV4dCIsInVzZURlYnVnVmFsdWUiLCJmb3JtYXR0ZXIiLCJmbHVzaEFmdGVyUGFpbnRFZmZlY3RzIiwiZm9yRWFjaCIsImludm9rZUNsZWFudXAiLCJpbnZva2VFZmZlY3QiLCJob29rIiwiX2NsZWFudXAiLCJyZXN1bHQiLCJvbGRBcmdzIiwibmV3QXJncyIsImFyZyIsImYiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJyYWYiLCJkb25lIiwiY2xlYXJUaW1lb3V0IiwidGltZW91dCIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwid2luZG93IiwiZmlsdGVyIiwic2hhbGxvd0RpZmZlcnMiLCJQdXJlQ29tcG9uZW50IiwiaXNQdXJlUmVhY3RDb21wb25lbnQiLCJvbGRWTm9kZUhvb2siLCJmb3J3YXJkUmVmIiwiZm4iLCJGb3J3YXJkZWQiLCJjbG9uZSIsImlzUmVhY3RDb21wb25lbnQiLCJfZm9yd2FyZGVkIiwiZGlzcGxheU5hbWUiLCJtYXBGbiIsIm1hcCIsIkNoaWxkcmVuIiwiY291bnQiLCJvbmx5IiwiRXJyb3IiLCJ0b0FycmF5Iiwib2xkQ2F0Y2hFcnJvciIsImRldGFjaGVkQ2xvbmUiLCJTdXNwZW5zZSIsIl9zdXNwZW5zaW9ucyIsIl9kZXRhY2hPbk5leHRSZW5kZXIiLCJzdXNwZW5kZWQiLCJfc3VzcGVuZGVkIiwiU3VzcGVuc2VMaXN0IiwiX25leHQiLCJfbWFwIiwiX2NoaWxkRGlkU3VzcGVuZCIsInByb21pc2UiLCJzdXNwZW5kaW5nQ29tcG9uZW50IiwicmVzb2x2ZWQiLCJvblJlc29sdmVkIiwib25TdXNwZW5zaW9uQ29tcGxldGUiLCJfc3VzcGVuZGVkQ29tcG9uZW50V2lsbFVubW91bnQiLCJmYWxsYmFjayIsImxpc3QiLCJkZWxldGUiLCJyZXZlYWxPcmRlciIsInNpemUiLCJkZWxlZ2F0ZWQiLCJ3cmFwcGVkVW5zdXNwZW5kIiwidW5zdXNwZW5kIiwiTWFwIiwicmV2ZXJzZSIsInNldCIsIkNvbnRleHRQcm92aWRlciIsIlBvcnRhbCIsImNvbnRhaW5lciIsIndyYXAiLCJfY29udGFpbmVyIiwiX3RlbXAiLCJfdW5tb3VudCIsIl93cmFwIiwiX2hhc01vdW50ZWQiLCJDQU1FTF9QUk9QUyIsIlJFQUNUX0VMRU1FTlRfVFlQRSIsImZvciIsInBhcmVudCIsImZpcnN0Q2hpbGQiLCJwcmVhY3RSZW5kZXIiLCJvbGRFdmVudEhvb2siLCJzZXRTYWZlRGVzY3JpcHRvciIsInByb3RvIiwiY29uZmlndXJhYmxlIiwidiIsInBlcnNpc3QiLCJuYXRpdmVFdmVudCIsImNsYXNzTmFtZURlc2NyaXB0b3IiLCJjbGFzcyIsIiQkdHlwZW9mIiwic2hvdWxkU2FuaXRpemUiLCJhdHRycyIsIm11bHRpcGxlIiwic2VsZWN0ZWQiLCJjbGFzc05hbWUiLCJvbmRvdWJsZWNsaWNrIiwib25kYmxjbGljayIsIm9uYmVmb3JlaW5wdXQiLCJvbmNoYW5nZSIsIm5vcm1hbGl6ZWQiLCJvbmlucHV0IiwiX3BhdGNoZWRMaWZlY3ljbGVzIiwiZWxlbWVudCIsInZlcnNpb24iLCJ1bm1vdW50Q29tcG9uZW50QXROb2RlIiwiY3JlYXRlUG9ydGFsIiwiY3JlYXRlRmFjdG9yeSIsInByZWFjdENsb25lRWxlbWVudCIsImFwcGx5IiwiZmluZERPTU5vZGUiLCJtZW1vIiwiY29tcGFyZXIiLCJzaG91bGRVcGRhdGUiLCJuZXh0UHJvcHMiLCJ1cGRhdGVSZWYiLCJNZW1vZWQiLCJ1bnN0YWJsZV9iYXRjaGVkVXBkYXRlcyIsImxhenkiLCJsb2FkZXIiLCJwcm9tIiwiTGF6eSIsImRlZmF1bHQiLCJxdWVyeVNlbGVjdG9yIiwic2VsZiIsIl9nb29iZXIiLCJoZWFkIiwiaWQiLCJ1IiwiSlNPTiIsInN0cmluZ2lmeSIsInNwbGl0IiwicmVkdWNlIiwiY2hhckNvZGVBdCIsImV4ZWMiLCJzaGlmdCIsInVuc2hpZnQiLCJ0YXJnZXQiLCJnIiwidGhlbWUiLCJzdHJpbmdzIiwicmF3IiwicmVxdWlyZSIsImxvYWRlZCIsIm5vZGVWYWx1ZSIsImgiLCJub2RlTmFtZSIsIl92ZG9tQ29tcG9uZW50IiwiaXRlcmF0b3IiLCJUeXBlRXJyb3IiLCJSZWZsZWN0IiwiY29uc3RydWN0IiwiSFRNTEVsZW1lbnQiLCJ3cml0YWJsZSIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiY3VzdG9tRWxlbWVudHMiLCJkZWZpbmUiLCJjb2xvcnMiLCIkRDEwIiwiJEQyMCIsIiREMzAiLCIkRDQwIiwiJEQ1MCIsIiRENTUiLCIkRDYwIiwiJEQ3MCIsIiREODAiLCIkQjAwIiwiJEIwNSIsIiRCMTAiLCIkQjIwIiwiJEIyNSIsIiRCMjciLCIkQjMwIiwiJEI0MCIsIiRCNTAiLCIkQjYwIiwic2lkZWJhciIsIiRiZyIsIiRkaXZpZGVyIiwiJGJnSG92ZXIiLCIkYmdBY3RpdmUiLCJUaGVtZUNvbnRleHQiLCJzZXR1cCIsIlN0eWxlZEJhc2UiLCJzdHlsZWQiLCJBcHAiLCJfZXh0ZW5kcyIsInNvdXJjZSIsInVzZUN1c3RvbUV2ZW50IiwiZXZlbnROYW1lIiwiZXZEYXRhIiwiZGlzcGF0Y2hFdmVudCIsIkN1c3RvbUV2ZW50IiwiZGV0YWlsIiwiYnViYmxlcyIsImFjdGlvbnMiLCJkZWZhdWx0Q29sdW1uIiwiQ2VsbCIsIndpZHRoIiwibWluV2lkdGgiLCJtYXhXaWR0aCIsIk51bWJlciIsIk1BWF9TQUZFX0lOVEVHRVIiLCJtZXJnZVByb3BzIiwicHJvcExpc3QiLCJuZXh0IiwibWFrZVByb3BHZXR0ZXIiLCJtZXRhIiwidXNlclByb3BzIiwiaGFuZGxlUHJvcEdldHRlciIsInByZXZQcm9wcyIsInByZXYiLCJyZWR1Y2VIb29rcyIsImluaXRpYWwiLCJsb29wSG9va3MiLCJlbnN1cmVQbHVnaW5PcmRlciIsInBsdWdpbnMiLCJiZWZvcmVzIiwicGx1Z2luTmFtZSIsImFmdGVycyIsInBsdWdpbiIsImJlZm9yZSIsImFmdGVyIiwiZnVuY3Rpb25hbFVwZGF0ZSIsInVwZGF0ZXIiLCJ1c2VHZXRMYXRlc3QiLCJSZWFjdCIsInVzZUNvbnN1bWVIb29rR2V0dGVyIiwiaG9va05hbWUiLCJtYWtlUmVuZGVyZXIiLCJpbnN0YW5jZSIsImNvbHVtbiIsIkNvbXAiLCJpc0NsYXNzQ29tcG9uZW50IiwiaXNGdW5jdGlvbkNvbXBvbmVudCIsImluY2x1ZGVzIiwiaXNFeG90aWNDb21wb25lbnQiLCJmbGV4UmVuZGVyIiwiZGVjb3JhdGVDb2x1bW4iLCJ1c2VyRGVmYXVsdENvbHVtbiIsImRlcHRoIiwiYWNjZXNzb3IiLCJIZWFkZXIiLCJhY2Nlc3NvclBhdGgiLCJyb3ciLCJwYXRoIiwiZGVmIiwiY2FjaGVLZXkiLCJwYXRoT2JqIiwicGF0aE9iakNhY2hlIiwiZmxhdHRlbkRlZXAiLCJhcnIiLCJuZXdBcnIiLCJTdHJpbmciLCJtYWtlUGF0aEFycmF5IiwidmFsIiwiY3Vyc29yIiwiZ2V0QnkiLCJjb25zb2xlIiwiRm9vdGVyIiwiZGVjb3JhdGVDb2x1bW5UcmVlIiwiY29sdW1ucyIsIm1ha2VIZWFkZXJHcm91cHMiLCJmbGF0Q29sdW1ucyIsImhlYWRlckdyb3VwcyIsImJ1aWxkR3JvdXAiLCJoZWFkZXJHcm91cCIsImhlYWRlcnMiLCJwYXJlbnRDb2x1bW5zIiwiaGFzUGFyZW50cyIsImNvbCIsImlzRmlyc3QiLCJsYXRlc3RQYXJlbnRDb2x1bW4iLCJzaW1pbGFyUGFyZW50Q29sdW1ucyIsIm9yaWdpbmFsSWQiLCJwbGFjZWhvbGRlckNvbHVtbiIsInBsYWNlaG9sZGVyT2YiLCJzdW0iLCJoZWFkZXIiLCJmbGF0dGVuQnkiLCJjaGlsZEtleSIsInJlY3Vyc2UiLCJyZU9wZW5CcmFja2V0IiwicmVDbG9zZUJyYWNrZXQiLCJkZWZhdWx0Q2VsbHMiLCJjZWxsIiwiZGVmYXVsdEdldEhlYWRlclByb3BzIiwiY29sU3BhbiIsInRvdGFsVmlzaWJsZUhlYWRlckNvdW50IiwiZGVmYXVsdEdldEZvb3RlclByb3BzIiwiZGVmYXVsdEdldEhlYWRlckdyb3VwUHJvcHMiLCJkZWZhdWx0R2V0Rm9vdGVyR3JvdXBQcm9wcyIsImRlZmF1bHRHZXRSb3dQcm9wcyIsImRlZmF1bHRHZXRDZWxsUHJvcHMiLCJtYWtlRGVmYXVsdFBsdWdpbkhvb2tzIiwidXNlT3B0aW9ucyIsInN0YXRlUmVkdWNlcnMiLCJ1c2VDb250cm9sbGVkU3RhdGUiLCJjb2x1bW5zRGVwcyIsImZsYXRDb2x1bW5zRGVwcyIsImhlYWRlckdyb3Vwc0RlcHMiLCJ1c2VJbnN0YW5jZUJlZm9yZURpbWVuc2lvbnMiLCJ1c2VJbnN0YW5jZSIsInVzZVJvd3MiLCJjZWxscyIsInByZXBhcmVSb3ciLCJnZXRUYWJsZVByb3BzIiwiZ2V0VGFibGVCb2R5UHJvcHMiLCJnZXRIZWFkZXJHcm91cFByb3BzIiwiZ2V0Rm9vdGVyR3JvdXBQcm9wcyIsImdldEhlYWRlclByb3BzIiwiZ2V0Rm9vdGVyUHJvcHMiLCJnZXRSb3dQcm9wcyIsImdldENlbGxQcm9wcyIsInVzZUZpbmFsSW5zdGFuY2UiLCJ1c2VDb2x1bW5WaXNpYmlsaXR5IiwiZGVmYXVsdEdldFRvZ2dsZUhpZGRlblByb3BzIiwib25DaGFuZ2UiLCJ0aXRsZSIsImRlZmF1bHRHZXRUb2dnbGVIaWRlQWxsQ29sdW1uc1Byb3BzIiwiaW5kZXRlcm1pbmF0ZSIsImhpZGRlbkNvbHVtbnMiLCJzdWJIZWFkZXIiLCJoYW5kbGVDb2x1bW4iLCJwYXJlbnRWaXNpYmxlIiwic3ViQ29sdW1uIiwiZmxhdEhlYWRlcnMiLCJkaXNwYXRjaCIsImdldEluc3RhbmNlIiwiYWxsQ29sdW1uc0hpZGRlbiIsInRvZ2dsZUhpZGVDb2x1bW4iLCJjb2x1bW5JZCIsInNldEhpZGRlbkNvbHVtbnMiLCJ0b2dnbGVIaWRlQWxsQ29sdW1ucyIsImdldFRvZ2dsZUhpZGVBbGxDb2x1bW5zUHJvcHNIb29rcyIsImdldFRvZ2dsZUhpZGVBbGxDb2x1bW5zUHJvcHMiLCJnZXRUb2dnbGVIaWRkZW5Qcm9wc0hvb2tzIiwiZGVmYXVsdEluaXRpYWxTdGF0ZSIsImRlZmF1bHRDb2x1bW5JbnN0YW5jZSIsImRlZmF1bHRSZWR1Y2VyIiwicHJldlN0YXRlIiwiZGVmYXVsdEdldFN1YlJvd3MiLCJkZWZhdWx0R2V0Um93SWQiLCJkZWZhdWx0VXNlQ29udHJvbGxlZFN0YXRlIiwiYXBwbHlEZWZhdWx0cyIsImdldFN1YlJvd3MiLCJnZXRSb3dJZCIsInN0YXRlUmVkdWNlciIsInVzZVRhYmxlIiwiaW5zdGFuY2VSZWYiLCJnZXRVc2VPcHRpb25zSG9va3MiLCJ1c2VyQ29sdW1ucyIsImdldFN0YXRlUmVkdWNlcnMiLCJnZXRTdGF0ZVJlZHVjZXIiLCJoYW5kbGVyIiwicmVkdWNlclN0YXRlIiwiZ2V0VXNlQ29udHJvbGxlZFN0YXRlSG9va3MiLCJnZXRDb2x1bW5zSG9va3MiLCJnZXRDb2x1bW5zRGVwc0hvb2tzIiwiZmxhdFJvd3MiLCJhY2Nlc3NSb3ciLCJvcmlnaW5hbFJvdyIsIm9yaWdpbmFsIiwic3ViUm93cyIsInVucHJlcGFyZWRBY2Nlc3NXYXJuaW5nIiwicm93cyIsImZsYXRDb2x1bW5zSG9va3MiLCJmbGF0Q29sdW1uc0RlcHNIb29rcyIsImdldEhlYWRlckdyb3VwcyIsImdldEhlYWRlckdyb3Vwc0RlcHMiLCJnZXRVc2VJbnN0YW5jZUJlZm9yZURpbWVuc2lvbnMiLCJjYWxjdWxhdGVIZWFkZXJXaWR0aHMiLCJ0b3RhbENvbHVtbnNNaW5XaWR0aCIsInRvdGFsQ29sdW1uc1dpZHRoIiwidG90YWxDb2x1bW5zTWF4V2lkdGgiLCJnZXRVc2VJbnN0YW5jZSIsImdldEhlYWRlclByb3BzSG9va3MiLCJnZXRGb290ZXJQcm9wc0hvb2tzIiwiZ2V0SGVhZGVyR3JvdXBQcm9wc0hvb2tzIiwiZ2V0Rm9vdGVyR3JvdXBQcm9wc0hvb2tzIiwiZ2V0VXNlUm93c0hvb2tzIiwiZ2V0UHJlcGFyZVJvd0hvb2tzIiwiZ2V0Um93UHJvcHNIb29rcyIsImdldENlbGxQcm9wc0hvb2tzIiwiY2VsbHNIb29rcyIsImdldFRhYmxlUHJvcHNIb29rcyIsImdldFRhYmxlQm9keVByb3BzSG9va3MiLCJnZXRVc2VGaW5hbEluc3RhbmNlSG9va3MiLCJsZWZ0Iiwic3VtVG90YWxNaW5XaWR0aCIsInN1bVRvdGFsV2lkdGgiLCJzdW1Ub3RhbE1heFdpZHRoIiwic3ViSGVhZGVycyIsInRvdGFsTWluV2lkdGgiLCJ0b3RhbFdpZHRoIiwidG90YWxNYXhXaWR0aCIsIk1hdGgiLCJ0ZXh0IiwiaWRzIiwiZmlsdGVyVmFsdWUiLCJyb3dWYWx1ZSIsImV4YWN0VGV4dCIsImV4YWN0VGV4dENhc2UiLCJpbmNsdWRlc0FsbCIsImV4YWN0IiwiZXF1YWxzIiwiYmV0d2VlbiIsIm1pbiIsIm1heCIsInRlbXAiLCJjZWxsU3R5bGVzIiwicG9zaXRpb24iLCJ0b3AiLCJ1c2VBYnNvbHV0ZUxheW91dCIsImdldFJvd1N0eWxlcyIsIlRhYmxlIiwiZGF0YVN0YXRlIiwic2V0RGF0YSIsImNvbHVtbnNTdGF0ZSIsInNldENvbHVtbnMiLCJjb21wb25lbnRSZWYiLCJwYXJzZWREYXRhIiwicGFyc2UiLCJwYXJzZWRDb2x1bW5zIiwibG9nIiwiU3R5bGVzIiwib25DbGljayIsInZhbHVlcyIsInJlZ2lzdGVyIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxF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QUs0QixlQUEvQixDQUErQzVOLFVBQVUsS0FBekQsdUNBQ0dnTSxFQUFLN1ksT0FBTyxxQkFlL0N5aEIsR0FBU2pQLFlBQU8sTUFBUEEsQ0FBSCxNQUdNLFNBQUM5WixHQUFELE9BQVdBLEVBQU0rVyxNQUFNbUIsT0FBT1MsUUFRNUIsU0FBQzNZLEdBQUQsT0FBV0EsRUFBTStXLE1BQU1tQixPQUFPaUIsUUFHNUIsU0FBQ25aLEdBQUQsT0FBV0EsRUFBTStXLE1BQU1tQixPQUFPaUIsUUFXbkIsU0FBQ25aLEdBQUQsT0FBV0EsRUFBTStXLE1BQU1tQixPQUFPTyxRQUd6QyxTQUFDelksR0FBRCxPQUFXQSxFQUFNK1csTUFBTW1CLE9BQU9rQixRQXdCcEQ4UCxJQUFTYixHQUFPLFVBQVcsQ0FBQyxVQUFXLFNBRXhCQSIsImZpbGUiOiJUYWJsZS9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxNyk7XG4iLCJleHBvcnQgY29uc3QgRU1QVFlfT0JKID0ge307XG5leHBvcnQgY29uc3QgRU1QVFlfQVJSID0gW107XG5leHBvcnQgY29uc3QgSVNfTk9OX0RJTUVOU0lPTkFMID0gL2FjaXR8ZXgoPzpzfGd8bnxwfCQpfHJwaHxncmlkfG93c3xtbmN8bnR3fGluZVtjaF18em9vfF5vcmQvaTtcbiIsImltcG9ydCB7IF9jYXRjaEVycm9yIH0gZnJvbSAnLi9kaWZmL2NhdGNoLWVycm9yJztcblxuLyoqIEB0eXBlIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5PcHRpb25zfSAgKi9cbmNvbnN0IG9wdGlvbnMgPSB7XG5cdF9jYXRjaEVycm9yXG59O1xuXG5leHBvcnQgZGVmYXVsdCBvcHRpb25zO1xuIiwiaW1wb3J0IG9wdGlvbnMgZnJvbSAnLi9vcHRpb25zJztcblxuLyoqXG4gKiBDcmVhdGUgYW4gdmlydHVhbCBub2RlICh1c2VkIGZvciBKU1gpXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlZOb2RlW1widHlwZVwiXX0gdHlwZSBUaGUgbm9kZSBuYW1lIG9yIENvbXBvbmVudFxuICogY29uc3RydWN0b3IgZm9yIHRoaXMgdmlydHVhbCBub2RlXG4gKiBAcGFyYW0ge29iamVjdCB8IG51bGwgfCB1bmRlZmluZWR9IFtwcm9wc10gVGhlIHByb3BlcnRpZXMgb2YgdGhlIHZpcnR1YWwgbm9kZVxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoJy4nKS5Db21wb25lbnRDaGlsZHJlbj59IFtjaGlsZHJlbl0gVGhlIGNoaWxkcmVuIG9mIHRoZSB2aXJ0dWFsIG5vZGVcbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQodHlwZSwgcHJvcHMsIGNoaWxkcmVuKSB7XG5cdGxldCBub3JtYWxpemVkUHJvcHMgPSB7fSxcblx0XHRpO1xuXHRmb3IgKGkgaW4gcHJvcHMpIHtcblx0XHRpZiAoaSAhPT0gJ2tleScgJiYgaSAhPT0gJ3JlZicpIG5vcm1hbGl6ZWRQcm9wc1tpXSA9IHByb3BzW2ldO1xuXHR9XG5cblx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPiAzKSB7XG5cdFx0Y2hpbGRyZW4gPSBbY2hpbGRyZW5dO1xuXHRcdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9wcmVhY3Rqcy9wcmVhY3QvaXNzdWVzLzE5MTZcblx0XHRmb3IgKGkgPSAzOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjaGlsZHJlbi5wdXNoKGFyZ3VtZW50c1tpXSk7XG5cdFx0fVxuXHR9XG5cdGlmIChjaGlsZHJlbiAhPSBudWxsKSB7XG5cdFx0bm9ybWFsaXplZFByb3BzLmNoaWxkcmVuID0gY2hpbGRyZW47XG5cdH1cblxuXHQvLyBJZiBhIENvbXBvbmVudCBWTm9kZSwgY2hlY2sgZm9yIGFuZCBhcHBseSBkZWZhdWx0UHJvcHNcblx0Ly8gTm90ZTogdHlwZSBtYXkgYmUgdW5kZWZpbmVkIGluIGRldmVsb3BtZW50LCBtdXN0IG5ldmVyIGVycm9yIGhlcmUuXG5cdGlmICh0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlLmRlZmF1bHRQcm9wcyAhPSBudWxsKSB7XG5cdFx0Zm9yIChpIGluIHR5cGUuZGVmYXVsdFByb3BzKSB7XG5cdFx0XHRpZiAobm9ybWFsaXplZFByb3BzW2ldID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0bm9ybWFsaXplZFByb3BzW2ldID0gdHlwZS5kZWZhdWx0UHJvcHNbaV07XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGNyZWF0ZVZOb2RlKFxuXHRcdHR5cGUsXG5cdFx0bm9ybWFsaXplZFByb3BzLFxuXHRcdHByb3BzICYmIHByb3BzLmtleSxcblx0XHRwcm9wcyAmJiBwcm9wcy5yZWZcblx0KTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBWTm9kZSAodXNlZCBpbnRlcm5hbGx5IGJ5IFByZWFjdClcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuVk5vZGVbXCJ0eXBlXCJdfSB0eXBlIFRoZSBub2RlIG5hbWUgb3IgQ29tcG9uZW50XG4gKiBDb25zdHJ1Y3RvciBmb3IgdGhpcyB2aXJ0dWFsIG5vZGVcbiAqIEBwYXJhbSB7b2JqZWN0IHwgc3RyaW5nIHwgbnVtYmVyIHwgbnVsbH0gcHJvcHMgVGhlIHByb3BlcnRpZXMgb2YgdGhpcyB2aXJ0dWFsIG5vZGUuXG4gKiBJZiB0aGlzIHZpcnR1YWwgbm9kZSByZXByZXNlbnRzIGEgdGV4dCBub2RlLCB0aGlzIGlzIHRoZSB0ZXh0IG9mIHRoZSBub2RlIChzdHJpbmcgb3IgbnVtYmVyKS5cbiAqIEBwYXJhbSB7c3RyaW5nIHwgbnVtYmVyIHwgbnVsbH0ga2V5IFRoZSBrZXkgZm9yIHRoaXMgdmlydHVhbCBub2RlLCB1c2VkIHdoZW5cbiAqIGRpZmZpbmcgaXQgYWdhaW5zdCBpdHMgY2hpbGRyZW5cbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuVk5vZGVbXCJyZWZcIl19IHJlZiBUaGUgcmVmIHByb3BlcnR5IHRoYXQgd2lsbFxuICogcmVjZWl2ZSBhIHJlZmVyZW5jZSB0byBpdHMgY3JlYXRlZCBjaGlsZFxuICogQHJldHVybnMge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlZOb2RlfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVk5vZGUodHlwZSwgcHJvcHMsIGtleSwgcmVmKSB7XG5cdC8vIFY4IHNlZW1zIHRvIGJlIGJldHRlciBhdCBkZXRlY3RpbmcgdHlwZSBzaGFwZXMgaWYgdGhlIG9iamVjdCBpcyBhbGxvY2F0ZWQgZnJvbSB0aGUgc2FtZSBjYWxsIHNpdGVcblx0Ly8gRG8gbm90IGlubGluZSBpbnRvIGNyZWF0ZUVsZW1lbnQgYW5kIGNvZXJjZVRvVk5vZGUhXG5cdGNvbnN0IHZub2RlID0ge1xuXHRcdHR5cGUsXG5cdFx0cHJvcHMsXG5cdFx0a2V5LFxuXHRcdHJlZixcblx0XHRfY2hpbGRyZW46IG51bGwsXG5cdFx0X3BhcmVudDogbnVsbCxcblx0XHRfZGVwdGg6IDAsXG5cdFx0X2RvbTogbnVsbCxcblx0XHRfbGFzdERvbUNoaWxkOiBudWxsLFxuXHRcdF9jb21wb25lbnQ6IG51bGwsXG5cdFx0Y29uc3RydWN0b3I6IHVuZGVmaW5lZFxuXHR9O1xuXG5cdGlmIChvcHRpb25zLnZub2RlKSBvcHRpb25zLnZub2RlKHZub2RlKTtcblxuXHRyZXR1cm4gdm5vZGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVSZWYoKSB7XG5cdHJldHVybiB7fTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEZyYWdtZW50KHByb3BzKSB7XG5cdHJldHVybiBwcm9wcy5jaGlsZHJlbjtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiBhIHRoZSBhcmd1bWVudCBpcyBhIHZhbGlkIFByZWFjdCBWTm9kZS5cbiAqIEBwYXJhbSB7Kn0gdm5vZGVcbiAqIEByZXR1cm5zIHt2bm9kZSBpcyBpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZX1cbiAqL1xuZXhwb3J0IGNvbnN0IGlzVmFsaWRFbGVtZW50ID0gdm5vZGUgPT5cblx0dm5vZGUgIT0gbnVsbCAmJiB2bm9kZS5jb25zdHJ1Y3RvciA9PT0gdW5kZWZpbmVkO1xuIiwiaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnLi91dGlsJztcbmltcG9ydCB7IGRpZmYsIGNvbW1pdFJvb3QgfSBmcm9tICcuL2RpZmYvaW5kZXgnO1xuaW1wb3J0IG9wdGlvbnMgZnJvbSAnLi9vcHRpb25zJztcbmltcG9ydCB7IEZyYWdtZW50IH0gZnJvbSAnLi9jcmVhdGUtZWxlbWVudCc7XG5cbi8qKlxuICogQmFzZSBDb21wb25lbnQgY2xhc3MuIFByb3ZpZGVzIGBzZXRTdGF0ZSgpYCBhbmQgYGZvcmNlVXBkYXRlKClgLCB3aGljaFxuICogdHJpZ2dlciByZW5kZXJpbmdcbiAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wcyBUaGUgaW5pdGlhbCBjb21wb25lbnQgcHJvcHNcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb250ZXh0IFRoZSBpbml0aWFsIGNvbnRleHQgZnJvbSBwYXJlbnQgY29tcG9uZW50cydcbiAqIGdldENoaWxkQ29udGV4dFxuICovXG5leHBvcnQgZnVuY3Rpb24gQ29tcG9uZW50KHByb3BzLCBjb250ZXh0KSB7XG5cdHRoaXMucHJvcHMgPSBwcm9wcztcblx0dGhpcy5jb250ZXh0ID0gY29udGV4dDtcbn1cblxuLyoqXG4gKiBVcGRhdGUgY29tcG9uZW50IHN0YXRlIGFuZCBzY2hlZHVsZSBhIHJlLXJlbmRlci5cbiAqIEBwYXJhbSB7b2JqZWN0IHwgKChzOiBvYmplY3QsIHA6IG9iamVjdCkgPT4gb2JqZWN0KX0gdXBkYXRlIEEgaGFzaCBvZiBzdGF0ZVxuICogcHJvcGVydGllcyB0byB1cGRhdGUgd2l0aCBuZXcgdmFsdWVzIG9yIGEgZnVuY3Rpb24gdGhhdCBnaXZlbiB0aGUgY3VycmVudFxuICogc3RhdGUgYW5kIHByb3BzIHJldHVybnMgYSBuZXcgcGFydGlhbCBzdGF0ZVxuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBbY2FsbGJhY2tdIEEgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIG9uY2UgY29tcG9uZW50IHN0YXRlIGlzXG4gKiB1cGRhdGVkXG4gKi9cbkNvbXBvbmVudC5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbih1cGRhdGUsIGNhbGxiYWNrKSB7XG5cdC8vIG9ubHkgY2xvbmUgc3RhdGUgd2hlbiBjb3B5aW5nIHRvIG5leHRTdGF0ZSB0aGUgZmlyc3QgdGltZS5cblx0bGV0IHM7XG5cdGlmICh0aGlzLl9uZXh0U3RhdGUgIT09IHRoaXMuc3RhdGUpIHtcblx0XHRzID0gdGhpcy5fbmV4dFN0YXRlO1xuXHR9IGVsc2Uge1xuXHRcdHMgPSB0aGlzLl9uZXh0U3RhdGUgPSBhc3NpZ24oe30sIHRoaXMuc3RhdGUpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiB1cGRhdGUgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdHVwZGF0ZSA9IHVwZGF0ZShzLCB0aGlzLnByb3BzKTtcblx0fVxuXG5cdGlmICh1cGRhdGUpIHtcblx0XHRhc3NpZ24ocywgdXBkYXRlKTtcblx0fVxuXG5cdC8vIFNraXAgdXBkYXRlIGlmIHVwZGF0ZXIgZnVuY3Rpb24gcmV0dXJuZWQgbnVsbFxuXHRpZiAodXBkYXRlID09IG51bGwpIHJldHVybjtcblxuXHRpZiAodGhpcy5fdm5vZGUpIHtcblx0XHR0aGlzLl9mb3JjZSA9IGZhbHNlO1xuXHRcdGlmIChjYWxsYmFjaykgdGhpcy5fcmVuZGVyQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuXHRcdGVucXVldWVSZW5kZXIodGhpcyk7XG5cdH1cbn07XG5cbi8qKlxuICogSW1tZWRpYXRlbHkgcGVyZm9ybSBhIHN5bmNocm9ub3VzIHJlLXJlbmRlciBvZiB0aGUgY29tcG9uZW50XG4gKiBAcGFyYW0geygpID0+IHZvaWR9IFtjYWxsYmFja10gQSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgYWZ0ZXIgY29tcG9uZW50IGlzXG4gKiByZS1yZW5kZXJlZFxuICovXG5Db21wb25lbnQucHJvdG90eXBlLmZvcmNlVXBkYXRlID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0aWYgKHRoaXMuX3Zub2RlKSB7XG5cdFx0Ly8gU2V0IHJlbmRlciBtb2RlIHNvIHRoYXQgd2UgY2FuIGRpZmZlcmVudGlhdGUgd2hlcmUgdGhlIHJlbmRlciByZXF1ZXN0XG5cdFx0Ly8gaXMgY29taW5nIGZyb20uIFdlIG5lZWQgdGhpcyBiZWNhdXNlIGZvcmNlVXBkYXRlIHNob3VsZCBuZXZlciBjYWxsXG5cdFx0Ly8gc2hvdWxkQ29tcG9uZW50VXBkYXRlXG5cdFx0dGhpcy5fZm9yY2UgPSB0cnVlO1xuXHRcdGlmIChjYWxsYmFjaykgdGhpcy5fcmVuZGVyQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuXHRcdGVucXVldWVSZW5kZXIodGhpcyk7XG5cdH1cbn07XG5cbi8qKlxuICogQWNjZXB0cyBgcHJvcHNgIGFuZCBgc3RhdGVgLCBhbmQgcmV0dXJucyBhIG5ldyBWaXJ0dWFsIERPTSB0cmVlIHRvIGJ1aWxkLlxuICogVmlydHVhbCBET00gaXMgZ2VuZXJhbGx5IGNvbnN0cnVjdGVkIHZpYSBbSlNYXShodHRwOi8vamFzb25mb3JtYXQuY29tL3d0Zi1pcy1qc3gpLlxuICogQHBhcmFtIHtvYmplY3R9IHByb3BzIFByb3BzIChlZzogSlNYIGF0dHJpYnV0ZXMpIHJlY2VpdmVkIGZyb20gcGFyZW50XG4gKiBlbGVtZW50L2NvbXBvbmVudFxuICogQHBhcmFtIHtvYmplY3R9IHN0YXRlIFRoZSBjb21wb25lbnQncyBjdXJyZW50IHN0YXRlXG4gKiBAcGFyYW0ge29iamVjdH0gY29udGV4dCBDb250ZXh0IG9iamVjdCwgYXMgcmV0dXJuZWQgYnkgdGhlIG5lYXJlc3RcbiAqIGFuY2VzdG9yJ3MgYGdldENoaWxkQ29udGV4dCgpYFxuICogQHJldHVybnMge2ltcG9ydCgnLi9pbmRleCcpLkNvbXBvbmVudENoaWxkcmVuIHwgdm9pZH1cbiAqL1xuQ29tcG9uZW50LnByb3RvdHlwZS5yZW5kZXIgPSBGcmFnbWVudDtcblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlZOb2RlfSB2bm9kZVxuICogQHBhcmFtIHtudW1iZXIgfCBudWxsfSBbY2hpbGRJbmRleF1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldERvbVNpYmxpbmcodm5vZGUsIGNoaWxkSW5kZXgpIHtcblx0aWYgKGNoaWxkSW5kZXggPT0gbnVsbCkge1xuXHRcdC8vIFVzZSBjaGlsZEluZGV4PT1udWxsIGFzIGEgc2lnbmFsIHRvIHJlc3VtZSB0aGUgc2VhcmNoIGZyb20gdGhlIHZub2RlJ3Mgc2libGluZ1xuXHRcdHJldHVybiB2bm9kZS5fcGFyZW50XG5cdFx0XHQ/IGdldERvbVNpYmxpbmcodm5vZGUuX3BhcmVudCwgdm5vZGUuX3BhcmVudC5fY2hpbGRyZW4uaW5kZXhPZih2bm9kZSkgKyAxKVxuXHRcdFx0OiBudWxsO1xuXHR9XG5cblx0bGV0IHNpYmxpbmc7XG5cdGZvciAoOyBjaGlsZEluZGV4IDwgdm5vZGUuX2NoaWxkcmVuLmxlbmd0aDsgY2hpbGRJbmRleCsrKSB7XG5cdFx0c2libGluZyA9IHZub2RlLl9jaGlsZHJlbltjaGlsZEluZGV4XTtcblxuXHRcdGlmIChzaWJsaW5nICE9IG51bGwgJiYgc2libGluZy5fZG9tICE9IG51bGwpIHtcblx0XHRcdC8vIFNpbmNlIHVwZGF0ZVBhcmVudERvbVBvaW50ZXJzIGtlZXBzIF9kb20gcG9pbnRlciBjb3JyZWN0LFxuXHRcdFx0Ly8gd2UgY2FuIHJlbHkgb24gX2RvbSB0byB0ZWxsIHVzIGlmIHRoaXMgc3VidHJlZSBjb250YWlucyBhXG5cdFx0XHQvLyByZW5kZXJlZCBET00gbm9kZSwgYW5kIHdoYXQgdGhlIGZpcnN0IHJlbmRlcmVkIERPTSBub2RlIGlzXG5cdFx0XHRyZXR1cm4gc2libGluZy5fZG9tO1xuXHRcdH1cblx0fVxuXG5cdC8vIElmIHdlIGdldCBoZXJlLCB3ZSBoYXZlIG5vdCBmb3VuZCBhIERPTSBub2RlIGluIHRoaXMgdm5vZGUncyBjaGlsZHJlbi5cblx0Ly8gV2UgbXVzdCByZXN1bWUgZnJvbSB0aGlzIHZub2RlJ3Mgc2libGluZyAoaW4gaXQncyBwYXJlbnQgX2NoaWxkcmVuIGFycmF5KVxuXHQvLyBPbmx5IGNsaW1iIHVwIGFuZCBzZWFyY2ggdGhlIHBhcmVudCBpZiB3ZSBhcmVuJ3Qgc2VhcmNoaW5nIHRocm91Z2ggYSBET01cblx0Ly8gVk5vZGUgKG1lYW5pbmcgd2UgcmVhY2hlZCB0aGUgRE9NIHBhcmVudCBvZiB0aGUgb3JpZ2luYWwgdm5vZGUgdGhhdCBiZWdhblxuXHQvLyB0aGUgc2VhcmNoKVxuXHRyZXR1cm4gdHlwZW9mIHZub2RlLnR5cGUgPT09ICdmdW5jdGlvbicgPyBnZXREb21TaWJsaW5nKHZub2RlKSA6IG51bGw7XG59XG5cbi8qKlxuICogVHJpZ2dlciBpbi1wbGFjZSByZS1yZW5kZXJpbmcgb2YgYSBjb21wb25lbnQuXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLkNvbXBvbmVudH0gY29tcG9uZW50IFRoZSBjb21wb25lbnQgdG8gcmVyZW5kZXJcbiAqL1xuZnVuY3Rpb24gcmVuZGVyQ29tcG9uZW50KGNvbXBvbmVudCkge1xuXHRsZXQgdm5vZGUgPSBjb21wb25lbnQuX3Zub2RlLFxuXHRcdG9sZERvbSA9IHZub2RlLl9kb20sXG5cdFx0cGFyZW50RG9tID0gY29tcG9uZW50Ll9wYXJlbnREb207XG5cblx0aWYgKHBhcmVudERvbSkge1xuXHRcdGxldCBjb21taXRRdWV1ZSA9IFtdO1xuXHRcdGxldCBuZXdEb20gPSBkaWZmKFxuXHRcdFx0cGFyZW50RG9tLFxuXHRcdFx0dm5vZGUsXG5cdFx0XHRhc3NpZ24oe30sIHZub2RlKSxcblx0XHRcdGNvbXBvbmVudC5fY29udGV4dCxcblx0XHRcdHBhcmVudERvbS5vd25lclNWR0VsZW1lbnQgIT09IHVuZGVmaW5lZCxcblx0XHRcdG51bGwsXG5cdFx0XHRjb21taXRRdWV1ZSxcblx0XHRcdG9sZERvbSA9PSBudWxsID8gZ2V0RG9tU2libGluZyh2bm9kZSkgOiBvbGREb21cblx0XHQpO1xuXHRcdGNvbW1pdFJvb3QoY29tbWl0UXVldWUsIHZub2RlKTtcblxuXHRcdGlmIChuZXdEb20gIT0gb2xkRG9tKSB7XG5cdFx0XHR1cGRhdGVQYXJlbnREb21Qb2ludGVycyh2bm9kZSk7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZX0gdm5vZGVcbiAqL1xuZnVuY3Rpb24gdXBkYXRlUGFyZW50RG9tUG9pbnRlcnModm5vZGUpIHtcblx0aWYgKCh2bm9kZSA9IHZub2RlLl9wYXJlbnQpICE9IG51bGwgJiYgdm5vZGUuX2NvbXBvbmVudCAhPSBudWxsKSB7XG5cdFx0dm5vZGUuX2RvbSA9IHZub2RlLl9jb21wb25lbnQuYmFzZSA9IG51bGw7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB2bm9kZS5fY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcblx0XHRcdGxldCBjaGlsZCA9IHZub2RlLl9jaGlsZHJlbltpXTtcblx0XHRcdGlmIChjaGlsZCAhPSBudWxsICYmIGNoaWxkLl9kb20gIT0gbnVsbCkge1xuXHRcdFx0XHR2bm9kZS5fZG9tID0gdm5vZGUuX2NvbXBvbmVudC5iYXNlID0gY2hpbGQuX2RvbTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHVwZGF0ZVBhcmVudERvbVBvaW50ZXJzKHZub2RlKTtcblx0fVxufVxuXG4vKipcbiAqIFRoZSByZW5kZXIgcXVldWVcbiAqIEB0eXBlIHtBcnJheTxpbXBvcnQoJy4vaW50ZXJuYWwnKS5Db21wb25lbnQ+fVxuICovXG5sZXQgcSA9IFtdO1xuXG4vKipcbiAqIEFzeW5jaHJvbm91c2x5IHNjaGVkdWxlIGEgY2FsbGJhY2tcbiAqIEB0eXBlIHsoY2I6ICgpID0+IHZvaWQpID0+IHZvaWR9XG4gKi9cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4vLyBOb3RlIHRoZSBmb2xsb3dpbmcgbGluZSBpc24ndCB0cmVlLXNoYWtlbiBieSByb2xsdXAgY3V6IG9mIHJvbGx1cC9yb2xsdXAjMjU2NlxuY29uc3QgZGVmZXIgPVxuXHR0eXBlb2YgUHJvbWlzZSA9PSAnZnVuY3Rpb24nXG5cdFx0PyBQcm9taXNlLnByb3RvdHlwZS50aGVuLmJpbmQoUHJvbWlzZS5yZXNvbHZlKCkpXG5cdFx0OiBzZXRUaW1lb3V0O1xuXG4vKlxuICogVGhlIHZhbHVlIG9mIGBDb21wb25lbnQuZGVib3VuY2VgIG11c3QgYXN5bmNocm9ub3VzbHkgaW52b2tlIHRoZSBwYXNzZWQgaW4gY2FsbGJhY2suIEl0IGlzXG4gKiBpbXBvcnRhbnQgdGhhdCBjb250cmlidXRvcnMgdG8gUHJlYWN0IGNhbiBjb25zaXN0ZW50bHkgcmVhc29uIGFib3V0IHdoYXQgY2FsbHMgdG8gYHNldFN0YXRlYCwgZXRjLlxuICogZG8sIGFuZCB3aGVuIHRoZWlyIGVmZmVjdHMgd2lsbCBiZSBhcHBsaWVkLiBTZWUgdGhlIGxpbmtzIGJlbG93IGZvciBzb21lIGZ1cnRoZXIgcmVhZGluZyBvbiBkZXNpZ25pbmdcbiAqIGFzeW5jaHJvbm91cyBBUElzLlxuICogKiBbRGVzaWduaW5nIEFQSXMgZm9yIEFzeW5jaHJvbnldKGh0dHBzOi8vYmxvZy5penMubWUvMjAxMy8wOC9kZXNpZ25pbmctYXBpcy1mb3ItYXN5bmNocm9ueSlcbiAqICogW0NhbGxiYWNrcyBzeW5jaHJvbm91cyBhbmQgYXN5bmNocm9ub3VzXShodHRwczovL2Jsb2cub21ldGVyLmNvbS8yMDExLzA3LzI0L2NhbGxiYWNrcy1zeW5jaHJvbm91cy1hbmQtYXN5bmNocm9ub3VzLylcbiAqL1xuXG5sZXQgcHJldkRlYm91bmNlO1xuXG4vKipcbiAqIEVucXVldWUgYSByZXJlbmRlciBvZiBhIGNvbXBvbmVudFxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5Db21wb25lbnR9IGMgVGhlIGNvbXBvbmVudCB0byByZXJlbmRlclxuICovXG5leHBvcnQgZnVuY3Rpb24gZW5xdWV1ZVJlbmRlcihjKSB7XG5cdGlmIChcblx0XHQoIWMuX2RpcnR5ICYmIChjLl9kaXJ0eSA9IHRydWUpICYmIHEucHVzaChjKSA9PT0gMSkgfHxcblx0XHRwcmV2RGVib3VuY2UgIT09IG9wdGlvbnMuZGVib3VuY2VSZW5kZXJpbmdcblx0KSB7XG5cdFx0cHJldkRlYm91bmNlID0gb3B0aW9ucy5kZWJvdW5jZVJlbmRlcmluZztcblx0XHQocHJldkRlYm91bmNlIHx8IGRlZmVyKShwcm9jZXNzKTtcblx0fVxufVxuXG4vKiogRmx1c2ggdGhlIHJlbmRlciBxdWV1ZSBieSByZXJlbmRlcmluZyBhbGwgcXVldWVkIGNvbXBvbmVudHMgKi9cbmZ1bmN0aW9uIHByb2Nlc3MoKSB7XG5cdGxldCBwO1xuXHRxLnNvcnQoKGEsIGIpID0+IGIuX3Zub2RlLl9kZXB0aCAtIGEuX3Zub2RlLl9kZXB0aCk7XG5cdHdoaWxlICgocCA9IHEucG9wKCkpKSB7XG5cdFx0Ly8gZm9yY2VVcGRhdGUncyBjYWxsYmFjayBhcmd1bWVudCBpcyByZXVzZWQgaGVyZSB0byBpbmRpY2F0ZSBhIG5vbi1mb3JjZWQgdXBkYXRlLlxuXHRcdGlmIChwLl9kaXJ0eSkgcmVuZGVyQ29tcG9uZW50KHApO1xuXHR9XG59XG4iLCJpbXBvcnQge1xuXHRyZW5kZXIgYXMgcHJlYWN0UmVuZGVyLFxuXHRvcHRpb25zLFxuXHR0b0NoaWxkQXJyYXksXG5cdENvbXBvbmVudFxufSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IHsgYXBwbHlFdmVudE5vcm1hbGl6YXRpb24gfSBmcm9tICcuL2V2ZW50cyc7XG5cbmNvbnN0IENBTUVMX1BST1BTID0gL14oPzphY2NlbnR8YWxpZ25tZW50fGFyYWJpY3xiYXNlbGluZXxjYXB8Y2xpcHxjb2xvcnxmaWxsfGZsb29kfGZvbnR8Z2x5cGh8aG9yaXp8bWFya2VyfG92ZXJsaW5lfHBhaW50fHN0b3B8c3RyaWtldGhyb3VnaHxzdHJva2V8dGV4dHx1bmRlcmxpbmV8dW5pY29kZXx1bml0c3x2fHZlY3Rvcnx2ZXJ0fHdvcmR8d3JpdGluZ3x4KVtBLVpdLztcblxuLy8gU29tZSBsaWJyYXJpZXMgbGlrZSBgcmVhY3QtdmlydHVhbGl6ZWRgIGV4cGxpY2l0bHkgY2hlY2sgZm9yIHRoaXMuXG5Db21wb25lbnQucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQgPSB7fTtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmV4cG9ydCBjb25zdCBSRUFDVF9FTEVNRU5UX1RZUEUgPVxuXHQodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiZcblx0XHRTeW1ib2wuZm9yICYmXG5cdFx0U3ltYm9sLmZvcigncmVhY3QuZWxlbWVudCcpKSB8fFxuXHQweGVhYzc7XG5cbi8qKlxuICogUHJveHkgcmVuZGVyKCkgc2luY2UgUmVhY3QgcmV0dXJucyBhIENvbXBvbmVudCByZWZlcmVuY2UuXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlZOb2RlfSB2bm9kZSBWTm9kZSB0cmVlIHRvIHJlbmRlclxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5QcmVhY3RFbGVtZW50fSBwYXJlbnQgRE9NIG5vZGUgdG8gcmVuZGVyIHZub2RlIHRyZWUgaW50b1xuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBbY2FsbGJhY2tdIE9wdGlvbmFsIGNhbGxiYWNrIHRoYXQgd2lsbCBiZSBjYWxsZWQgYWZ0ZXIgcmVuZGVyaW5nXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL2ludGVybmFsJykuQ29tcG9uZW50IHwgbnVsbH0gVGhlIHJvb3QgY29tcG9uZW50IHJlZmVyZW5jZSBvciBudWxsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXIodm5vZGUsIHBhcmVudCwgY2FsbGJhY2spIHtcblx0Ly8gUmVhY3QgZGVzdHJveXMgYW55IGV4aXN0aW5nIERPTSBub2Rlcywgc2VlICMxNzI3XG5cdC8vIC4uLmJ1dCBvbmx5IG9uIHRoZSBmaXJzdCByZW5kZXIsIHNlZSAjMTgyOFxuXHRpZiAocGFyZW50Ll9jaGlsZHJlbiA9PSBudWxsKSB7XG5cdFx0d2hpbGUgKHBhcmVudC5maXJzdENoaWxkKSB7XG5cdFx0XHRwYXJlbnQucmVtb3ZlQ2hpbGQocGFyZW50LmZpcnN0Q2hpbGQpO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBoeWRyYXRlKHZub2RlLCBwYXJlbnQsIGNhbGxiYWNrKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGUodm5vZGUsIHBhcmVudCwgY2FsbGJhY2spIHtcblx0cHJlYWN0UmVuZGVyKHZub2RlLCBwYXJlbnQpO1xuXHRpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSBjYWxsYmFjaygpO1xuXG5cdHJldHVybiB2bm9kZSA/IHZub2RlLl9jb21wb25lbnQgOiBudWxsO1xufVxuXG5sZXQgb2xkRXZlbnRIb29rID0gb3B0aW9ucy5ldmVudDtcbm9wdGlvbnMuZXZlbnQgPSBlID0+IHtcblx0aWYgKG9sZEV2ZW50SG9vaykgZSA9IG9sZEV2ZW50SG9vayhlKTtcblx0ZS5wZXJzaXN0ID0gKCkgPT4ge307XG5cdHJldHVybiAoZS5uYXRpdmVFdmVudCA9IGUpO1xufTtcblxuLy8gUGF0Y2ggaW4gYFVOU0FGRV8qYCBsaWZlY3ljbGUgaG9va3NcbmZ1bmN0aW9uIHNldFNhZmVEZXNjcmlwdG9yKHByb3RvLCBrZXkpIHtcblx0aWYgKHByb3RvWydVTlNBRkVfJyArIGtleV0gJiYgIXByb3RvW2tleV0pIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG8sIGtleSwge1xuXHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcblx0XHRcdGdldCgpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXNbJ1VOU0FGRV8nICsga2V5XTtcblx0XHRcdH0sXG5cdFx0XHQvLyBUaGlzIGBzZXRgIGlzIG9ubHkgdXNlZCBpZiBhIHVzZXIgc2V0cyBhIGxpZmVjeWNsZSBsaWtlIGNXVVxuXHRcdFx0Ly8gYWZ0ZXIgc2V0dGluZyBhIGxpZmVjeWNsZSBsaWtlIFVOU0FGRV9jV1UuIEkgZG91YnQgYW55b25lXG5cdFx0XHQvLyBhY3R1YWxseSBkb2VzIHRoaXMgaW4gcHJhY3RpY2Ugc28gbm90IHRlc3RpbmcgaXRcblx0XHRcdC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5cdFx0XHRzZXQodikge1xuXHRcdFx0XHR0aGlzWydVTlNBRkVfJyArIGtleV0gPSB2O1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG59XG5cbmxldCBjbGFzc05hbWVEZXNjcmlwdG9yID0ge1xuXHRjb25maWd1cmFibGU6IHRydWUsXG5cdGdldCgpIHtcblx0XHRyZXR1cm4gdGhpcy5jbGFzcztcblx0fVxufTtcblxubGV0IG9sZFZOb2RlSG9vayA9IG9wdGlvbnMudm5vZGU7XG5vcHRpb25zLnZub2RlID0gdm5vZGUgPT4ge1xuXHR2bm9kZS4kJHR5cGVvZiA9IFJFQUNUX0VMRU1FTlRfVFlQRTtcblxuXHRsZXQgdHlwZSA9IHZub2RlLnR5cGU7XG5cdGxldCBwcm9wcyA9IHZub2RlLnByb3BzO1xuXG5cdC8vIEFwcGx5IERPTSBWTm9kZSBjb21wYXRcblx0aWYgKHR5cGVvZiB0eXBlICE9ICdmdW5jdGlvbicpIHtcblx0XHQvLyBBcHBseSBkZWZhdWx0VmFsdWUgdG8gdmFsdWVcblx0XHRpZiAocHJvcHMuZGVmYXVsdFZhbHVlKSB7XG5cdFx0XHRpZiAoIXByb3BzLnZhbHVlICYmIHByb3BzLnZhbHVlICE9PSAwKSB7XG5cdFx0XHRcdHByb3BzLnZhbHVlID0gcHJvcHMuZGVmYXVsdFZhbHVlO1xuXHRcdFx0fVxuXHRcdFx0ZGVsZXRlIHByb3BzLmRlZmF1bHRWYWx1ZTtcblx0XHR9XG5cblx0XHQvLyBBZGQgc3VwcG9ydCBmb3IgYXJyYXkgc2VsZWN0IHZhbHVlczogPHNlbGVjdCB2YWx1ZT17W119IC8+XG5cdFx0aWYgKEFycmF5LmlzQXJyYXkocHJvcHMudmFsdWUpICYmIHByb3BzLm11bHRpcGxlICYmIHR5cGUgPT09ICdzZWxlY3QnKSB7XG5cdFx0XHR0b0NoaWxkQXJyYXkocHJvcHMuY2hpbGRyZW4pLmZvckVhY2goY2hpbGQgPT4ge1xuXHRcdFx0XHRpZiAocHJvcHMudmFsdWUuaW5kZXhPZihjaGlsZC5wcm9wcy52YWx1ZSkgIT0gLTEpIHtcblx0XHRcdFx0XHRjaGlsZC5wcm9wcy5zZWxlY3RlZCA9IHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0ZGVsZXRlIHByb3BzLnZhbHVlO1xuXHRcdH1cblxuXHRcdC8vIE5vcm1hbGl6ZSBET00gdm5vZGUgcHJvcGVydGllcy5cblx0XHRsZXQgc2hvdWxkU2FuaXRpemUsIGF0dHJzLCBpO1xuXHRcdGZvciAoaSBpbiBwcm9wcykgaWYgKChzaG91bGRTYW5pdGl6ZSA9IENBTUVMX1BST1BTLnRlc3QoaSkpKSBicmVhaztcblx0XHRpZiAoc2hvdWxkU2FuaXRpemUpIHtcblx0XHRcdGF0dHJzID0gdm5vZGUucHJvcHMgPSB7fTtcblx0XHRcdGZvciAoaSBpbiBwcm9wcykge1xuXHRcdFx0XHRhdHRyc1tcblx0XHRcdFx0XHRDQU1FTF9QUk9QUy50ZXN0KGkpID8gaS5yZXBsYWNlKC8oW0EtWjAtOV0pLywgJy0kMScpLnRvTG93ZXJDYXNlKCkgOiBpXG5cdFx0XHRcdF0gPSBwcm9wc1tpXTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBBbGlhcyBgY2xhc3NgIHByb3AgdG8gYGNsYXNzTmFtZWAgaWYgYXZhaWxhYmxlXG5cdGlmIChwcm9wcy5jbGFzcyB8fCBwcm9wcy5jbGFzc05hbWUpIHtcblx0XHRjbGFzc05hbWVEZXNjcmlwdG9yLmVudW1lcmFibGUgPSAnY2xhc3NOYW1lJyBpbiBwcm9wcztcblx0XHRpZiAocHJvcHMuY2xhc3NOYW1lKSBwcm9wcy5jbGFzcyA9IHByb3BzLmNsYXNzTmFtZTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvcHMsICdjbGFzc05hbWUnLCBjbGFzc05hbWVEZXNjcmlwdG9yKTtcblx0fVxuXG5cdC8vIEV2ZW50c1xuXHRhcHBseUV2ZW50Tm9ybWFsaXphdGlvbih2bm9kZSk7XG5cblx0Ly8gQ29tcG9uZW50IGJhc2UgY2xhc3MgY29tcGF0XG5cdC8vIFdlIGNhbid0IGp1c3QgcGF0Y2ggdGhlIGJhc2UgY29tcG9uZW50IGNsYXNzLCBiZWNhdXNlIGNvbXBvbmVudHMgdGhhdCB1c2Vcblx0Ly8gaW5oZXJpdGFuY2UgYW5kIGFyZSB0cmFuc3BpbGVkIGRvd24gdG8gRVM1IHdpbGwgb3ZlcndyaXRlIG91ciBwYXRjaGVkXG5cdC8vIGdldHRlcnMgYW5kIHNldHRlcnMuIFNlZSAjMTk0MVxuXHRpZiAoXG5cdFx0dHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicgJiZcblx0XHQhdHlwZS5fcGF0Y2hlZExpZmVjeWNsZXMgJiZcblx0XHR0eXBlLnByb3RvdHlwZVxuXHQpIHtcblx0XHRzZXRTYWZlRGVzY3JpcHRvcih0eXBlLnByb3RvdHlwZSwgJ2NvbXBvbmVudFdpbGxNb3VudCcpO1xuXHRcdHNldFNhZmVEZXNjcmlwdG9yKHR5cGUucHJvdG90eXBlLCAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycpO1xuXHRcdHNldFNhZmVEZXNjcmlwdG9yKHR5cGUucHJvdG90eXBlLCAnY29tcG9uZW50V2lsbFVwZGF0ZScpO1xuXHRcdHR5cGUuX3BhdGNoZWRMaWZlY3ljbGVzID0gdHJ1ZTtcblx0fVxuXG5cdGlmIChvbGRWTm9kZUhvb2spIG9sZFZOb2RlSG9vayh2bm9kZSk7XG59O1xuIiwiaW1wb3J0IHsgZW5xdWV1ZVJlbmRlciB9IGZyb20gJy4vY29tcG9uZW50JztcblxuZXhwb3J0IGxldCBpID0gMDtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNvbnRleHQoZGVmYXVsdFZhbHVlKSB7XG5cdGNvbnN0IGN0eCA9IHt9O1xuXG5cdGNvbnN0IGNvbnRleHQgPSB7XG5cdFx0X2lkOiAnX19jQycgKyBpKyssXG5cdFx0X2RlZmF1bHRWYWx1ZTogZGVmYXVsdFZhbHVlLFxuXHRcdENvbnN1bWVyKHByb3BzLCBjb250ZXh0KSB7XG5cdFx0XHRyZXR1cm4gcHJvcHMuY2hpbGRyZW4oY29udGV4dCk7XG5cdFx0fSxcblx0XHRQcm92aWRlcihwcm9wcykge1xuXHRcdFx0aWYgKCF0aGlzLmdldENoaWxkQ29udGV4dCkge1xuXHRcdFx0XHRjb25zdCBzdWJzID0gW107XG5cdFx0XHRcdHRoaXMuZ2V0Q2hpbGRDb250ZXh0ID0gKCkgPT4ge1xuXHRcdFx0XHRcdGN0eFtjb250ZXh0Ll9pZF0gPSB0aGlzO1xuXHRcdFx0XHRcdHJldHVybiBjdHg7XG5cdFx0XHRcdH07XG5cdFx0XHRcdHRoaXMuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gX3Byb3BzID0+IHtcblx0XHRcdFx0XHRpZiAocHJvcHMudmFsdWUgIT09IF9wcm9wcy52YWx1ZSkge1xuXHRcdFx0XHRcdFx0c3Vicy5zb21lKGMgPT4ge1xuXHRcdFx0XHRcdFx0XHRjLmNvbnRleHQgPSBfcHJvcHMudmFsdWU7XG5cdFx0XHRcdFx0XHRcdGVucXVldWVSZW5kZXIoYyk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cdFx0XHRcdHRoaXMuc3ViID0gYyA9PiB7XG5cdFx0XHRcdFx0c3Vicy5wdXNoKGMpO1xuXHRcdFx0XHRcdGxldCBvbGQgPSBjLmNvbXBvbmVudFdpbGxVbm1vdW50O1xuXHRcdFx0XHRcdGMuY29tcG9uZW50V2lsbFVubW91bnQgPSAoKSA9PiB7XG5cdFx0XHRcdFx0XHRzdWJzLnNwbGljZShzdWJzLmluZGV4T2YoYyksIDEpO1xuXHRcdFx0XHRcdFx0b2xkICYmIG9sZC5jYWxsKGMpO1xuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcHJvcHMuY2hpbGRyZW47XG5cdFx0fVxuXHR9O1xuXG5cdGNvbnRleHQuQ29uc3VtZXIuY29udGV4dFR5cGUgPSBjb250ZXh0O1xuXG5cdHJldHVybiBjb250ZXh0O1xufVxuIiwiLyoqXG4gKiBBc3NpZ24gcHJvcGVydGllcyBmcm9tIGBwcm9wc2AgdG8gYG9iamBcbiAqIEB0ZW1wbGF0ZSBPLCBQIFRoZSBvYmogYW5kIHByb3BzIHR5cGVzXG4gKiBAcGFyYW0ge099IG9iaiBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyB0b1xuICogQHBhcmFtIHtQfSBwcm9wcyBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tXG4gKiBAcmV0dXJucyB7TyAmIFB9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ24ob2JqLCBwcm9wcykge1xuXHRmb3IgKGxldCBpIGluIHByb3BzKSBvYmpbaV0gPSBwcm9wc1tpXTtcblx0cmV0dXJuIC8qKiBAdHlwZSB7TyAmIFB9ICovIChvYmopO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIHR3byBvYmplY3RzIGhhdmUgYSBkaWZmZXJlbnQgc2hhcGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBhXG4gKiBAcGFyYW0ge29iamVjdH0gYlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaGFsbG93RGlmZmVycyhhLCBiKSB7XG5cdGZvciAobGV0IGkgaW4gYSkgaWYgKGkgIT09ICdfX3NvdXJjZScgJiYgIShpIGluIGIpKSByZXR1cm4gdHJ1ZTtcblx0Zm9yIChsZXQgaSBpbiBiKSBpZiAoaSAhPT0gJ19fc291cmNlJyAmJiBhW2ldICE9PSBiW2ldKSByZXR1cm4gdHJ1ZTtcblx0cmV0dXJuIGZhbHNlO1xufVxuIiwiaW1wb3J0IHsgZGlmZiwgdW5tb3VudCwgYXBwbHlSZWYgfSBmcm9tICcuL2luZGV4JztcbmltcG9ydCB7IGNyZWF0ZVZOb2RlIH0gZnJvbSAnLi4vY3JlYXRlLWVsZW1lbnQnO1xuaW1wb3J0IHsgRU1QVFlfT0JKLCBFTVBUWV9BUlIgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgcmVtb3ZlTm9kZSB9IGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0IHsgZ2V0RG9tU2libGluZyB9IGZyb20gJy4uL2NvbXBvbmVudCc7XG5cbi8qKlxuICogRGlmZiB0aGUgY2hpbGRyZW4gb2YgYSB2aXJ0dWFsIG5vZGVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlByZWFjdEVsZW1lbnR9IHBhcmVudERvbSBUaGUgRE9NIGVsZW1lbnQgd2hvc2VcbiAqIGNoaWxkcmVuIGFyZSBiZWluZyBkaWZmZWRcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlZOb2RlfSBuZXdQYXJlbnRWTm9kZSBUaGUgbmV3IHZpcnR1YWxcbiAqIG5vZGUgd2hvc2UgY2hpbGRyZW4gc2hvdWxkIGJlIGRpZmYnZWQgYWdhaW5zdCBvbGRQYXJlbnRWTm9kZVxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuVk5vZGV9IG9sZFBhcmVudFZOb2RlIFRoZSBvbGQgdmlydHVhbFxuICogbm9kZSB3aG9zZSBjaGlsZHJlbiBzaG91bGQgYmUgZGlmZidlZCBhZ2FpbnN0IG5ld1BhcmVudFZOb2RlXG4gKiBAcGFyYW0ge29iamVjdH0gY29udGV4dCBUaGUgY3VycmVudCBjb250ZXh0IG9iamVjdFxuICogQHBhcmFtIHtib29sZWFufSBpc1N2ZyBXaGV0aGVyIG9yIG5vdCB0aGlzIERPTSBub2RlIGlzIGFuIFNWRyBub2RlXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydCgnLi4vaW50ZXJuYWwnKS5QcmVhY3RFbGVtZW50Pn0gZXhjZXNzRG9tQ2hpbGRyZW5cbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KCcuLi9pbnRlcm5hbCcpLkNvbXBvbmVudD59IGNvbW1pdFF1ZXVlIExpc3Qgb2YgY29tcG9uZW50c1xuICogd2hpY2ggaGF2ZSBjYWxsYmFja3MgdG8gaW52b2tlIGluIGNvbW1pdFJvb3RcbiAqIEBwYXJhbSB7Tm9kZSB8IFRleHR9IG9sZERvbSBUaGUgY3VycmVudCBhdHRhY2hlZCBET01cbiAqIGVsZW1lbnQgYW55IG5ldyBkb20gZWxlbWVudHMgc2hvdWxkIGJlIHBsYWNlZCBhcm91bmQuIExpa2VseSBgbnVsbGAgb24gZmlyc3RcbiAqIHJlbmRlciAoZXhjZXB0IHdoZW4gaHlkcmF0aW5nKS4gQ2FuIGJlIGEgc2libGluZyBET00gZWxlbWVudCB3aGVuIGRpZmZpbmdcbiAqIEZyYWdtZW50cyB0aGF0IGhhdmUgc2libGluZ3MuIEluIG1vc3QgY2FzZXMsIGl0IHN0YXJ0cyBvdXQgYXMgYG9sZENoaWxkcmVuWzBdLl9kb21gLlxuICogQHBhcmFtIHtib29sZWFufSBpc0h5ZHJhdGluZyBXaGV0aGVyIG9yIG5vdCB3ZSBhcmUgaW4gaHlkcmF0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaWZmQ2hpbGRyZW4oXG5cdHBhcmVudERvbSxcblx0bmV3UGFyZW50Vk5vZGUsXG5cdG9sZFBhcmVudFZOb2RlLFxuXHRjb250ZXh0LFxuXHRpc1N2Zyxcblx0ZXhjZXNzRG9tQ2hpbGRyZW4sXG5cdGNvbW1pdFF1ZXVlLFxuXHRvbGREb20sXG5cdGlzSHlkcmF0aW5nXG4pIHtcblx0bGV0IGksIGosIG9sZFZOb2RlLCBuZXdEb20sIHNpYkRvbSwgZmlyc3RDaGlsZERvbSwgcmVmcztcblxuXHQvLyBUaGlzIGlzIGEgY29tcHJlc3Npb24gb2Ygb2xkUGFyZW50Vk5vZGUhPW51bGwgJiYgb2xkUGFyZW50Vk5vZGUgIT0gRU1QVFlfT0JKICYmIG9sZFBhcmVudFZOb2RlLl9jaGlsZHJlbiB8fCBFTVBUWV9BUlJcblx0Ly8gYXMgRU1QVFlfT0JKLl9jaGlsZHJlbiBzaG91bGQgYmUgYHVuZGVmaW5lZGAuXG5cdGxldCBvbGRDaGlsZHJlbiA9IChvbGRQYXJlbnRWTm9kZSAmJiBvbGRQYXJlbnRWTm9kZS5fY2hpbGRyZW4pIHx8IEVNUFRZX0FSUjtcblxuXHRsZXQgb2xkQ2hpbGRyZW5MZW5ndGggPSBvbGRDaGlsZHJlbi5sZW5ndGg7XG5cblx0Ly8gT25seSBpbiB2ZXJ5IHNwZWNpZmljIHBsYWNlcyBzaG91bGQgdGhpcyBsb2dpYyBiZSBpbnZva2VkICh0b3AgbGV2ZWwgYHJlbmRlcmAgYW5kIGBkaWZmRWxlbWVudE5vZGVzYCkuXG5cdC8vIEknbSB1c2luZyBgRU1QVFlfT0JKYCB0byBzaWduYWwgd2hlbiBgZGlmZkNoaWxkcmVuYCBpcyBpbnZva2VkIGluIHRoZXNlIHNpdHVhdGlvbnMuIEkgY2FuJ3QgdXNlIGBudWxsYFxuXHQvLyBmb3IgdGhpcyBwdXJwb3NlLCBiZWNhdXNlIGBudWxsYCBpcyBhIHZhbGlkIHZhbHVlIGZvciBgb2xkRG9tYCB3aGljaCBjYW4gbWVhbiB0byBza2lwIHRvIHRoaXMgbG9naWNcblx0Ly8gKGUuZy4gaWYgbW91bnRpbmcgYSBuZXcgdHJlZSBpbiB3aGljaCB0aGUgb2xkIERPTSBzaG91bGQgYmUgaWdub3JlZCAodXN1YWxseSBmb3IgRnJhZ21lbnRzKS5cblx0aWYgKG9sZERvbSA9PSBFTVBUWV9PQkopIHtcblx0XHRpZiAoZXhjZXNzRG9tQ2hpbGRyZW4gIT0gbnVsbCkge1xuXHRcdFx0b2xkRG9tID0gZXhjZXNzRG9tQ2hpbGRyZW5bMF07XG5cdFx0fSBlbHNlIGlmIChvbGRDaGlsZHJlbkxlbmd0aCkge1xuXHRcdFx0b2xkRG9tID0gZ2V0RG9tU2libGluZyhvbGRQYXJlbnRWTm9kZSwgMCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG9sZERvbSA9IG51bGw7XG5cdFx0fVxuXHR9XG5cblx0aSA9IDA7XG5cdG5ld1BhcmVudFZOb2RlLl9jaGlsZHJlbiA9IHRvQ2hpbGRBcnJheShcblx0XHRuZXdQYXJlbnRWTm9kZS5fY2hpbGRyZW4sXG5cdFx0Y2hpbGRWTm9kZSA9PiB7XG5cdFx0XHRpZiAoY2hpbGRWTm9kZSAhPSBudWxsKSB7XG5cdFx0XHRcdGNoaWxkVk5vZGUuX3BhcmVudCA9IG5ld1BhcmVudFZOb2RlO1xuXHRcdFx0XHRjaGlsZFZOb2RlLl9kZXB0aCA9IG5ld1BhcmVudFZOb2RlLl9kZXB0aCArIDE7XG5cblx0XHRcdFx0Ly8gQ2hlY2sgaWYgd2UgZmluZCBhIGNvcnJlc3BvbmRpbmcgZWxlbWVudCBpbiBvbGRDaGlsZHJlbi5cblx0XHRcdFx0Ly8gSWYgZm91bmQsIGRlbGV0ZSB0aGUgYXJyYXkgaXRlbSBieSBzZXR0aW5nIHRvIGB1bmRlZmluZWRgLlxuXHRcdFx0XHQvLyBXZSB1c2UgYHVuZGVmaW5lZGAsIGFzIGBudWxsYCBpcyByZXNlcnZlZCBmb3IgZW1wdHkgcGxhY2Vob2xkZXJzXG5cdFx0XHRcdC8vIChob2xlcykuXG5cdFx0XHRcdG9sZFZOb2RlID0gb2xkQ2hpbGRyZW5baV07XG5cblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdG9sZFZOb2RlID09PSBudWxsIHx8XG5cdFx0XHRcdFx0KG9sZFZOb2RlICYmXG5cdFx0XHRcdFx0XHRjaGlsZFZOb2RlLmtleSA9PSBvbGRWTm9kZS5rZXkgJiZcblx0XHRcdFx0XHRcdGNoaWxkVk5vZGUudHlwZSA9PT0gb2xkVk5vZGUudHlwZSlcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0b2xkQ2hpbGRyZW5baV0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gRWl0aGVyIG9sZFZOb2RlID09PSB1bmRlZmluZWQgb3Igb2xkQ2hpbGRyZW5MZW5ndGggPiAwLFxuXHRcdFx0XHRcdC8vIHNvIGFmdGVyIHRoaXMgbG9vcCBvbGRWTm9kZSA9PSBudWxsIG9yIG9sZFZOb2RlIGlzIGEgdmFsaWQgdmFsdWUuXG5cdFx0XHRcdFx0Zm9yIChqID0gMDsgaiA8IG9sZENoaWxkcmVuTGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0XHRcdG9sZFZOb2RlID0gb2xkQ2hpbGRyZW5bal07XG5cdFx0XHRcdFx0XHQvLyBJZiBjaGlsZFZOb2RlIGlzIHVua2V5ZWQsIHdlIG9ubHkgbWF0Y2ggc2ltaWxhcmx5IHVua2V5ZWQgbm9kZXMsIG90aGVyd2lzZSB3ZSBtYXRjaCBieSBrZXkuXG5cdFx0XHRcdFx0XHQvLyBXZSBhbHdheXMgbWF0Y2ggYnkgdHlwZSAoaW4gZWl0aGVyIGNhc2UpLlxuXHRcdFx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdFx0XHRvbGRWTm9kZSAmJlxuXHRcdFx0XHRcdFx0XHRjaGlsZFZOb2RlLmtleSA9PSBvbGRWTm9kZS5rZXkgJiZcblx0XHRcdFx0XHRcdFx0Y2hpbGRWTm9kZS50eXBlID09PSBvbGRWTm9kZS50eXBlXG5cdFx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdFx0b2xkQ2hpbGRyZW5bal0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0b2xkVk5vZGUgPSBudWxsO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdG9sZFZOb2RlID0gb2xkVk5vZGUgfHwgRU1QVFlfT0JKO1xuXG5cdFx0XHRcdC8vIE1vcnBoIHRoZSBvbGQgZWxlbWVudCBpbnRvIHRoZSBuZXcgb25lLCBidXQgZG9uJ3QgYXBwZW5kIGl0IHRvIHRoZSBkb20geWV0XG5cdFx0XHRcdG5ld0RvbSA9IGRpZmYoXG5cdFx0XHRcdFx0cGFyZW50RG9tLFxuXHRcdFx0XHRcdGNoaWxkVk5vZGUsXG5cdFx0XHRcdFx0b2xkVk5vZGUsXG5cdFx0XHRcdFx0Y29udGV4dCxcblx0XHRcdFx0XHRpc1N2Zyxcblx0XHRcdFx0XHRleGNlc3NEb21DaGlsZHJlbixcblx0XHRcdFx0XHRjb21taXRRdWV1ZSxcblx0XHRcdFx0XHRvbGREb20sXG5cdFx0XHRcdFx0aXNIeWRyYXRpbmdcblx0XHRcdFx0KTtcblxuXHRcdFx0XHRpZiAoKGogPSBjaGlsZFZOb2RlLnJlZikgJiYgb2xkVk5vZGUucmVmICE9IGopIHtcblx0XHRcdFx0XHRpZiAoIXJlZnMpIHJlZnMgPSBbXTtcblx0XHRcdFx0XHRpZiAob2xkVk5vZGUucmVmKSByZWZzLnB1c2gob2xkVk5vZGUucmVmLCBudWxsLCBjaGlsZFZOb2RlKTtcblx0XHRcdFx0XHRyZWZzLnB1c2goaiwgY2hpbGRWTm9kZS5fY29tcG9uZW50IHx8IG5ld0RvbSwgY2hpbGRWTm9kZSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBPbmx5IHByb2NlZWQgaWYgdGhlIHZub2RlIGhhcyBub3QgYmVlbiB1bm1vdW50ZWQgYnkgYGRpZmYoKWAgYWJvdmUuXG5cdFx0XHRcdGlmIChuZXdEb20gIT0gbnVsbCkge1xuXHRcdFx0XHRcdGlmIChmaXJzdENoaWxkRG9tID09IG51bGwpIHtcblx0XHRcdFx0XHRcdGZpcnN0Q2hpbGREb20gPSBuZXdEb207XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKGNoaWxkVk5vZGUuX2xhc3REb21DaGlsZCAhPSBudWxsKSB7XG5cdFx0XHRcdFx0XHQvLyBPbmx5IEZyYWdtZW50cyBvciBjb21wb25lbnRzIHRoYXQgcmV0dXJuIEZyYWdtZW50IGxpa2UgVk5vZGVzIHdpbGxcblx0XHRcdFx0XHRcdC8vIGhhdmUgYSBub24tbnVsbCBfbGFzdERvbUNoaWxkLiBDb250aW51ZSB0aGUgZGlmZiBmcm9tIHRoZSBlbmQgb2Zcblx0XHRcdFx0XHRcdC8vIHRoaXMgRnJhZ21lbnQncyBET00gdHJlZS5cblx0XHRcdFx0XHRcdG5ld0RvbSA9IGNoaWxkVk5vZGUuX2xhc3REb21DaGlsZDtcblxuXHRcdFx0XHRcdFx0Ly8gRWFnZXJseSBjbGVhbnVwIF9sYXN0RG9tQ2hpbGQuIFdlIGRvbid0IG5lZWQgdG8gcGVyc2lzdCB0aGUgdmFsdWUgYmVjYXVzZVxuXHRcdFx0XHRcdFx0Ly8gaXQgaXMgb25seSB1c2VkIGJ5IGBkaWZmQ2hpbGRyZW5gIHRvIGRldGVybWluZSB3aGVyZSB0byByZXN1bWUgdGhlIGRpZmYgYWZ0ZXJcblx0XHRcdFx0XHRcdC8vIGRpZmZpbmcgQ29tcG9uZW50cyBhbmQgRnJhZ21lbnRzLlxuXHRcdFx0XHRcdFx0Y2hpbGRWTm9kZS5fbGFzdERvbUNoaWxkID0gbnVsbDtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKFxuXHRcdFx0XHRcdFx0ZXhjZXNzRG9tQ2hpbGRyZW4gPT0gb2xkVk5vZGUgfHxcblx0XHRcdFx0XHRcdG5ld0RvbSAhPSBvbGREb20gfHxcblx0XHRcdFx0XHRcdG5ld0RvbS5wYXJlbnROb2RlID09IG51bGxcblx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdC8vIE5PVEU6IGV4Y2Vzc0RvbUNoaWxkcmVuPT1vbGRWTm9kZSBhYm92ZTpcblx0XHRcdFx0XHRcdC8vIFRoaXMgaXMgYSBjb21wcmVzc2lvbiBvZiBleGNlc3NEb21DaGlsZHJlbj09bnVsbCAmJiBvbGRWTm9kZT09bnVsbCFcblx0XHRcdFx0XHRcdC8vIFRoZSB2YWx1ZXMgb25seSBoYXZlIHRoZSBzYW1lIHR5cGUgd2hlbiBgbnVsbGAuXG5cblx0XHRcdFx0XHRcdG91dGVyOiBpZiAob2xkRG9tID09IG51bGwgfHwgb2xkRG9tLnBhcmVudE5vZGUgIT09IHBhcmVudERvbSkge1xuXHRcdFx0XHRcdFx0XHRwYXJlbnREb20uYXBwZW5kQ2hpbGQobmV3RG9tKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdC8vIGBqPG9sZENoaWxkcmVuTGVuZ3RoOyBqKz0yYCBpcyBhbiBhbHRlcm5hdGl2ZSB0byBgaisrPG9sZENoaWxkcmVuTGVuZ3RoLzJgXG5cdFx0XHRcdFx0XHRcdGZvciAoXG5cdFx0XHRcdFx0XHRcdFx0c2liRG9tID0gb2xkRG9tLCBqID0gMDtcblx0XHRcdFx0XHRcdFx0XHQoc2liRG9tID0gc2liRG9tLm5leHRTaWJsaW5nKSAmJiBqIDwgb2xkQ2hpbGRyZW5MZW5ndGg7XG5cdFx0XHRcdFx0XHRcdFx0aiArPSAyXG5cdFx0XHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0XHRcdGlmIChzaWJEb20gPT0gbmV3RG9tKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRicmVhayBvdXRlcjtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0cGFyZW50RG9tLmluc2VydEJlZm9yZShuZXdEb20sIG9sZERvbSk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIEJyb3dzZXJzIHdpbGwgaW5mZXIgYW4gb3B0aW9uJ3MgYHZhbHVlYCBmcm9tIGB0ZXh0Q29udGVudGAgd2hlblxuXHRcdFx0XHRcdFx0Ly8gbm8gdmFsdWUgaXMgcHJlc2VudC4gVGhpcyBlc3NlbnRpYWxseSBieXBhc3NlcyBvdXIgY29kZSB0byBzZXQgaXRcblx0XHRcdFx0XHRcdC8vIGxhdGVyIGluIGBkaWZmKClgLiBJdCB3b3JrcyBmaW5lIGluIGFsbCBicm93c2VycyBleGNlcHQgZm9yIElFMTFcblx0XHRcdFx0XHRcdC8vIHdoZXJlIGl0IGJyZWFrcyBzZXR0aW5nIGBzZWxlY3QudmFsdWVgLiBUaGVyZSBpdCB3aWxsIGJlIGFsd2F5cyBzZXRcblx0XHRcdFx0XHRcdC8vIHRvIGFuIGVtcHR5IHN0cmluZy4gUmUtYXBwbHlpbmcgYW4gb3B0aW9ucyB2YWx1ZSB3aWxsIGZpeCB0aGF0LCBzb1xuXHRcdFx0XHRcdFx0Ly8gdGhlcmUgYXJlIHByb2JhYmx5IHNvbWUgaW50ZXJuYWwgZGF0YSBzdHJ1Y3R1cmVzIHRoYXQgYXJlbid0XG5cdFx0XHRcdFx0XHQvLyB1cGRhdGVkIHByb3Blcmx5LlxuXHRcdFx0XHRcdFx0Ly9cblx0XHRcdFx0XHRcdC8vIFRvIGZpeCBpdCB3ZSBtYWtlIHN1cmUgdG8gcmVzZXQgdGhlIGluZmVycmVkIHZhbHVlLCBzbyB0aGF0IG91ciBvd25cblx0XHRcdFx0XHRcdC8vIHZhbHVlIGNoZWNrIGluIGBkaWZmKClgIHdvbid0IGJlIHNraXBwZWQuXG5cdFx0XHRcdFx0XHRpZiAobmV3UGFyZW50Vk5vZGUudHlwZSA9PSAnb3B0aW9uJykge1xuXHRcdFx0XHRcdFx0XHRwYXJlbnREb20udmFsdWUgPSAnJztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRvbGREb20gPSBuZXdEb20ubmV4dFNpYmxpbmc7XG5cblx0XHRcdFx0XHRpZiAodHlwZW9mIG5ld1BhcmVudFZOb2RlLnR5cGUgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0Ly8gQXQgdGhpcyBwb2ludCwgaWYgY2hpbGRWTm9kZS5fbGFzdERvbUNoaWxkIGV4aXN0ZWQsIHRoZW5cblx0XHRcdFx0XHRcdC8vIG5ld0RvbSA9IGNoaWxkVk5vZGUuX2xhc3REb21DaGlsZCBwZXIgbGluZSAxMDEuIEVsc2UgaXQgaXNcblx0XHRcdFx0XHRcdC8vIHRoZSBzYW1lIGFzIGNoaWxkVk5vZGUuX2RvbSwgbWVhbmluZyB0aGlzIGNvbXBvbmVudCByZXR1cm5lZFxuXHRcdFx0XHRcdFx0Ly8gb25seSBhIHNpbmdsZSBET00gbm9kZVxuXHRcdFx0XHRcdFx0bmV3UGFyZW50Vk5vZGUuX2xhc3REb21DaGlsZCA9IG5ld0RvbTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aSsrO1xuXHRcdFx0cmV0dXJuIGNoaWxkVk5vZGU7XG5cdFx0fVxuXHQpO1xuXG5cdG5ld1BhcmVudFZOb2RlLl9kb20gPSBmaXJzdENoaWxkRG9tO1xuXG5cdC8vIFJlbW92ZSBjaGlsZHJlbiB0aGF0IGFyZSBub3QgcGFydCBvZiBhbnkgdm5vZGUuXG5cdGlmIChleGNlc3NEb21DaGlsZHJlbiAhPSBudWxsICYmIHR5cGVvZiBuZXdQYXJlbnRWTm9kZS50eXBlICE9PSAnZnVuY3Rpb24nKSB7XG5cdFx0Zm9yIChpID0gZXhjZXNzRG9tQ2hpbGRyZW4ubGVuZ3RoOyBpLS07ICkge1xuXHRcdFx0aWYgKGV4Y2Vzc0RvbUNoaWxkcmVuW2ldICE9IG51bGwpIHJlbW92ZU5vZGUoZXhjZXNzRG9tQ2hpbGRyZW5baV0pO1xuXHRcdH1cblx0fVxuXG5cdC8vIFJlbW92ZSByZW1haW5pbmcgb2xkQ2hpbGRyZW4gaWYgdGhlcmUgYXJlIGFueS5cblx0Zm9yIChpID0gb2xkQ2hpbGRyZW5MZW5ndGg7IGktLTsgKSB7XG5cdFx0aWYgKG9sZENoaWxkcmVuW2ldICE9IG51bGwpIHVubW91bnQob2xkQ2hpbGRyZW5baV0sIG9sZENoaWxkcmVuW2ldKTtcblx0fVxuXG5cdC8vIFNldCByZWZzIG9ubHkgYWZ0ZXIgdW5tb3VudFxuXHRpZiAocmVmcykge1xuXHRcdGZvciAoaSA9IDA7IGkgPCByZWZzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRhcHBseVJlZihyZWZzW2ldLCByZWZzWysraV0sIHJlZnNbKytpXSk7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogRmxhdHRlbiBhbmQgbG9vcCB0aHJvdWdoIHRoZSBjaGlsZHJlbiBvZiBhIHZpcnR1YWwgbm9kZVxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2luZGV4JykuQ29tcG9uZW50Q2hpbGRyZW59IGNoaWxkcmVuIFRoZSB1bmZsYXR0ZW5lZFxuICogY2hpbGRyZW4gb2YgYSB2aXJ0dWFsIG5vZGVcbiAqIEBwYXJhbSB7KHZub2RlOiBpbXBvcnQoJy4uL2ludGVybmFsJykuVk5vZGUpID0+IGltcG9ydCgnLi4vaW50ZXJuYWwnKS5WTm9kZX0gW2NhbGxiYWNrXVxuICogQSBmdW5jdGlvbiB0byBpbnZva2UgZm9yIGVhY2ggY2hpbGQgYmVmb3JlIGl0IGlzIGFkZGVkIHRvIHRoZSBmbGF0dGVuZWQgbGlzdC5cbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlZOb2RlIHwgc3RyaW5nIHwgbnVtYmVyPn0gW2ZsYXR0ZW5lZF0gQW4gZmxhdCBhcnJheSBvZiBjaGlsZHJlbiB0byBtb2RpZnlcbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4uL2ludGVybmFsJykuVk5vZGVbXX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvQ2hpbGRBcnJheShjaGlsZHJlbiwgY2FsbGJhY2ssIGZsYXR0ZW5lZCkge1xuXHRpZiAoZmxhdHRlbmVkID09IG51bGwpIGZsYXR0ZW5lZCA9IFtdO1xuXG5cdGlmIChjaGlsZHJlbiA9PSBudWxsIHx8IHR5cGVvZiBjaGlsZHJlbiA9PT0gJ2Jvb2xlYW4nKSB7XG5cdFx0aWYgKGNhbGxiYWNrKSBmbGF0dGVuZWQucHVzaChjYWxsYmFjayhudWxsKSk7XG5cdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikpIHtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR0b0NoaWxkQXJyYXkoY2hpbGRyZW5baV0sIGNhbGxiYWNrLCBmbGF0dGVuZWQpO1xuXHRcdH1cblx0fSBlbHNlIGlmICghY2FsbGJhY2spIHtcblx0XHRmbGF0dGVuZWQucHVzaChjaGlsZHJlbik7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGNoaWxkcmVuID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgY2hpbGRyZW4gPT09ICdudW1iZXInKSB7XG5cdFx0ZmxhdHRlbmVkLnB1c2goY2FsbGJhY2soY3JlYXRlVk5vZGUobnVsbCwgY2hpbGRyZW4sIG51bGwsIG51bGwpKSk7XG5cdH0gZWxzZSBpZiAoY2hpbGRyZW4uX2RvbSAhPSBudWxsIHx8IGNoaWxkcmVuLl9jb21wb25lbnQgIT0gbnVsbCkge1xuXHRcdGZsYXR0ZW5lZC5wdXNoKFxuXHRcdFx0Y2FsbGJhY2soY3JlYXRlVk5vZGUoY2hpbGRyZW4udHlwZSwgY2hpbGRyZW4ucHJvcHMsIGNoaWxkcmVuLmtleSwgbnVsbCkpXG5cdFx0KTtcblx0fSBlbHNlIHtcblx0XHRmbGF0dGVuZWQucHVzaChjYWxsYmFjayhjaGlsZHJlbikpO1xuXHR9XG5cblx0cmV0dXJuIGZsYXR0ZW5lZDtcbn1cbiIsImltcG9ydCB7IElTX05PTl9ESU1FTlNJT05BTCB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgb3B0aW9ucyBmcm9tICcuLi9vcHRpb25zJztcblxuLyoqXG4gKiBEaWZmIHRoZSBvbGQgYW5kIG5ldyBwcm9wZXJ0aWVzIG9mIGEgVk5vZGUgYW5kIGFwcGx5IGNoYW5nZXMgdG8gdGhlIERPTSBub2RlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5QcmVhY3RFbGVtZW50fSBkb20gVGhlIERPTSBub2RlIHRvIGFwcGx5XG4gKiBjaGFuZ2VzIHRvXG4gKiBAcGFyYW0ge29iamVjdH0gbmV3UHJvcHMgVGhlIG5ldyBwcm9wc1xuICogQHBhcmFtIHtvYmplY3R9IG9sZFByb3BzIFRoZSBvbGQgcHJvcHNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNTdmcgV2hldGhlciBvciBub3QgdGhpcyBub2RlIGlzIGFuIFNWRyBub2RlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGh5ZHJhdGUgV2hldGhlciBvciBub3Qgd2UgYXJlIGluIGh5ZHJhdGlvbiBtb2RlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaWZmUHJvcHMoZG9tLCBuZXdQcm9wcywgb2xkUHJvcHMsIGlzU3ZnLCBoeWRyYXRlKSB7XG5cdGxldCBpO1xuXG5cdGZvciAoaSBpbiBvbGRQcm9wcykge1xuXHRcdGlmICghKGkgaW4gbmV3UHJvcHMpKSB7XG5cdFx0XHRzZXRQcm9wZXJ0eShkb20sIGksIG51bGwsIG9sZFByb3BzW2ldLCBpc1N2Zyk7XG5cdFx0fVxuXHR9XG5cblx0Zm9yIChpIGluIG5ld1Byb3BzKSB7XG5cdFx0aWYgKFxuXHRcdFx0KCFoeWRyYXRlIHx8IHR5cGVvZiBuZXdQcm9wc1tpXSA9PSAnZnVuY3Rpb24nKSAmJlxuXHRcdFx0aSAhPT0gJ3ZhbHVlJyAmJlxuXHRcdFx0aSAhPT0gJ2NoZWNrZWQnICYmXG5cdFx0XHRvbGRQcm9wc1tpXSAhPT0gbmV3UHJvcHNbaV1cblx0XHQpIHtcblx0XHRcdHNldFByb3BlcnR5KGRvbSwgaSwgbmV3UHJvcHNbaV0sIG9sZFByb3BzW2ldLCBpc1N2Zyk7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIHNldFN0eWxlKHN0eWxlLCBrZXksIHZhbHVlKSB7XG5cdGlmIChrZXlbMF0gPT09ICctJykge1xuXHRcdHN0eWxlLnNldFByb3BlcnR5KGtleSwgdmFsdWUpO1xuXHR9IGVsc2UgaWYgKFxuXHRcdHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiZcblx0XHRJU19OT05fRElNRU5TSU9OQUwudGVzdChrZXkpID09PSBmYWxzZVxuXHQpIHtcblx0XHRzdHlsZVtrZXldID0gdmFsdWUgKyAncHgnO1xuXHR9IGVsc2UgaWYgKHZhbHVlID09IG51bGwpIHtcblx0XHRzdHlsZVtrZXldID0gJyc7XG5cdH0gZWxzZSB7XG5cdFx0c3R5bGVba2V5XSA9IHZhbHVlO1xuXHR9XG59XG5cbi8qKlxuICogU2V0IGEgcHJvcGVydHkgdmFsdWUgb24gYSBET00gbm9kZVxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuUHJlYWN0RWxlbWVudH0gZG9tIFRoZSBET00gbm9kZSB0byBtb2RpZnlcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXRcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldCB0aGUgcHJvcGVydHkgdG9cbiAqIEBwYXJhbSB7Kn0gb2xkVmFsdWUgVGhlIG9sZCB2YWx1ZSB0aGUgcHJvcGVydHkgaGFkXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzU3ZnIFdoZXRoZXIgb3Igbm90IHRoaXMgRE9NIG5vZGUgaXMgYW4gU1ZHIG5vZGUgb3Igbm90XG4gKi9cbmZ1bmN0aW9uIHNldFByb3BlcnR5KGRvbSwgbmFtZSwgdmFsdWUsIG9sZFZhbHVlLCBpc1N2Zykge1xuXHRpZiAoaXNTdmcpIHtcblx0XHRpZiAobmFtZSA9PT0gJ2NsYXNzTmFtZScpIHtcblx0XHRcdG5hbWUgPSAnY2xhc3MnO1xuXHRcdH1cblx0fSBlbHNlIGlmIChuYW1lID09PSAnY2xhc3MnKSB7XG5cdFx0bmFtZSA9ICdjbGFzc05hbWUnO1xuXHR9XG5cblx0aWYgKG5hbWUgPT09ICdrZXknIHx8IG5hbWUgPT09ICdjaGlsZHJlbicpIHtcblx0fSBlbHNlIGlmIChuYW1lID09PSAnc3R5bGUnKSB7XG5cdFx0Y29uc3QgcyA9IGRvbS5zdHlsZTtcblxuXHRcdGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRzLmNzc1RleHQgPSB2YWx1ZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKHR5cGVvZiBvbGRWYWx1ZSA9PT0gJ3N0cmluZycpIHtcblx0XHRcdFx0cy5jc3NUZXh0ID0gJyc7XG5cdFx0XHRcdG9sZFZhbHVlID0gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKG9sZFZhbHVlKSB7XG5cdFx0XHRcdGZvciAobGV0IGkgaW4gb2xkVmFsdWUpIHtcblx0XHRcdFx0XHRpZiAoISh2YWx1ZSAmJiBpIGluIHZhbHVlKSkge1xuXHRcdFx0XHRcdFx0c2V0U3R5bGUocywgaSwgJycpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAodmFsdWUpIHtcblx0XHRcdFx0Zm9yIChsZXQgaSBpbiB2YWx1ZSkge1xuXHRcdFx0XHRcdGlmICghb2xkVmFsdWUgfHwgdmFsdWVbaV0gIT09IG9sZFZhbHVlW2ldKSB7XG5cdFx0XHRcdFx0XHRzZXRTdHlsZShzLCBpLCB2YWx1ZVtpXSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdC8vIEJlbmNobWFyayBmb3IgY29tcGFyaXNvbjogaHR0cHM6Ly9lc2JlbmNoLmNvbS9iZW5jaC81NzRjOTU0YmRiOTY1YjlhMDA5NjVhYzZcblx0ZWxzZSBpZiAobmFtZVswXSA9PT0gJ28nICYmIG5hbWVbMV0gPT09ICduJykge1xuXHRcdGxldCB1c2VDYXB0dXJlID0gbmFtZSAhPT0gKG5hbWUgPSBuYW1lLnJlcGxhY2UoL0NhcHR1cmUkLywgJycpKTtcblx0XHRsZXQgbmFtZUxvd2VyID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdG5hbWUgPSAobmFtZUxvd2VyIGluIGRvbSA/IG5hbWVMb3dlciA6IG5hbWUpLnNsaWNlKDIpO1xuXG5cdFx0aWYgKHZhbHVlKSB7XG5cdFx0XHRpZiAoIW9sZFZhbHVlKSBkb20uYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBldmVudFByb3h5LCB1c2VDYXB0dXJlKTtcblx0XHRcdChkb20uX2xpc3RlbmVycyB8fCAoZG9tLl9saXN0ZW5lcnMgPSB7fSkpW25hbWVdID0gdmFsdWU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGRvbS5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIGV2ZW50UHJveHksIHVzZUNhcHR1cmUpO1xuXHRcdH1cblx0fSBlbHNlIGlmIChcblx0XHRuYW1lICE9PSAnbGlzdCcgJiZcblx0XHRuYW1lICE9PSAndGFnTmFtZScgJiZcblx0XHQvLyBIVE1MQnV0dG9uRWxlbWVudC5mb3JtIGFuZCBIVE1MSW5wdXRFbGVtZW50LmZvcm0gYXJlIHJlYWQtb25seSBidXQgY2FuIGJlIHNldCB1c2luZ1xuXHRcdC8vIHNldEF0dHJpYnV0ZVxuXHRcdG5hbWUgIT09ICdmb3JtJyAmJlxuXHRcdG5hbWUgIT09ICd0eXBlJyAmJlxuXHRcdCFpc1N2ZyAmJlxuXHRcdG5hbWUgaW4gZG9tXG5cdCkge1xuXHRcdGRvbVtuYW1lXSA9IHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xuXHR9IGVsc2UgaWYgKFxuXHRcdHR5cGVvZiB2YWx1ZSAhPT0gJ2Z1bmN0aW9uJyAmJlxuXHRcdG5hbWUgIT09ICdkYW5nZXJvdXNseVNldElubmVySFRNTCdcblx0KSB7XG5cdFx0aWYgKG5hbWUgIT09IChuYW1lID0gbmFtZS5yZXBsYWNlKC9eeGxpbms6Py8sICcnKSkpIHtcblx0XHRcdGlmICh2YWx1ZSA9PSBudWxsIHx8IHZhbHVlID09PSBmYWxzZSkge1xuXHRcdFx0XHRkb20ucmVtb3ZlQXR0cmlidXRlTlMoXG5cdFx0XHRcdFx0J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnLFxuXHRcdFx0XHRcdG5hbWUudG9Mb3dlckNhc2UoKVxuXHRcdFx0XHQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZG9tLnNldEF0dHJpYnV0ZU5TKFxuXHRcdFx0XHRcdCdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyxcblx0XHRcdFx0XHRuYW1lLnRvTG93ZXJDYXNlKCksXG5cdFx0XHRcdFx0dmFsdWVcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKHZhbHVlID09IG51bGwgfHwgdmFsdWUgPT09IGZhbHNlKSB7XG5cdFx0XHRkb20ucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRkb20uc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBQcm94eSBhbiBldmVudCB0byBob29rZWQgZXZlbnQgaGFuZGxlcnNcbiAqIEBwYXJhbSB7RXZlbnR9IGUgVGhlIGV2ZW50IG9iamVjdCBmcm9tIHRoZSBicm93c2VyXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBldmVudFByb3h5KGUpIHtcblx0dGhpcy5fbGlzdGVuZXJzW2UudHlwZV0ob3B0aW9ucy5ldmVudCA/IG9wdGlvbnMuZXZlbnQoZSkgOiBlKTtcbn1cbiIsImltcG9ydCB7IEVNUFRZX09CSiwgRU1QVFlfQVJSIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJy4uL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBGcmFnbWVudCB9IGZyb20gJy4uL2NyZWF0ZS1lbGVtZW50JztcbmltcG9ydCB7IGRpZmZDaGlsZHJlbiwgdG9DaGlsZEFycmF5IH0gZnJvbSAnLi9jaGlsZHJlbic7XG5pbXBvcnQgeyBkaWZmUHJvcHMgfSBmcm9tICcuL3Byb3BzJztcbmltcG9ydCB7IGFzc2lnbiwgcmVtb3ZlTm9kZSB9IGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0IG9wdGlvbnMgZnJvbSAnLi4vb3B0aW9ucyc7XG5cbi8qKlxuICogRGlmZiB0d28gdmlydHVhbCBub2RlcyBhbmQgYXBwbHkgcHJvcGVyIGNoYW5nZXMgdG8gdGhlIERPTVxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuUHJlYWN0RWxlbWVudH0gcGFyZW50RG9tIFRoZSBwYXJlbnQgb2YgdGhlIERPTSBlbGVtZW50XG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5WTm9kZX0gbmV3Vk5vZGUgVGhlIG5ldyB2aXJ0dWFsIG5vZGVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlZOb2RlfSBvbGRWTm9kZSBUaGUgb2xkIHZpcnR1YWwgbm9kZVxuICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHQgVGhlIGN1cnJlbnQgY29udGV4dCBvYmplY3RcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNTdmcgV2hldGhlciBvciBub3QgdGhpcyBlbGVtZW50IGlzIGFuIFNWRyBub2RlXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydCgnLi4vaW50ZXJuYWwnKS5QcmVhY3RFbGVtZW50Pn0gZXhjZXNzRG9tQ2hpbGRyZW5cbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KCcuLi9pbnRlcm5hbCcpLkNvbXBvbmVudD59IGNvbW1pdFF1ZXVlIExpc3Qgb2YgY29tcG9uZW50c1xuICogd2hpY2ggaGF2ZSBjYWxsYmFja3MgdG8gaW52b2tlIGluIGNvbW1pdFJvb3RcbiAqIEBwYXJhbSB7RWxlbWVudCB8IFRleHR9IG9sZERvbSBUaGUgY3VycmVudCBhdHRhY2hlZCBET01cbiAqIGVsZW1lbnQgYW55IG5ldyBkb20gZWxlbWVudHMgc2hvdWxkIGJlIHBsYWNlZCBhcm91bmQuIExpa2VseSBgbnVsbGAgb24gZmlyc3RcbiAqIHJlbmRlciAoZXhjZXB0IHdoZW4gaHlkcmF0aW5nKS4gQ2FuIGJlIGEgc2libGluZyBET00gZWxlbWVudCB3aGVuIGRpZmZpbmdcbiAqIEZyYWdtZW50cyB0aGF0IGhhdmUgc2libGluZ3MuIEluIG1vc3QgY2FzZXMsIGl0IHN0YXJ0cyBvdXQgYXMgYG9sZENoaWxkcmVuWzBdLl9kb21gLlxuICogQHBhcmFtIHtib29sZWFufSBbaXNIeWRyYXRpbmddIFdoZXRoZXIgb3Igbm90IHdlIGFyZSBpbiBoeWRyYXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpZmYoXG5cdHBhcmVudERvbSxcblx0bmV3Vk5vZGUsXG5cdG9sZFZOb2RlLFxuXHRjb250ZXh0LFxuXHRpc1N2Zyxcblx0ZXhjZXNzRG9tQ2hpbGRyZW4sXG5cdGNvbW1pdFF1ZXVlLFxuXHRvbGREb20sXG5cdGlzSHlkcmF0aW5nXG4pIHtcblx0bGV0IHRtcCxcblx0XHRuZXdUeXBlID0gbmV3Vk5vZGUudHlwZTtcblxuXHQvLyBXaGVuIHBhc3NpbmcgdGhyb3VnaCBjcmVhdGVFbGVtZW50IGl0IGFzc2lnbnMgdGhlIG9iamVjdFxuXHQvLyBjb25zdHJ1Y3RvciBhcyB1bmRlZmluZWQuIFRoaXMgdG8gcHJldmVudCBKU09OLWluamVjdGlvbi5cblx0aWYgKG5ld1ZOb2RlLmNvbnN0cnVjdG9yICE9PSB1bmRlZmluZWQpIHJldHVybiBudWxsO1xuXG5cdGlmICgodG1wID0gb3B0aW9ucy5fZGlmZikpIHRtcChuZXdWTm9kZSk7XG5cblx0dHJ5IHtcblx0XHRvdXRlcjogaWYgKHR5cGVvZiBuZXdUeXBlID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRsZXQgYywgaXNOZXcsIG9sZFByb3BzLCBvbGRTdGF0ZSwgc25hcHNob3QsIGNsZWFyUHJvY2Vzc2luZ0V4Y2VwdGlvbjtcblx0XHRcdGxldCBuZXdQcm9wcyA9IG5ld1ZOb2RlLnByb3BzO1xuXG5cdFx0XHQvLyBOZWNlc3NhcnkgZm9yIGNyZWF0ZUNvbnRleHQgYXBpLiBTZXR0aW5nIHRoaXMgcHJvcGVydHkgd2lsbCBwYXNzXG5cdFx0XHQvLyB0aGUgY29udGV4dCB2YWx1ZSBhcyBgdGhpcy5jb250ZXh0YCBqdXN0IGZvciB0aGlzIGNvbXBvbmVudC5cblx0XHRcdHRtcCA9IG5ld1R5cGUuY29udGV4dFR5cGU7XG5cdFx0XHRsZXQgcHJvdmlkZXIgPSB0bXAgJiYgY29udGV4dFt0bXAuX2lkXTtcblx0XHRcdGxldCBjY3R4ID0gdG1wXG5cdFx0XHRcdD8gcHJvdmlkZXJcblx0XHRcdFx0XHQ/IHByb3ZpZGVyLnByb3BzLnZhbHVlXG5cdFx0XHRcdFx0OiB0bXAuX2RlZmF1bHRWYWx1ZVxuXHRcdFx0XHQ6IGNvbnRleHQ7XG5cblx0XHRcdC8vIEdldCBjb21wb25lbnQgYW5kIHNldCBpdCB0byBgY2Bcblx0XHRcdGlmIChvbGRWTm9kZS5fY29tcG9uZW50KSB7XG5cdFx0XHRcdGMgPSBuZXdWTm9kZS5fY29tcG9uZW50ID0gb2xkVk5vZGUuX2NvbXBvbmVudDtcblx0XHRcdFx0Y2xlYXJQcm9jZXNzaW5nRXhjZXB0aW9uID0gYy5fcHJvY2Vzc2luZ0V4Y2VwdGlvbiA9IGMuX3BlbmRpbmdFcnJvcjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIEluc3RhbnRpYXRlIHRoZSBuZXcgY29tcG9uZW50XG5cdFx0XHRcdGlmICgncHJvdG90eXBlJyBpbiBuZXdUeXBlICYmIG5ld1R5cGUucHJvdG90eXBlLnJlbmRlcikge1xuXHRcdFx0XHRcdG5ld1ZOb2RlLl9jb21wb25lbnQgPSBjID0gbmV3IG5ld1R5cGUobmV3UHJvcHMsIGNjdHgpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5ldy1jYXBcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRuZXdWTm9kZS5fY29tcG9uZW50ID0gYyA9IG5ldyBDb21wb25lbnQobmV3UHJvcHMsIGNjdHgpO1xuXHRcdFx0XHRcdGMuY29uc3RydWN0b3IgPSBuZXdUeXBlO1xuXHRcdFx0XHRcdGMucmVuZGVyID0gZG9SZW5kZXI7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHByb3ZpZGVyKSBwcm92aWRlci5zdWIoYyk7XG5cblx0XHRcdFx0Yy5wcm9wcyA9IG5ld1Byb3BzO1xuXHRcdFx0XHRpZiAoIWMuc3RhdGUpIGMuc3RhdGUgPSB7fTtcblx0XHRcdFx0Yy5jb250ZXh0ID0gY2N0eDtcblx0XHRcdFx0Yy5fY29udGV4dCA9IGNvbnRleHQ7XG5cdFx0XHRcdGlzTmV3ID0gYy5fZGlydHkgPSB0cnVlO1xuXHRcdFx0XHRjLl9yZW5kZXJDYWxsYmFja3MgPSBbXTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSW52b2tlIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wc1xuXHRcdFx0aWYgKGMuX25leHRTdGF0ZSA9PSBudWxsKSB7XG5cdFx0XHRcdGMuX25leHRTdGF0ZSA9IGMuc3RhdGU7XG5cdFx0XHR9XG5cdFx0XHRpZiAobmV3VHlwZS5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgIT0gbnVsbCkge1xuXHRcdFx0XHRpZiAoYy5fbmV4dFN0YXRlID09IGMuc3RhdGUpIHtcblx0XHRcdFx0XHRjLl9uZXh0U3RhdGUgPSBhc3NpZ24oe30sIGMuX25leHRTdGF0ZSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRhc3NpZ24oXG5cdFx0XHRcdFx0Yy5fbmV4dFN0YXRlLFxuXHRcdFx0XHRcdG5ld1R5cGUuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5ld1Byb3BzLCBjLl9uZXh0U3RhdGUpXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cblx0XHRcdG9sZFByb3BzID0gYy5wcm9wcztcblx0XHRcdG9sZFN0YXRlID0gYy5zdGF0ZTtcblxuXHRcdFx0Ly8gSW52b2tlIHByZS1yZW5kZXIgbGlmZWN5Y2xlIG1ldGhvZHNcblx0XHRcdGlmIChpc05ldykge1xuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0bmV3VHlwZS5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPT0gbnVsbCAmJlxuXHRcdFx0XHRcdGMuY29tcG9uZW50V2lsbE1vdW50ICE9IG51bGxcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0Yy5jb21wb25lbnRXaWxsTW91bnQoKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChjLmNvbXBvbmVudERpZE1vdW50ICE9IG51bGwpIHtcblx0XHRcdFx0XHRjLl9yZW5kZXJDYWxsYmFja3MucHVzaChjLmNvbXBvbmVudERpZE1vdW50KTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdG5ld1R5cGUuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID09IG51bGwgJiZcblx0XHRcdFx0XHRuZXdQcm9wcyAhPT0gb2xkUHJvcHMgJiZcblx0XHRcdFx0XHRjLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgIT0gbnVsbFxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRjLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV3UHJvcHMsIGNjdHgpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdCFjLl9mb3JjZSAmJlxuXHRcdFx0XHRcdGMuc2hvdWxkQ29tcG9uZW50VXBkYXRlICE9IG51bGwgJiZcblx0XHRcdFx0XHRjLnNob3VsZENvbXBvbmVudFVwZGF0ZShuZXdQcm9wcywgYy5fbmV4dFN0YXRlLCBjY3R4KSA9PT0gZmFsc2Vcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0Yy5wcm9wcyA9IG5ld1Byb3BzO1xuXHRcdFx0XHRcdGMuc3RhdGUgPSBjLl9uZXh0U3RhdGU7XG5cdFx0XHRcdFx0Yy5fZGlydHkgPSBmYWxzZTtcblx0XHRcdFx0XHRjLl92bm9kZSA9IG5ld1ZOb2RlO1xuXHRcdFx0XHRcdG5ld1ZOb2RlLl9kb20gPSBvbGRWTm9kZS5fZG9tO1xuXHRcdFx0XHRcdG5ld1ZOb2RlLl9jaGlsZHJlbiA9IG9sZFZOb2RlLl9jaGlsZHJlbjtcblx0XHRcdFx0XHRpZiAoYy5fcmVuZGVyQ2FsbGJhY2tzLmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0Y29tbWl0UXVldWUucHVzaChjKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Zm9yICh0bXAgPSAwOyB0bXAgPCBuZXdWTm9kZS5fY2hpbGRyZW4ubGVuZ3RoOyB0bXArKykge1xuXHRcdFx0XHRcdFx0aWYgKG5ld1ZOb2RlLl9jaGlsZHJlblt0bXBdKSB7XG5cdFx0XHRcdFx0XHRcdG5ld1ZOb2RlLl9jaGlsZHJlblt0bXBdLl9wYXJlbnQgPSBuZXdWTm9kZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0YnJlYWsgb3V0ZXI7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoYy5jb21wb25lbnRXaWxsVXBkYXRlICE9IG51bGwpIHtcblx0XHRcdFx0XHRjLmNvbXBvbmVudFdpbGxVcGRhdGUobmV3UHJvcHMsIGMuX25leHRTdGF0ZSwgY2N0eCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoYy5jb21wb25lbnREaWRVcGRhdGUgIT0gbnVsbCkge1xuXHRcdFx0XHRcdGMuX3JlbmRlckNhbGxiYWNrcy5wdXNoKCgpID0+IHtcblx0XHRcdFx0XHRcdGMuY29tcG9uZW50RGlkVXBkYXRlKG9sZFByb3BzLCBvbGRTdGF0ZSwgc25hcHNob3QpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGMuY29udGV4dCA9IGNjdHg7XG5cdFx0XHRjLnByb3BzID0gbmV3UHJvcHM7XG5cdFx0XHRjLnN0YXRlID0gYy5fbmV4dFN0YXRlO1xuXG5cdFx0XHRpZiAoKHRtcCA9IG9wdGlvbnMuX3JlbmRlcikpIHRtcChuZXdWTm9kZSk7XG5cblx0XHRcdGMuX2RpcnR5ID0gZmFsc2U7XG5cdFx0XHRjLl92bm9kZSA9IG5ld1ZOb2RlO1xuXHRcdFx0Yy5fcGFyZW50RG9tID0gcGFyZW50RG9tO1xuXG5cdFx0XHR0bXAgPSBjLnJlbmRlcihjLnByb3BzLCBjLnN0YXRlLCBjLmNvbnRleHQpO1xuXHRcdFx0bGV0IGlzVG9wTGV2ZWxGcmFnbWVudCA9XG5cdFx0XHRcdHRtcCAhPSBudWxsICYmIHRtcC50eXBlID09IEZyYWdtZW50ICYmIHRtcC5rZXkgPT0gbnVsbDtcblx0XHRcdG5ld1ZOb2RlLl9jaGlsZHJlbiA9IHRvQ2hpbGRBcnJheShcblx0XHRcdFx0aXNUb3BMZXZlbEZyYWdtZW50ID8gdG1wLnByb3BzLmNoaWxkcmVuIDogdG1wXG5cdFx0XHQpO1xuXG5cdFx0XHRpZiAoYy5nZXRDaGlsZENvbnRleHQgIT0gbnVsbCkge1xuXHRcdFx0XHRjb250ZXh0ID0gYXNzaWduKGFzc2lnbih7fSwgY29udGV4dCksIGMuZ2V0Q2hpbGRDb250ZXh0KCkpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIWlzTmV3ICYmIGMuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgIT0gbnVsbCkge1xuXHRcdFx0XHRzbmFwc2hvdCA9IGMuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUob2xkUHJvcHMsIG9sZFN0YXRlKTtcblx0XHRcdH1cblxuXHRcdFx0ZGlmZkNoaWxkcmVuKFxuXHRcdFx0XHRwYXJlbnREb20sXG5cdFx0XHRcdG5ld1ZOb2RlLFxuXHRcdFx0XHRvbGRWTm9kZSxcblx0XHRcdFx0Y29udGV4dCxcblx0XHRcdFx0aXNTdmcsXG5cdFx0XHRcdGV4Y2Vzc0RvbUNoaWxkcmVuLFxuXHRcdFx0XHRjb21taXRRdWV1ZSxcblx0XHRcdFx0b2xkRG9tLFxuXHRcdFx0XHRpc0h5ZHJhdGluZ1xuXHRcdFx0KTtcblxuXHRcdFx0Yy5iYXNlID0gbmV3Vk5vZGUuX2RvbTtcblxuXHRcdFx0aWYgKGMuX3JlbmRlckNhbGxiYWNrcy5sZW5ndGgpIHtcblx0XHRcdFx0Y29tbWl0UXVldWUucHVzaChjKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGNsZWFyUHJvY2Vzc2luZ0V4Y2VwdGlvbikge1xuXHRcdFx0XHRjLl9wZW5kaW5nRXJyb3IgPSBjLl9wcm9jZXNzaW5nRXhjZXB0aW9uID0gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0Yy5fZm9yY2UgPSBudWxsO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRuZXdWTm9kZS5fZG9tID0gZGlmZkVsZW1lbnROb2Rlcyhcblx0XHRcdFx0b2xkVk5vZGUuX2RvbSxcblx0XHRcdFx0bmV3Vk5vZGUsXG5cdFx0XHRcdG9sZFZOb2RlLFxuXHRcdFx0XHRjb250ZXh0LFxuXHRcdFx0XHRpc1N2Zyxcblx0XHRcdFx0ZXhjZXNzRG9tQ2hpbGRyZW4sXG5cdFx0XHRcdGNvbW1pdFF1ZXVlLFxuXHRcdFx0XHRpc0h5ZHJhdGluZ1xuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRpZiAoKHRtcCA9IG9wdGlvbnMuZGlmZmVkKSkgdG1wKG5ld1ZOb2RlKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdG9wdGlvbnMuX2NhdGNoRXJyb3IoZSwgbmV3Vk5vZGUsIG9sZFZOb2RlKTtcblx0fVxuXG5cdHJldHVybiBuZXdWTm9kZS5fZG9tO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KCcuLi9pbnRlcm5hbCcpLkNvbXBvbmVudD59IGNvbW1pdFF1ZXVlIExpc3Qgb2YgY29tcG9uZW50c1xuICogd2hpY2ggaGF2ZSBjYWxsYmFja3MgdG8gaW52b2tlIGluIGNvbW1pdFJvb3RcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlZOb2RlfSByb290XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21taXRSb290KGNvbW1pdFF1ZXVlLCByb290KSB7XG5cdGlmIChvcHRpb25zLl9jb21taXQpIG9wdGlvbnMuX2NvbW1pdChyb290LCBjb21taXRRdWV1ZSk7XG5cblx0Y29tbWl0UXVldWUuc29tZShjID0+IHtcblx0XHR0cnkge1xuXHRcdFx0Y29tbWl0UXVldWUgPSBjLl9yZW5kZXJDYWxsYmFja3M7XG5cdFx0XHRjLl9yZW5kZXJDYWxsYmFja3MgPSBbXTtcblx0XHRcdGNvbW1pdFF1ZXVlLnNvbWUoY2IgPT4ge1xuXHRcdFx0XHRjYi5jYWxsKGMpO1xuXHRcdFx0fSk7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0b3B0aW9ucy5fY2F0Y2hFcnJvcihlLCBjLl92bm9kZSk7XG5cdFx0fVxuXHR9KTtcbn1cblxuLyoqXG4gKiBEaWZmIHR3byB2aXJ0dWFsIG5vZGVzIHJlcHJlc2VudGluZyBET00gZWxlbWVudFxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuUHJlYWN0RWxlbWVudH0gZG9tIFRoZSBET00gZWxlbWVudCByZXByZXNlbnRpbmdcbiAqIHRoZSB2aXJ0dWFsIG5vZGVzIGJlaW5nIGRpZmZlZFxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuVk5vZGV9IG5ld1ZOb2RlIFRoZSBuZXcgdmlydHVhbCBub2RlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5WTm9kZX0gb2xkVk5vZGUgVGhlIG9sZCB2aXJ0dWFsIG5vZGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb250ZXh0IFRoZSBjdXJyZW50IGNvbnRleHQgb2JqZWN0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzU3ZnIFdoZXRoZXIgb3Igbm90IHRoaXMgRE9NIG5vZGUgaXMgYW4gU1ZHIG5vZGVcbiAqIEBwYXJhbSB7Kn0gZXhjZXNzRG9tQ2hpbGRyZW5cbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KCcuLi9pbnRlcm5hbCcpLkNvbXBvbmVudD59IGNvbW1pdFF1ZXVlIExpc3Qgb2YgY29tcG9uZW50c1xuICogd2hpY2ggaGF2ZSBjYWxsYmFja3MgdG8gaW52b2tlIGluIGNvbW1pdFJvb3RcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNIeWRyYXRpbmcgV2hldGhlciBvciBub3Qgd2UgYXJlIGluIGh5ZHJhdGlvblxuICogQHJldHVybnMge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5QcmVhY3RFbGVtZW50fVxuICovXG5mdW5jdGlvbiBkaWZmRWxlbWVudE5vZGVzKFxuXHRkb20sXG5cdG5ld1ZOb2RlLFxuXHRvbGRWTm9kZSxcblx0Y29udGV4dCxcblx0aXNTdmcsXG5cdGV4Y2Vzc0RvbUNoaWxkcmVuLFxuXHRjb21taXRRdWV1ZSxcblx0aXNIeWRyYXRpbmdcbikge1xuXHRsZXQgaTtcblx0bGV0IG9sZFByb3BzID0gb2xkVk5vZGUucHJvcHM7XG5cdGxldCBuZXdQcm9wcyA9IG5ld1ZOb2RlLnByb3BzO1xuXG5cdC8vIFRyYWNrcyBlbnRlcmluZyBhbmQgZXhpdGluZyBTVkcgbmFtZXNwYWNlIHdoZW4gZGVzY2VuZGluZyB0aHJvdWdoIHRoZSB0cmVlLlxuXHRpc1N2ZyA9IG5ld1ZOb2RlLnR5cGUgPT09ICdzdmcnIHx8IGlzU3ZnO1xuXG5cdGlmIChkb20gPT0gbnVsbCAmJiBleGNlc3NEb21DaGlsZHJlbiAhPSBudWxsKSB7XG5cdFx0Zm9yIChpID0gMDsgaSA8IGV4Y2Vzc0RvbUNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBjaGlsZCA9IGV4Y2Vzc0RvbUNoaWxkcmVuW2ldO1xuXG5cdFx0XHRpZiAoXG5cdFx0XHRcdGNoaWxkICE9IG51bGwgJiZcblx0XHRcdFx0KG5ld1ZOb2RlLnR5cGUgPT09IG51bGxcblx0XHRcdFx0XHQ/IGNoaWxkLm5vZGVUeXBlID09PSAzXG5cdFx0XHRcdFx0OiBjaGlsZC5sb2NhbE5hbWUgPT09IG5ld1ZOb2RlLnR5cGUpXG5cdFx0XHQpIHtcblx0XHRcdFx0ZG9tID0gY2hpbGQ7XG5cdFx0XHRcdGV4Y2Vzc0RvbUNoaWxkcmVuW2ldID0gbnVsbDtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0aWYgKGRvbSA9PSBudWxsKSB7XG5cdFx0aWYgKG5ld1ZOb2RlLnR5cGUgPT09IG51bGwpIHtcblx0XHRcdHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShuZXdQcm9wcyk7XG5cdFx0fVxuXHRcdGRvbSA9IGlzU3ZnXG5cdFx0XHQ/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCBuZXdWTm9kZS50eXBlKVxuXHRcdFx0OiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5ld1ZOb2RlLnR5cGUpO1xuXHRcdC8vIHdlIGNyZWF0ZWQgYSBuZXcgcGFyZW50LCBzbyBub25lIG9mIHRoZSBwcmV2aW91c2x5IGF0dGFjaGVkIGNoaWxkcmVuIGNhbiBiZSByZXVzZWQ6XG5cdFx0ZXhjZXNzRG9tQ2hpbGRyZW4gPSBudWxsO1xuXHR9XG5cblx0aWYgKG5ld1ZOb2RlLnR5cGUgPT09IG51bGwpIHtcblx0XHRpZiAoZXhjZXNzRG9tQ2hpbGRyZW4gIT0gbnVsbCkge1xuXHRcdFx0ZXhjZXNzRG9tQ2hpbGRyZW5bZXhjZXNzRG9tQ2hpbGRyZW4uaW5kZXhPZihkb20pXSA9IG51bGw7XG5cdFx0fVxuXG5cdFx0aWYgKG9sZFByb3BzICE9PSBuZXdQcm9wcyAmJiBkb20uZGF0YSAhPSBuZXdQcm9wcykge1xuXHRcdFx0ZG9tLmRhdGEgPSBuZXdQcm9wcztcblx0XHR9XG5cdH0gZWxzZSBpZiAobmV3Vk5vZGUgIT09IG9sZFZOb2RlKSB7XG5cdFx0aWYgKGV4Y2Vzc0RvbUNoaWxkcmVuICE9IG51bGwpIHtcblx0XHRcdGV4Y2Vzc0RvbUNoaWxkcmVuID0gRU1QVFlfQVJSLnNsaWNlLmNhbGwoZG9tLmNoaWxkTm9kZXMpO1xuXHRcdH1cblxuXHRcdG9sZFByb3BzID0gb2xkVk5vZGUucHJvcHMgfHwgRU1QVFlfT0JKO1xuXG5cdFx0bGV0IG9sZEh0bWwgPSBvbGRQcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTDtcblx0XHRsZXQgbmV3SHRtbCA9IG5ld1Byb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MO1xuXG5cdFx0Ly8gRHVyaW5nIGh5ZHJhdGlvbiwgcHJvcHMgYXJlIG5vdCBkaWZmZWQgYXQgYWxsIChpbmNsdWRpbmcgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwpXG5cdFx0Ly8gQFRPRE8gd2Ugc2hvdWxkIHdhcm4gaW4gZGVidWcgbW9kZSB3aGVuIHByb3BzIGRvbid0IG1hdGNoIGhlcmUuXG5cdFx0aWYgKCFpc0h5ZHJhdGluZykge1xuXHRcdFx0aWYgKG9sZFByb3BzID09PSBFTVBUWV9PQkopIHtcblx0XHRcdFx0b2xkUHJvcHMgPSB7fTtcblx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBkb20uYXR0cmlidXRlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdG9sZFByb3BzW2RvbS5hdHRyaWJ1dGVzW2ldLm5hbWVdID0gZG9tLmF0dHJpYnV0ZXNbaV0udmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKG5ld0h0bWwgfHwgb2xkSHRtbCkge1xuXHRcdFx0XHQvLyBBdm9pZCByZS1hcHBseWluZyB0aGUgc2FtZSAnX19odG1sJyBpZiBpdCBkaWQgbm90IGNoYW5nZWQgYmV0d2VlbiByZS1yZW5kZXJcblx0XHRcdFx0aWYgKCFuZXdIdG1sIHx8ICFvbGRIdG1sIHx8IG5ld0h0bWwuX19odG1sICE9IG9sZEh0bWwuX19odG1sKSB7XG5cdFx0XHRcdFx0ZG9tLmlubmVySFRNTCA9IChuZXdIdG1sICYmIG5ld0h0bWwuX19odG1sKSB8fCAnJztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGRpZmZQcm9wcyhkb20sIG5ld1Byb3BzLCBvbGRQcm9wcywgaXNTdmcsIGlzSHlkcmF0aW5nKTtcblxuXHRcdG5ld1ZOb2RlLl9jaGlsZHJlbiA9IG5ld1ZOb2RlLnByb3BzLmNoaWxkcmVuO1xuXG5cdFx0Ly8gSWYgdGhlIG5ldyB2bm9kZSBkaWRuJ3QgaGF2ZSBkYW5nZXJvdXNseVNldElubmVySFRNTCwgZGlmZiBpdHMgY2hpbGRyZW5cblx0XHRpZiAoIW5ld0h0bWwpIHtcblx0XHRcdGRpZmZDaGlsZHJlbihcblx0XHRcdFx0ZG9tLFxuXHRcdFx0XHRuZXdWTm9kZSxcblx0XHRcdFx0b2xkVk5vZGUsXG5cdFx0XHRcdGNvbnRleHQsXG5cdFx0XHRcdG5ld1ZOb2RlLnR5cGUgPT09ICdmb3JlaWduT2JqZWN0JyA/IGZhbHNlIDogaXNTdmcsXG5cdFx0XHRcdGV4Y2Vzc0RvbUNoaWxkcmVuLFxuXHRcdFx0XHRjb21taXRRdWV1ZSxcblx0XHRcdFx0RU1QVFlfT0JKLFxuXHRcdFx0XHRpc0h5ZHJhdGluZ1xuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyAoYXMgYWJvdmUsIGRvbid0IGRpZmYgcHJvcHMgZHVyaW5nIGh5ZHJhdGlvbilcblx0XHRpZiAoIWlzSHlkcmF0aW5nKSB7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdCd2YWx1ZScgaW4gbmV3UHJvcHMgJiZcblx0XHRcdFx0bmV3UHJvcHMudmFsdWUgIT09IHVuZGVmaW5lZCAmJlxuXHRcdFx0XHRuZXdQcm9wcy52YWx1ZSAhPT0gZG9tLnZhbHVlXG5cdFx0XHQpIHtcblx0XHRcdFx0ZG9tLnZhbHVlID0gbmV3UHJvcHMudmFsdWUgPT0gbnVsbCA/ICcnIDogbmV3UHJvcHMudmFsdWU7XG5cdFx0XHR9XG5cdFx0XHRpZiAoXG5cdFx0XHRcdCdjaGVja2VkJyBpbiBuZXdQcm9wcyAmJlxuXHRcdFx0XHRuZXdQcm9wcy5jaGVja2VkICE9PSB1bmRlZmluZWQgJiZcblx0XHRcdFx0bmV3UHJvcHMuY2hlY2tlZCAhPT0gZG9tLmNoZWNrZWRcblx0XHRcdCkge1xuXHRcdFx0XHRkb20uY2hlY2tlZCA9IG5ld1Byb3BzLmNoZWNrZWQ7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGRvbTtcbn1cblxuLyoqXG4gKiBJbnZva2Ugb3IgdXBkYXRlIGEgcmVmLCBkZXBlbmRpbmcgb24gd2hldGhlciBpdCBpcyBhIGZ1bmN0aW9uIG9yIG9iamVjdCByZWYuXG4gKiBAcGFyYW0ge29iamVjdHxmdW5jdGlvbn0gcmVmXG4gKiBAcGFyYW0ge2FueX0gdmFsdWVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlZOb2RlfSB2bm9kZVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlSZWYocmVmLCB2YWx1ZSwgdm5vZGUpIHtcblx0dHJ5IHtcblx0XHRpZiAodHlwZW9mIHJlZiA9PSAnZnVuY3Rpb24nKSByZWYodmFsdWUpO1xuXHRcdGVsc2UgcmVmLmN1cnJlbnQgPSB2YWx1ZTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdG9wdGlvbnMuX2NhdGNoRXJyb3IoZSwgdm5vZGUpO1xuXHR9XG59XG5cbi8qKlxuICogVW5tb3VudCBhIHZpcnR1YWwgbm9kZSBmcm9tIHRoZSB0cmVlIGFuZCBhcHBseSBET00gY2hhbmdlc1xuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuVk5vZGV9IHZub2RlIFRoZSB2aXJ0dWFsIG5vZGUgdG8gdW5tb3VudFxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuVk5vZGV9IHBhcmVudFZOb2RlIFRoZSBwYXJlbnQgb2YgdGhlIFZOb2RlIHRoYXRcbiAqIGluaXRpYXRlZCB0aGUgdW5tb3VudFxuICogQHBhcmFtIHtib29sZWFufSBbc2tpcFJlbW92ZV0gRmxhZyB0aGF0IGluZGljYXRlcyB0aGF0IGEgcGFyZW50IG5vZGUgb2YgdGhlXG4gKiBjdXJyZW50IGVsZW1lbnQgaXMgYWxyZWFkeSBkZXRhY2hlZCBmcm9tIHRoZSBET00uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bm1vdW50KHZub2RlLCBwYXJlbnRWTm9kZSwgc2tpcFJlbW92ZSkge1xuXHRsZXQgcjtcblx0aWYgKG9wdGlvbnMudW5tb3VudCkgb3B0aW9ucy51bm1vdW50KHZub2RlKTtcblxuXHRpZiAoKHIgPSB2bm9kZS5yZWYpKSB7XG5cdFx0aWYgKCFyLmN1cnJlbnQgfHwgci5jdXJyZW50ID09PSB2bm9kZS5fZG9tKSBhcHBseVJlZihyLCBudWxsLCBwYXJlbnRWTm9kZSk7XG5cdH1cblxuXHRsZXQgZG9tO1xuXHRpZiAoIXNraXBSZW1vdmUgJiYgdHlwZW9mIHZub2RlLnR5cGUgIT09ICdmdW5jdGlvbicpIHtcblx0XHRza2lwUmVtb3ZlID0gKGRvbSA9IHZub2RlLl9kb20pICE9IG51bGw7XG5cdH1cblxuXHR2bm9kZS5fZG9tID0gdm5vZGUuX2xhc3REb21DaGlsZCA9IG51bGw7XG5cblx0aWYgKChyID0gdm5vZGUuX2NvbXBvbmVudCkgIT0gbnVsbCkge1xuXHRcdGlmIChyLmNvbXBvbmVudFdpbGxVbm1vdW50KSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRyLmNvbXBvbmVudFdpbGxVbm1vdW50KCk7XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdG9wdGlvbnMuX2NhdGNoRXJyb3IoZSwgcGFyZW50Vk5vZGUpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHIuYmFzZSA9IHIuX3BhcmVudERvbSA9IG51bGw7XG5cdH1cblxuXHRpZiAoKHIgPSB2bm9kZS5fY2hpbGRyZW4pKSB7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCByLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAocltpXSkgdW5tb3VudChyW2ldLCBwYXJlbnRWTm9kZSwgc2tpcFJlbW92ZSk7XG5cdFx0fVxuXHR9XG5cblx0aWYgKGRvbSAhPSBudWxsKSByZW1vdmVOb2RlKGRvbSk7XG59XG5cbi8qKiBUaGUgYC5yZW5kZXIoKWAgbWV0aG9kIGZvciBhIFBGQyBiYWNraW5nIGluc3RhbmNlLiAqL1xuZnVuY3Rpb24gZG9SZW5kZXIocHJvcHMsIHN0YXRlLCBjb250ZXh0KSB7XG5cdHJldHVybiB0aGlzLmNvbnN0cnVjdG9yKHByb3BzLCBjb250ZXh0KTtcbn1cbiIsImltcG9ydCB7IGFzc2lnbiB9IGZyb20gJy4vdXRpbCc7XG5pbXBvcnQgeyBFTVBUWV9BUlIgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBjcmVhdGVWTm9kZSB9IGZyb20gJy4vY3JlYXRlLWVsZW1lbnQnO1xuXG4vKipcbiAqIENsb25lcyB0aGUgZ2l2ZW4gVk5vZGUsIG9wdGlvbmFsbHkgYWRkaW5nIGF0dHJpYnV0ZXMvcHJvcHMgYW5kIHJlcGxhY2luZyBpdHMgY2hpbGRyZW4uXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlZOb2RlfSB2bm9kZSBUaGUgdmlydHVhbCBET00gZWxlbWVudCB0byBjbG9uZVxuICogQHBhcmFtIHtvYmplY3R9IHByb3BzIEF0dHJpYnV0ZXMvcHJvcHMgdG8gYWRkIHdoZW4gY2xvbmluZ1xuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoJy4vaW5kZXgnKS5Db21wb25lbnRDaGlsZHJlbj59IHJlc3QgQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIHdpbGwgYmUgdXNlZCBhcyByZXBsYWNlbWVudCBjaGlsZHJlbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsb25lRWxlbWVudCh2bm9kZSwgcHJvcHMpIHtcblx0cHJvcHMgPSBhc3NpZ24oYXNzaWduKHt9LCB2bm9kZS5wcm9wcyksIHByb3BzKTtcblx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPiAyKSBwcm9wcy5jaGlsZHJlbiA9IEVNUFRZX0FSUi5zbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG5cdHJldHVybiBjcmVhdGVWTm9kZShcblx0XHR2bm9kZS50eXBlLFxuXHRcdHByb3BzLFxuXHRcdHByb3BzLmtleSB8fCB2bm9kZS5rZXksXG5cdFx0cHJvcHMucmVmIHx8IHZub2RlLnJlZlxuXHQpO1xufVxuIiwiaW1wb3J0IHsgZW5xdWV1ZVJlbmRlciB9IGZyb20gJy4uL2NvbXBvbmVudCc7XG5cbi8qKlxuICogRmluZCB0aGUgY2xvc2VzdCBlcnJvciBib3VuZGFyeSB0byBhIHRocm93biBlcnJvciBhbmQgY2FsbCBpdFxuICogQHBhcmFtIHtvYmplY3R9IGVycm9yIFRoZSB0aHJvd24gdmFsdWVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlZOb2RlfSB2bm9kZSBUaGUgdm5vZGUgdGhhdCB0aHJld1xuICogdGhlIGVycm9yIHRoYXQgd2FzIGNhdWdodCAoZXhjZXB0IGZvciB1bm1vdW50aW5nIHdoZW4gdGhpcyBwYXJhbWV0ZXJcbiAqIGlzIHRoZSBoaWdoZXN0IHBhcmVudCB0aGF0IHdhcyBiZWluZyB1bm1vdW50ZWQpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBfY2F0Y2hFcnJvcihlcnJvciwgdm5vZGUpIHtcblx0LyoqIEB0eXBlIHtpbXBvcnQoJy4uL2ludGVybmFsJykuQ29tcG9uZW50fSAqL1xuXHRsZXQgY29tcG9uZW50LCBoYXNDYXVnaHQ7XG5cblx0Zm9yICg7ICh2bm9kZSA9IHZub2RlLl9wYXJlbnQpOyApIHtcblx0XHRpZiAoKGNvbXBvbmVudCA9IHZub2RlLl9jb21wb25lbnQpICYmICFjb21wb25lbnQuX3Byb2Nlc3NpbmdFeGNlcHRpb24pIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRjb21wb25lbnQuY29uc3RydWN0b3IgJiZcblx0XHRcdFx0XHRjb21wb25lbnQuY29uc3RydWN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yICE9IG51bGxcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0aGFzQ2F1Z2h0ID0gdHJ1ZTtcblx0XHRcdFx0XHRjb21wb25lbnQuc2V0U3RhdGUoXG5cdFx0XHRcdFx0XHRjb21wb25lbnQuY29uc3RydWN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yKGVycm9yKVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoY29tcG9uZW50LmNvbXBvbmVudERpZENhdGNoICE9IG51bGwpIHtcblx0XHRcdFx0XHRoYXNDYXVnaHQgPSB0cnVlO1xuXHRcdFx0XHRcdGNvbXBvbmVudC5jb21wb25lbnREaWRDYXRjaChlcnJvcik7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoaGFzQ2F1Z2h0KVxuXHRcdFx0XHRcdHJldHVybiBlbnF1ZXVlUmVuZGVyKChjb21wb25lbnQuX3BlbmRpbmdFcnJvciA9IGNvbXBvbmVudCkpO1xuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRlcnJvciA9IGU7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0dGhyb3cgZXJyb3I7XG59XG4iLCJpbXBvcnQge1xuXHRjcmVhdGVFbGVtZW50LFxuXHRyZW5kZXIgYXMgcHJlYWN0UmVuZGVyLFxuXHRjbG9uZUVsZW1lbnQgYXMgcHJlYWN0Q2xvbmVFbGVtZW50LFxuXHRjcmVhdGVSZWYsXG5cdENvbXBvbmVudCxcblx0Y3JlYXRlQ29udGV4dCxcblx0RnJhZ21lbnRcbn0gZnJvbSAncHJlYWN0JztcbmltcG9ydCB7XG5cdHVzZVN0YXRlLFxuXHR1c2VSZWR1Y2VyLFxuXHR1c2VFZmZlY3QsXG5cdHVzZUxheW91dEVmZmVjdCxcblx0dXNlUmVmLFxuXHR1c2VJbXBlcmF0aXZlSGFuZGxlLFxuXHR1c2VNZW1vLFxuXHR1c2VDYWxsYmFjayxcblx0dXNlQ29udGV4dCxcblx0dXNlRGVidWdWYWx1ZVxufSBmcm9tICdwcmVhY3QvaG9va3MnO1xuaW1wb3J0IHsgUHVyZUNvbXBvbmVudCB9IGZyb20gJy4vUHVyZUNvbXBvbmVudCc7XG5pbXBvcnQgeyBtZW1vIH0gZnJvbSAnLi9tZW1vJztcbmltcG9ydCB7IGZvcndhcmRSZWYgfSBmcm9tICcuL2ZvcndhcmRSZWYnO1xuaW1wb3J0IHsgQ2hpbGRyZW4gfSBmcm9tICcuL0NoaWxkcmVuJztcbmltcG9ydCB7IFN1c3BlbnNlLCBsYXp5IH0gZnJvbSAnLi9zdXNwZW5zZSc7XG5pbXBvcnQgeyBTdXNwZW5zZUxpc3QgfSBmcm9tICcuL3N1c3BlbnNlLWxpc3QnO1xuaW1wb3J0IHsgY3JlYXRlUG9ydGFsIH0gZnJvbSAnLi9wb3J0YWxzJztcbmltcG9ydCB7IGh5ZHJhdGUsIHJlbmRlciwgUkVBQ1RfRUxFTUVOVF9UWVBFIH0gZnJvbSAnLi9yZW5kZXInO1xuXG5jb25zdCB2ZXJzaW9uID0gJzE2LjguMCc7IC8vIHRyaWNrIGxpYnJhcmllcyB0byB0aGluayB3ZSBhcmUgcmVhY3RcblxuLyoqXG4gKiBMZWdhY3kgdmVyc2lvbiBvZiBjcmVhdGVFbGVtZW50LlxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZVtcInR5cGVcIl19IHR5cGUgVGhlIG5vZGUgbmFtZSBvciBDb21wb25lbnQgY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gY3JlYXRlRmFjdG9yeSh0eXBlKSB7XG5cdHJldHVybiBjcmVhdGVFbGVtZW50LmJpbmQobnVsbCwgdHlwZSk7XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhlIHBhc3NlZCBlbGVtZW50IGlzIGEgdmFsaWQgKHApcmVhY3Qgbm9kZS5cbiAqIEBwYXJhbSB7Kn0gZWxlbWVudCBUaGUgZWxlbWVudCB0byBjaGVja1xuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzVmFsaWRFbGVtZW50KGVsZW1lbnQpIHtcblx0cmV0dXJuICEhZWxlbWVudCAmJiBlbGVtZW50LiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEU7XG59XG5cbi8qKlxuICogV3JhcCBgY2xvbmVFbGVtZW50YCB0byBhYm9ydCBpZiB0aGUgcGFzc2VkIGVsZW1lbnQgaXMgbm90IGEgdmFsaWQgZWxlbWVudCBhbmQgYXBwbHlcbiAqIGFsbCB2bm9kZSBub3JtYWxpemF0aW9ucy5cbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuVk5vZGV9IGVsZW1lbnQgVGhlIHZub2RlIHRvIGNsb25lXG4gKiBAcGFyYW0ge29iamVjdH0gcHJvcHMgUHJvcHMgdG8gYWRkIHdoZW4gY2xvbmluZ1xuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoJy4vaW50ZXJuYWwnKS5Db21wb25lbnRDaGlsZHJlbj59IHJlc3QgT3B0aW9uYWwgY29tcG9uZW50IGNoaWxkcmVuXG4gKi9cbmZ1bmN0aW9uIGNsb25lRWxlbWVudChlbGVtZW50KSB7XG5cdGlmICghaXNWYWxpZEVsZW1lbnQoZWxlbWVudCkpIHJldHVybiBlbGVtZW50O1xuXHRyZXR1cm4gcHJlYWN0Q2xvbmVFbGVtZW50LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59XG5cbi8qKlxuICogUmVtb3ZlIGEgY29tcG9uZW50IHRyZWUgZnJvbSB0aGUgRE9NLCBpbmNsdWRpbmcgc3RhdGUgYW5kIGV2ZW50IGhhbmRsZXJzLlxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5QcmVhY3RFbGVtZW50fSBjb250YWluZXJcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiB1bm1vdW50Q29tcG9uZW50QXROb2RlKGNvbnRhaW5lcikge1xuXHRpZiAoY29udGFpbmVyLl9jaGlsZHJlbikge1xuXHRcdHByZWFjdFJlbmRlcihudWxsLCBjb250YWluZXIpO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cdHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIG1hdGNoaW5nIERPTSBub2RlIGZvciBhIGNvbXBvbmVudFxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5Db21wb25lbnR9IGNvbXBvbmVudFxuICogQHJldHVybnMge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlByZWFjdEVsZW1lbnQgfCBudWxsfVxuICovXG5mdW5jdGlvbiBmaW5kRE9NTm9kZShjb21wb25lbnQpIHtcblx0cmV0dXJuIChcblx0XHQoY29tcG9uZW50ICYmXG5cdFx0XHQoY29tcG9uZW50LmJhc2UgfHwgKGNvbXBvbmVudC5ub2RlVHlwZSA9PT0gMSAmJiBjb21wb25lbnQpKSkgfHxcblx0XHRudWxsXG5cdCk7XG59XG5cbi8qKlxuICogRGVwcmVjYXRlZCB3YXkgdG8gY29udHJvbCBiYXRjaGVkIHJlbmRlcmluZyBpbnNpZGUgdGhlIHJlY29uY2lsZXIsIGJ1dCB3ZVxuICogYWxyZWFkeSBzY2hlZHVsZSBpbiBiYXRjaGVzIGluc2lkZSBvdXIgcmVuZGVyaW5nIGNvZGVcbiAqIEB0ZW1wbGF0ZSBBcmdcbiAqIEBwYXJhbSB7KGFyZzogQXJnKSA9PiB2b2lkfSBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IHRyaWdnZXJzIHRoZSB1cGRhdGVkXG4gKiBAcGFyYW0ge0FyZ30gW2FyZ10gT3B0aW9uYWwgYXJndW1lbnQgdGhhdCBjYW4gYmUgcGFzc2VkIHRvIHRoZSBjYWxsYmFja1xuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG5jb25zdCB1bnN0YWJsZV9iYXRjaGVkVXBkYXRlcyA9IChjYWxsYmFjaywgYXJnKSA9PiBjYWxsYmFjayhhcmcpO1xuXG5leHBvcnQgKiBmcm9tICdwcmVhY3QvaG9va3MnO1xuZXhwb3J0IHtcblx0dmVyc2lvbixcblx0Q2hpbGRyZW4sXG5cdHJlbmRlcixcblx0aHlkcmF0ZSxcblx0dW5tb3VudENvbXBvbmVudEF0Tm9kZSxcblx0Y3JlYXRlUG9ydGFsLFxuXHRjcmVhdGVFbGVtZW50LFxuXHRjcmVhdGVDb250ZXh0LFxuXHRjcmVhdGVGYWN0b3J5LFxuXHRjbG9uZUVsZW1lbnQsXG5cdGNyZWF0ZVJlZixcblx0RnJhZ21lbnQsXG5cdGlzVmFsaWRFbGVtZW50LFxuXHRmaW5kRE9NTm9kZSxcblx0Q29tcG9uZW50LFxuXHRQdXJlQ29tcG9uZW50LFxuXHRtZW1vLFxuXHRmb3J3YXJkUmVmLFxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG5cdHVuc3RhYmxlX2JhdGNoZWRVcGRhdGVzLFxuXHRTdXNwZW5zZSxcblx0U3VzcGVuc2VMaXN0LFxuXHRsYXp5XG59O1xuXG4vLyBSZWFjdCBjb3BpZXMgdGhlIG5hbWVkIGV4cG9ydHMgdG8gdGhlIGRlZmF1bHQgb25lLlxuZXhwb3J0IGRlZmF1bHQge1xuXHR1c2VTdGF0ZSxcblx0dXNlUmVkdWNlcixcblx0dXNlRWZmZWN0LFxuXHR1c2VMYXlvdXRFZmZlY3QsXG5cdHVzZVJlZixcblx0dXNlSW1wZXJhdGl2ZUhhbmRsZSxcblx0dXNlTWVtbyxcblx0dXNlQ2FsbGJhY2ssXG5cdHVzZUNvbnRleHQsXG5cdHVzZURlYnVnVmFsdWUsXG5cdHZlcnNpb24sXG5cdENoaWxkcmVuLFxuXHRyZW5kZXIsXG5cdGh5ZHJhdGU6IHJlbmRlcixcblx0dW5tb3VudENvbXBvbmVudEF0Tm9kZSxcblx0Y3JlYXRlUG9ydGFsLFxuXHRjcmVhdGVFbGVtZW50LFxuXHRjcmVhdGVDb250ZXh0LFxuXHRjcmVhdGVGYWN0b3J5LFxuXHRjbG9uZUVsZW1lbnQsXG5cdGNyZWF0ZVJlZixcblx0RnJhZ21lbnQsXG5cdGlzVmFsaWRFbGVtZW50LFxuXHRmaW5kRE9NTm9kZSxcblx0Q29tcG9uZW50LFxuXHRQdXJlQ29tcG9uZW50LFxuXHRtZW1vLFxuXHRmb3J3YXJkUmVmLFxuXHR1bnN0YWJsZV9iYXRjaGVkVXBkYXRlcyxcblx0U3VzcGVuc2UsXG5cdFN1c3BlbnNlTGlzdCxcblx0bGF6eVxufTtcbiIsImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgeyBzaGFsbG93RGlmZmVycyB9IGZyb20gJy4vdXRpbCc7XG5cbi8qKlxuICogQ29tcG9uZW50IGNsYXNzIHdpdGggYSBwcmVkZWZpbmVkIGBzaG91bGRDb21wb25lbnRVcGRhdGVgIGltcGxlbWVudGF0aW9uXG4gKi9cbmV4cG9ydCBjbGFzcyBQdXJlQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcblx0Y29uc3RydWN0b3IocHJvcHMpIHtcblx0XHRzdXBlcihwcm9wcyk7XG5cdFx0Ly8gU29tZSB0aGlyZC1wYXJ0eSBsaWJyYXJpZXMgY2hlY2sgaWYgdGhpcyBwcm9wZXJ0eSBpcyBwcmVzZW50XG5cdFx0dGhpcy5pc1B1cmVSZWFjdENvbXBvbmVudCA9IHRydWU7XG5cdH1cblxuXHRzaG91bGRDb21wb25lbnRVcGRhdGUocHJvcHMsIHN0YXRlKSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdHNoYWxsb3dEaWZmZXJzKHRoaXMucHJvcHMsIHByb3BzKSB8fCBzaGFsbG93RGlmZmVycyh0aGlzLnN0YXRlLCBzdGF0ZSlcblx0XHQpO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBvcHRpb25zIH0gZnJvbSAncHJlYWN0JztcbmltcG9ydCB7IGFzc2lnbiB9IGZyb20gJy4vdXRpbCc7XG5cbmxldCBvbGRWTm9kZUhvb2sgPSBvcHRpb25zLnZub2RlO1xub3B0aW9ucy52bm9kZSA9IHZub2RlID0+IHtcblx0aWYgKHZub2RlLnR5cGUgJiYgdm5vZGUudHlwZS5fZm9yd2FyZGVkICYmIHZub2RlLnJlZikge1xuXHRcdHZub2RlLnByb3BzLnJlZiA9IHZub2RlLnJlZjtcblx0XHR2bm9kZS5yZWYgPSBudWxsO1xuXHR9XG5cblx0aWYgKG9sZFZOb2RlSG9vaykgb2xkVk5vZGVIb29rKHZub2RlKTtcbn07XG5cbi8qKlxuICogUGFzcyByZWYgZG93biB0byBhIGNoaWxkLiBUaGlzIGlzIG1haW5seSB1c2VkIGluIGxpYnJhcmllcyB3aXRoIEhPQ3MgdGhhdFxuICogd3JhcCBjb21wb25lbnRzLiBVc2luZyBgZm9yd2FyZFJlZmAgdGhlcmUgaXMgYW4gZWFzeSB3YXkgdG8gZ2V0IGEgcmVmZXJlbmNlXG4gKiBvZiB0aGUgd3JhcHBlZCBjb21wb25lbnQgaW5zdGVhZCBvZiBvbmUgb2YgdGhlIHdyYXBwZXIgaXRzZWxmLlxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW5kZXgnKS5Gb3J3YXJkRm59IGZuXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL2ludGVybmFsJykuRnVuY3Rpb25hbENvbXBvbmVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvcndhcmRSZWYoZm4pIHtcblx0ZnVuY3Rpb24gRm9yd2FyZGVkKHByb3BzKSB7XG5cdFx0bGV0IGNsb25lID0gYXNzaWduKHt9LCBwcm9wcyk7XG5cdFx0ZGVsZXRlIGNsb25lLnJlZjtcblx0XHRyZXR1cm4gZm4oY2xvbmUsIHByb3BzLnJlZik7XG5cdH1cblx0Rm9yd2FyZGVkLnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50ID0gdHJ1ZTtcblx0Rm9yd2FyZGVkLl9mb3J3YXJkZWQgPSB0cnVlO1xuXHRGb3J3YXJkZWQuZGlzcGxheU5hbWUgPSAnRm9yd2FyZFJlZignICsgKGZuLmRpc3BsYXlOYW1lIHx8IGZuLm5hbWUpICsgJyknO1xuXHRyZXR1cm4gRm9yd2FyZGVkO1xufVxuIiwiaW1wb3J0IHsgdG9DaGlsZEFycmF5IH0gZnJvbSAncHJlYWN0JztcblxuY29uc3QgbWFwRm4gPSAoY2hpbGRyZW4sIGZuKSA9PiB7XG5cdGlmICghY2hpbGRyZW4pIHJldHVybiBudWxsO1xuXHRyZXR1cm4gdG9DaGlsZEFycmF5KGNoaWxkcmVuKS5tYXAoZm4pO1xufTtcblxuLy8gVGhpcyBBUEkgaXMgY29tcGxldGVseSB1bm5lY2Vzc2FyeSBmb3IgUHJlYWN0LCBzbyBpdCdzIGJhc2ljYWxseSBwYXNzdGhyb3VnaC5cbmV4cG9ydCBjb25zdCBDaGlsZHJlbiA9IHtcblx0bWFwOiBtYXBGbixcblx0Zm9yRWFjaDogbWFwRm4sXG5cdGNvdW50KGNoaWxkcmVuKSB7XG5cdFx0cmV0dXJuIGNoaWxkcmVuID8gdG9DaGlsZEFycmF5KGNoaWxkcmVuKS5sZW5ndGggOiAwO1xuXHR9LFxuXHRvbmx5KGNoaWxkcmVuKSB7XG5cdFx0Y2hpbGRyZW4gPSB0b0NoaWxkQXJyYXkoY2hpbGRyZW4pO1xuXHRcdGlmIChjaGlsZHJlbi5sZW5ndGggIT09IDEpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignQ2hpbGRyZW4ub25seSgpIGV4cGVjdHMgb25seSBvbmUgY2hpbGQuJyk7XG5cdFx0fVxuXHRcdHJldHVybiBjaGlsZHJlblswXTtcblx0fSxcblx0dG9BcnJheTogdG9DaGlsZEFycmF5XG59O1xuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBjcmVhdGVFbGVtZW50LCBvcHRpb25zIH0gZnJvbSAncHJlYWN0JztcbmltcG9ydCB7IGFzc2lnbiB9IGZyb20gJy4vdXRpbCc7XG5cbmNvbnN0IG9sZENhdGNoRXJyb3IgPSBvcHRpb25zLl9jYXRjaEVycm9yO1xub3B0aW9ucy5fY2F0Y2hFcnJvciA9IGZ1bmN0aW9uKGVycm9yLCBuZXdWTm9kZSwgb2xkVk5vZGUpIHtcblx0aWYgKGVycm9yLnRoZW4pIHtcblx0XHQvKiogQHR5cGUge2ltcG9ydCgnLi9pbnRlcm5hbCcpLkNvbXBvbmVudH0gKi9cblx0XHRsZXQgY29tcG9uZW50O1xuXHRcdGxldCB2bm9kZSA9IG5ld1ZOb2RlO1xuXG5cdFx0Zm9yICg7ICh2bm9kZSA9IHZub2RlLl9wYXJlbnQpOyApIHtcblx0XHRcdGlmICgoY29tcG9uZW50ID0gdm5vZGUuX2NvbXBvbmVudCkgJiYgY29tcG9uZW50Ll9jaGlsZERpZFN1c3BlbmQpIHtcblx0XHRcdFx0Ly8gRG9uJ3QgY2FsbCBvbGRDYXRjaEVycm9yIGlmIHdlIGZvdW5kIGEgU3VzcGVuc2Vcblx0XHRcdFx0cmV0dXJuIGNvbXBvbmVudC5fY2hpbGREaWRTdXNwZW5kKGVycm9yLCBuZXdWTm9kZS5fY29tcG9uZW50KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0b2xkQ2F0Y2hFcnJvcihlcnJvciwgbmV3Vk5vZGUsIG9sZFZOb2RlKTtcbn07XG5cbmZ1bmN0aW9uIGRldGFjaGVkQ2xvbmUodm5vZGUpIHtcblx0aWYgKHZub2RlKSB7XG5cdFx0dm5vZGUgPSBhc3NpZ24oe30sIHZub2RlKTtcblx0XHR2bm9kZS5fY29tcG9uZW50ID0gbnVsbDtcblx0XHR2bm9kZS5fY2hpbGRyZW4gPSB2bm9kZS5fY2hpbGRyZW4gJiYgdm5vZGUuX2NoaWxkcmVuLm1hcChkZXRhY2hlZENsb25lKTtcblx0fVxuXHRyZXR1cm4gdm5vZGU7XG59XG5cbi8vIGhhdmluZyBjdXN0b20gaW5oZXJpdGFuY2UgaW5zdGVhZCBvZiBhIGNsYXNzIGhlcmUgc2F2ZXMgYSBsb3Qgb2YgYnl0ZXNcbmV4cG9ydCBmdW5jdGlvbiBTdXNwZW5zZShwcm9wcykge1xuXHQvLyB3ZSBkbyBub3QgY2FsbCBzdXBlciBoZXJlIHRvIGdvbGYgc29tZSBieXRlcy4uLlxuXHR0aGlzLl9zdXNwZW5zaW9ucyA9IDA7XG5cdHRoaXMuX2RldGFjaE9uTmV4dFJlbmRlciA9IG51bGw7XG59XG5cbi8vIFRoaW5ncyB3ZSBkbyBoZXJlIHRvIHNhdmUgc29tZSBieXRlcyBidXQgYXJlIG5vdCBwcm9wZXIgSlMgaW5oZXJpdGFuY2U6XG4vLyAtIGNhbGwgYG5ldyBDb21wb25lbnQoKWAgYXMgdGhlIHByb3RvdHlwZVxuLy8gLSBkbyBub3Qgc2V0IGBTdXNwZW5zZS5wcm90b3R5cGUuY29uc3RydWN0b3JgIHRvIGBTdXNwZW5zZWBcblN1c3BlbnNlLnByb3RvdHlwZSA9IG5ldyBDb21wb25lbnQoKTtcblxuLyoqXG4gKiBAcGFyYW0ge1Byb21pc2V9IHByb21pc2UgVGhlIHRocm93biBwcm9taXNlXG4gKiBAcGFyYW0ge0NvbXBvbmVudDxhbnksIGFueT59IHN1c3BlbmRpbmdDb21wb25lbnQgVGhlIHN1c3BlbmRpbmcgY29tcG9uZW50XG4gKi9cblN1c3BlbnNlLnByb3RvdHlwZS5fY2hpbGREaWRTdXNwZW5kID0gZnVuY3Rpb24ocHJvbWlzZSwgc3VzcGVuZGluZ0NvbXBvbmVudCkge1xuXHQvKiogQHR5cGUge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlN1c3BlbnNlQ29tcG9uZW50fSAqL1xuXHRjb25zdCBjID0gdGhpcztcblxuXHRjb25zdCByZXNvbHZlID0gc3VzcGVuZGVkKGMuX3Zub2RlKTtcblxuXHRsZXQgcmVzb2x2ZWQgPSBmYWxzZTtcblx0Y29uc3Qgb25SZXNvbHZlZCA9ICgpID0+IHtcblx0XHRpZiAocmVzb2x2ZWQpIHJldHVybjtcblxuXHRcdHJlc29sdmVkID0gdHJ1ZTtcblxuXHRcdGlmIChyZXNvbHZlKSB7XG5cdFx0XHRyZXNvbHZlKG9uU3VzcGVuc2lvbkNvbXBsZXRlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0b25TdXNwZW5zaW9uQ29tcGxldGUoKTtcblx0XHR9XG5cdH07XG5cblx0c3VzcGVuZGluZ0NvbXBvbmVudC5fc3VzcGVuZGVkQ29tcG9uZW50V2lsbFVubW91bnQgPVxuXHRcdHN1c3BlbmRpbmdDb21wb25lbnQuY29tcG9uZW50V2lsbFVubW91bnQ7XG5cdHN1c3BlbmRpbmdDb21wb25lbnQuY29tcG9uZW50V2lsbFVubW91bnQgPSAoKSA9PiB7XG5cdFx0b25SZXNvbHZlZCgpO1xuXG5cdFx0aWYgKHN1c3BlbmRpbmdDb21wb25lbnQuX3N1c3BlbmRlZENvbXBvbmVudFdpbGxVbm1vdW50KSB7XG5cdFx0XHRzdXNwZW5kaW5nQ29tcG9uZW50Ll9zdXNwZW5kZWRDb21wb25lbnRXaWxsVW5tb3VudCgpO1xuXHRcdH1cblx0fTtcblxuXHRjb25zdCBvblN1c3BlbnNpb25Db21wbGV0ZSA9ICgpID0+IHtcblx0XHRpZiAoIS0tYy5fc3VzcGVuc2lvbnMpIHtcblx0XHRcdGMuX3Zub2RlLl9jaGlsZHJlblswXSA9IGMuc3RhdGUuX3N1c3BlbmRlZDtcblx0XHRcdGMuc2V0U3RhdGUoeyBfc3VzcGVuZGVkOiAoYy5fZGV0YWNoT25OZXh0UmVuZGVyID0gbnVsbCkgfSk7XG5cdFx0fVxuXHR9O1xuXG5cdGlmICghYy5fc3VzcGVuc2lvbnMrKykge1xuXHRcdGMuc2V0U3RhdGUoeyBfc3VzcGVuZGVkOiAoYy5fZGV0YWNoT25OZXh0UmVuZGVyID0gYy5fdm5vZGUuX2NoaWxkcmVuWzBdKSB9KTtcblx0fVxuXHRwcm9taXNlLnRoZW4ob25SZXNvbHZlZCwgb25SZXNvbHZlZCk7XG59O1xuXG5TdXNwZW5zZS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24ocHJvcHMsIHN0YXRlKSB7XG5cdGlmICh0aGlzLl9kZXRhY2hPbk5leHRSZW5kZXIpIHtcblx0XHR0aGlzLl92bm9kZS5fY2hpbGRyZW5bMF0gPSBkZXRhY2hlZENsb25lKHRoaXMuX2RldGFjaE9uTmV4dFJlbmRlcik7XG5cdFx0dGhpcy5fZGV0YWNoT25OZXh0UmVuZGVyID0gbnVsbDtcblx0fVxuXG5cdHJldHVybiBbXG5cdFx0Y3JlYXRlRWxlbWVudChDb21wb25lbnQsIG51bGwsIHN0YXRlLl9zdXNwZW5kZWQgPyBudWxsIDogcHJvcHMuY2hpbGRyZW4pLFxuXHRcdHN0YXRlLl9zdXNwZW5kZWQgJiYgcHJvcHMuZmFsbGJhY2tcblx0XTtcbn07XG5cbi8qKlxuICogQ2hlY2tzIGFuZCBjYWxscyB0aGUgcGFyZW50IGNvbXBvbmVudCdzIF9zdXNwZW5kZWQgbWV0aG9kLCBwYXNzaW5nIGluIHRoZVxuICogc3VzcGVuZGVkIHZub2RlLiBUaGlzIGlzIGEgd2F5IGZvciBhIHBhcmVudCAoZS5nLiBTdXNwZW5zZUxpc3QpIHRvIGdldCBub3RpZmllZFxuICogdGhhdCBvbmUgb2YgaXRzIGNoaWxkcmVuL2Rlc2NlbmRhbnRzIHN1c3BlbmRlZC5cbiAqXG4gKiBUaGUgcGFyZW50IE1BWSByZXR1cm4gYSBjYWxsYmFjay4gVGhlIGNhbGxiYWNrIHdpbGwgZ2V0IGNhbGxlZCB3aGVuIHRoZVxuICogc3VzcGVuc2lvbiByZXNvbHZlcywgbm90aWZ5aW5nIHRoZSBwYXJlbnQgb2YgdGhlIGZhY3QuXG4gKiBNb3Jlb3ZlciwgdGhlIGNhbGxiYWNrIGdldHMgZnVuY3Rpb24gYHVuc3VzcGVuZGAgYXMgYSBwYXJhbWV0ZXIuIFRoZSByZXNvbHZlZFxuICogY2hpbGQgZGVzY2VuZGFudCB3aWxsIG5vdCBhY3R1YWxseSBnZXQgdW5zdXNwZW5kZWQgdW50aWwgYHVuc3VzcGVuZGAgZ2V0cyBjYWxsZWQuXG4gKiBUaGlzIGlzIGEgd2F5IGZvciB0aGUgcGFyZW50IHRvIGRlbGF5IHVuc3VzcGVuZGluZy5cbiAqXG4gKiBJZiB0aGUgcGFyZW50IGRvZXMgbm90IHJldHVybiBhIGNhbGxiYWNrIHRoZW4gdGhlIHJlc29sdmVkIHZub2RlXG4gKiBnZXRzIHVuc3VzcGVuZGVkIGltbWVkaWF0ZWx5IHdoZW4gaXQgcmVzb2x2ZXMuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoJy4uL3NyYy9pbnRlcm5hbCcpLlZOb2RlfSB2bm9kZVxuICogQHJldHVybnMgeygodW5zdXNwZW5kOiAoKSA9PiB2b2lkKSA9PiB2b2lkKT99XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdXNwZW5kZWQodm5vZGUpIHtcblx0bGV0IGNvbXBvbmVudCA9IHZub2RlLl9wYXJlbnQuX2NvbXBvbmVudDtcblx0cmV0dXJuIGNvbXBvbmVudCAmJiBjb21wb25lbnQuX3N1c3BlbmRlZCAmJiBjb21wb25lbnQuX3N1c3BlbmRlZCh2bm9kZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsYXp5KGxvYWRlcikge1xuXHRsZXQgcHJvbTtcblx0bGV0IGNvbXBvbmVudDtcblx0bGV0IGVycm9yO1xuXG5cdGZ1bmN0aW9uIExhenkocHJvcHMpIHtcblx0XHRpZiAoIXByb20pIHtcblx0XHRcdHByb20gPSBsb2FkZXIoKTtcblx0XHRcdHByb20udGhlbihcblx0XHRcdFx0ZXhwb3J0cyA9PiB7XG5cdFx0XHRcdFx0Y29tcG9uZW50ID0gZXhwb3J0cy5kZWZhdWx0IHx8IGV4cG9ydHM7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGUgPT4ge1xuXHRcdFx0XHRcdGVycm9yID0gZTtcblx0XHRcdFx0fVxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdGlmICghY29tcG9uZW50KSB7XG5cdFx0XHR0aHJvdyBwcm9tO1xuXHRcdH1cblxuXHRcdHJldHVybiBjcmVhdGVFbGVtZW50KGNvbXBvbmVudCwgcHJvcHMpO1xuXHR9XG5cblx0TGF6eS5kaXNwbGF5TmFtZSA9ICdMYXp5Jztcblx0TGF6eS5fZm9yd2FyZGVkID0gdHJ1ZTtcblx0cmV0dXJuIExhenk7XG59XG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIHRvQ2hpbGRBcnJheSB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgeyBzdXNwZW5kZWQgfSBmcm9tICcuL3N1c3BlbnNlLmpzJztcblxuLy8gSW5kZXhlcyB0byBsaW5rZWQgbGlzdCBub2RlcyAobm9kZXMgYXJlIHN0b3JlZCBhcyBhcnJheXMgdG8gc2F2ZSBieXRlcykuXG5jb25zdCBTVVNQRU5ERURfQ09VTlQgPSAwO1xuY29uc3QgUkVTT0xWRURfQ09VTlQgPSAxO1xuY29uc3QgTkVYVF9OT0RFID0gMjtcblxuLy8gSGF2aW5nIGN1c3RvbSBpbmhlcml0YW5jZSBpbnN0ZWFkIG9mIGEgY2xhc3MgaGVyZSBzYXZlcyBhIGxvdCBvZiBieXRlcy5cbmV4cG9ydCBmdW5jdGlvbiBTdXNwZW5zZUxpc3QoKSB7XG5cdHRoaXMuX25leHQgPSBudWxsO1xuXHR0aGlzLl9tYXAgPSBudWxsO1xufVxuXG4vLyBNYXJrIG9uZSBvZiBjaGlsZCdzIGVhcmxpZXIgc3VzcGVuc2lvbnMgYXMgcmVzb2x2ZWQuXG4vLyBTb21lIHBlbmRpbmcgY2FsbGJhY2tzIG1heSBiZWNvbWUgY2FsbGFibGUgZHVlIHRvIHRoaXNcbi8vIChlLmcuIHRoZSBsYXN0IHN1c3BlbmRlZCBkZXNjZW5kYW50IGdldHMgcmVzb2x2ZWQgd2hlblxuLy8gcmV2ZWFsT3JkZXIgPT09ICd0b2dldGhlcicpLiBQcm9jZXNzIHRob3NlIGNhbGxiYWNrcyBhcyB3ZWxsLlxuY29uc3QgcmVzb2x2ZSA9IChsaXN0LCBjaGlsZCwgbm9kZSkgPT4ge1xuXHRpZiAoKytub2RlW1JFU09MVkVEX0NPVU5UXSA9PT0gbm9kZVtTVVNQRU5ERURfQ09VTlRdKSB7XG5cdFx0Ly8gVGhlIG51bWJlciBhIGNoaWxkIChvciBhbnkgb2YgaXRzIGRlc2NlbmRhbnRzKSBoYXMgYmVlbiBzdXNwZW5kZWRcblx0XHQvLyBtYXRjaGVzIHRoZSBudW1iZXIgb2YgdGltZXMgaXQncyBiZWVuIHJlc29sdmVkLiBUaGVyZWZvcmUgd2Vcblx0XHQvLyBtYXJrIHRoZSBjaGlsZCBhcyBjb21wbGV0ZWx5IHJlc29sdmVkIGJ5IGRlbGV0aW5nIGl0IGZyb20gLl9tYXAuXG5cdFx0Ly8gVGhpcyBpcyB1c2VkIHRvIGZpZ3VyZSBvdXQgd2hlbiAqYWxsKiBjaGlsZHJlbiBoYXZlIGJlZW4gY29tcGxldGVseVxuXHRcdC8vIHJlc29sdmVkIHdoZW4gcmV2ZWFsT3JkZXIgaXMgJ3RvZ2V0aGVyJy5cblx0XHRsaXN0Ll9tYXAuZGVsZXRlKGNoaWxkKTtcblx0fVxuXG5cdC8vIElmIHJldmVhbE9yZGVyIGlzIGZhbHN5IHRoZW4gd2UgY2FuIGRvIGFuIGVhcmx5IGV4aXQsIGFzIHRoZVxuXHQvLyBjYWxsYmFja3Mgd29uJ3QgZ2V0IHF1ZXVlZCBpbiB0aGUgbm9kZSBhbnl3YXkuXG5cdC8vIElmIHJldmVhbE9yZGVyIGlzICd0b2dldGhlcicgdGhlbiBhbHNvIGRvIGFuIGVhcmx5IGV4aXRcblx0Ly8gaWYgYWxsIHN1c3BlbmRlZCBkZXNjZW5kYW50cyBoYXZlIG5vdCB5ZXQgYmVlbiByZXNvbHZlZC5cblx0aWYgKFxuXHRcdCFsaXN0LnByb3BzLnJldmVhbE9yZGVyIHx8XG5cdFx0KGxpc3QucHJvcHMucmV2ZWFsT3JkZXJbMF0gPT09ICd0JyAmJiBsaXN0Ll9tYXAuc2l6ZSlcblx0KSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Ly8gV2FsayB0aGUgY3VycmVudGx5IHN1c3BlbmRlZCBjaGlsZHJlbiBpbiBvcmRlciwgY2FsbGluZyB0aGVpclxuXHQvLyBzdG9yZWQgY2FsbGJhY2tzIG9uIHRoZSB3YXkuIFN0b3AgaWYgd2UgZW5jb3VudGVyIGEgY2hpbGQgdGhhdFxuXHQvLyBoYXMgbm90IGJlZW4gY29tcGxldGVseSByZXNvbHZlZCB5ZXQuXG5cdG5vZGUgPSBsaXN0Ll9uZXh0O1xuXHR3aGlsZSAobm9kZSkge1xuXHRcdHdoaWxlIChub2RlLmxlbmd0aCA+IDMpIHtcblx0XHRcdG5vZGUucG9wKCkoKTtcblx0XHR9XG5cdFx0aWYgKG5vZGVbUkVTT0xWRURfQ09VTlRdIDwgbm9kZVtTVVNQRU5ERURfQ09VTlRdKSB7XG5cdFx0XHRicmVhaztcblx0XHR9XG5cdFx0bGlzdC5fbmV4dCA9IG5vZGUgPSBub2RlW05FWFRfTk9ERV07XG5cdH1cbn07XG5cbi8vIFRoaW5ncyB3ZSBkbyBoZXJlIHRvIHNhdmUgc29tZSBieXRlcyBidXQgYXJlIG5vdCBwcm9wZXIgSlMgaW5oZXJpdGFuY2U6XG4vLyAtIGNhbGwgYG5ldyBDb21wb25lbnQoKWAgYXMgdGhlIHByb3RvdHlwZVxuLy8gLSBkbyBub3Qgc2V0IGBTdXNwZW5zZS5wcm90b3R5cGUuY29uc3RydWN0b3JgIHRvIGBTdXNwZW5zZWBcblN1c3BlbnNlTGlzdC5wcm90b3R5cGUgPSBuZXcgQ29tcG9uZW50KCk7XG5cblN1c3BlbnNlTGlzdC5wcm90b3R5cGUuX3N1c3BlbmRlZCA9IGZ1bmN0aW9uKGNoaWxkKSB7XG5cdGNvbnN0IGxpc3QgPSB0aGlzO1xuXHRjb25zdCBkZWxlZ2F0ZWQgPSBzdXNwZW5kZWQobGlzdC5fdm5vZGUpO1xuXG5cdGxldCBub2RlID0gbGlzdC5fbWFwLmdldChjaGlsZCk7XG5cdG5vZGVbU1VTUEVOREVEX0NPVU5UXSsrO1xuXG5cdHJldHVybiB1bnN1c3BlbmQgPT4ge1xuXHRcdGNvbnN0IHdyYXBwZWRVbnN1c3BlbmQgPSAoKSA9PiB7XG5cdFx0XHRpZiAoIWxpc3QucHJvcHMucmV2ZWFsT3JkZXIpIHtcblx0XHRcdFx0Ly8gU3BlY2lhbCBjYXNlIHRoZSB1bmRlZmluZWQgKGZhbHN5KSByZXZlYWxPcmRlciwgYXMgdGhlcmVcblx0XHRcdFx0Ly8gaXMgbm8gbmVlZCB0byBjb29yZGluYXRlIGEgc3BlY2lmaWMgb3JkZXIgb3IgdW5zdXNwZW5kcy5cblx0XHRcdFx0dW5zdXNwZW5kKCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRub2RlLnB1c2godW5zdXNwZW5kKTtcblx0XHRcdFx0cmVzb2x2ZShsaXN0LCBjaGlsZCwgbm9kZSk7XG5cdFx0XHR9XG5cdFx0fTtcblx0XHRpZiAoZGVsZWdhdGVkKSB7XG5cdFx0XHRkZWxlZ2F0ZWQod3JhcHBlZFVuc3VzcGVuZCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHdyYXBwZWRVbnN1c3BlbmQoKTtcblx0XHR9XG5cdH07XG59O1xuXG5TdXNwZW5zZUxpc3QucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKHByb3BzKSB7XG5cdHRoaXMuX25leHQgPSBudWxsO1xuXHR0aGlzLl9tYXAgPSBuZXcgTWFwKCk7XG5cblx0Y29uc3QgY2hpbGRyZW4gPSB0b0NoaWxkQXJyYXkocHJvcHMuY2hpbGRyZW4pO1xuXHRpZiAocHJvcHMucmV2ZWFsT3JkZXIgJiYgcHJvcHMucmV2ZWFsT3JkZXJbMF0gPT09ICdiJykge1xuXHRcdC8vIElmIG9yZGVyID09PSAnYmFja3dhcmRzJyAob3IsIHdlbGwsIGFueXRoaW5nIHN0YXJ0aW5nIHdpdGggYSAnYicpXG5cdFx0Ly8gdGhlbiBmbGlwIHRoZSBjaGlsZCBsaXN0IGFyb3VuZCBzbyB0aGF0IHRoZSBsYXN0IGNoaWxkIHdpbGwgYmVcblx0XHQvLyB0aGUgZmlyc3QgaW4gdGhlIGxpbmtlZCBsaXN0LlxuXHRcdGNoaWxkcmVuLnJldmVyc2UoKTtcblx0fVxuXHQvLyBCdWlsZCB0aGUgbGlua2VkIGxpc3QuIEl0ZXJhdGUgdGhyb3VnaCB0aGUgY2hpbGRyZW4gaW4gcmV2ZXJzZSBvcmRlclxuXHQvLyBzbyB0aGF0IGBfbmV4dGAgcG9pbnRzIHRvIHRoZSBmaXJzdCBsaW5rZWQgbGlzdCBub2RlIHRvIGJlIHJlc29sdmVkLlxuXHRmb3IgKGxldCBpID0gY2hpbGRyZW4ubGVuZ3RoOyBpLS07ICkge1xuXHRcdC8vIENyZWF0ZSBhIG5ldyBsaW5rZWQgbGlzdCBub2RlIGFzIGFuIGFycmF5IG9mIGZvcm06XG5cdFx0Ly8gXHRbc3VzcGVuZGVkX2NvdW50LCByZXNvbHZlZF9jb3VudCwgbmV4dF9ub2RlXVxuXHRcdC8vIHdoZXJlIHN1c3BlbmRlZF9jb3VudCBhbmQgcmVzb2x2ZWRfY291bnQgYXJlIG51bWVyaWMgY291bnRlcnMgZm9yXG5cdFx0Ly8ga2VlcGluZyB0cmFjayBob3cgbWFueSB0aW1lcyBhIG5vZGUgaGFzIGJlZW4gc3VzcGVuZGVkIGFuZCByZXNvbHZlZC5cblx0XHQvL1xuXHRcdC8vIE5vdGUgdGhhdCBzdXNwZW5kZWRfY291bnQgc3RhcnRzIGZyb20gMSBpbnN0ZWFkIG9mIDAsIHNvIHdlIGNhbiBibG9ja1xuXHRcdC8vIHByb2Nlc3NpbmcgY2FsbGJhY2tzIHVudGlsIGNvbXBvbmVudERpZE1vdW50IGhhcyBiZWVuIGNhbGxlZC4gSW4gYSBzZW5zZVxuXHRcdC8vIG5vZGUgaXMgc3VzcGVuZGVkIGF0IGxlYXN0IHVudGlsIGNvbXBvbmVudERpZE1vdW50IGdldHMgY2FsbGVkIVxuXHRcdC8vXG5cdFx0Ly8gUGVuZGluZyBjYWxsYmFja3MgYXJlIGFkZGVkIHRvIHRoZSBlbmQgb2YgdGhlIG5vZGU6XG5cdFx0Ly8gXHRbc3VzcGVuZGVkX2NvdW50LCByZXNvbHZlZF9jb3VudCwgbmV4dF9ub2RlLCBjYWxsYmFja18wLCBjYWxsYmFja18xLCAuLi5dXG5cdFx0dGhpcy5fbWFwLnNldChjaGlsZHJlbltpXSwgKHRoaXMuX25leHQgPSBbMSwgMCwgdGhpcy5fbmV4dF0pKTtcblx0fVxuXHRyZXR1cm4gcHJvcHMuY2hpbGRyZW47XG59O1xuXG5TdXNwZW5zZUxpc3QucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSA9IFN1c3BlbnNlTGlzdC5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbigpIHtcblx0Ly8gSXRlcmF0ZSB0aHJvdWdoIGFsbCBjaGlsZHJlbiBhZnRlciBtb3VudGluZyBmb3IgdHdvIHJlYXNvbnM6XG5cdC8vIDEuIEFzIGVhY2ggbm9kZVtTVVNQRU5ERURfQ09VTlRdIHN0YXJ0cyBmcm9tIDEsIHRoaXMgaXRlcmF0aW9uIGluY3JlYXNlc1xuXHQvLyAgICBlYWNoIG5vZGVbUkVMRUFTRURfQ09VTlRdIGJ5IDEsIHRoZXJlZm9yZSBiYWxhbmNpbmcgdGhlIGNvdW50ZXJzLlxuXHQvLyAgICBUaGUgbm9kZXMgY2FuIG5vdyBiZSBjb21wbGV0ZWx5IGNvbnN1bWVkIGZyb20gdGhlIGxpbmtlZCBsaXN0LlxuXHQvLyAyLiBIYW5kbGUgbm9kZXMgdGhhdCBtaWdodCBoYXZlIGdvdHRlbiByZXNvbHZlZCBiZXR3ZWVuIHJlbmRlciBhbmRcblx0Ly8gICAgY29tcG9uZW50RGlkTW91bnQuXG5cdGNvbnN0IGxpc3QgPSB0aGlzO1xuXHRsaXN0Ll9tYXAuZm9yRWFjaCgobm9kZSwgY2hpbGQpID0+IHtcblx0XHRyZXNvbHZlKGxpc3QsIGNoaWxkLCBub2RlKTtcblx0fSk7XG59O1xuIiwiaW1wb3J0IHsgY3JlYXRlRWxlbWVudCwgaHlkcmF0ZSwgcmVuZGVyLCBfdW5tb3VudCB9IGZyb20gJ3ByZWFjdCc7XG5cbmNsYXNzIENvbnRleHRQcm92aWRlciB7XG5cdGdldENoaWxkQ29udGV4dCgpIHtcblx0XHRyZXR1cm4gdGhpcy5wcm9wcy5jb250ZXh0O1xuXHR9XG5cdHJlbmRlcihwcm9wcykge1xuXHRcdHJldHVybiBwcm9wcy5jaGlsZHJlbjtcblx0fVxufVxuXG4vKipcbiAqIFBvcnRhbCBjb21wb25lbnRcbiAqIEBwYXJhbSB7b2JqZWN0IHwgbnVsbCB8IHVuZGVmaW5lZH0gcHJvcHNcbiAqL1xuZnVuY3Rpb24gUG9ydGFsKHByb3BzKSB7XG5cdGxldCBfdGhpcyA9IHRoaXM7XG5cdGxldCBjb250YWluZXIgPSBwcm9wcy5jb250YWluZXI7XG5cdGxldCB3cmFwID0gY3JlYXRlRWxlbWVudChcblx0XHRDb250ZXh0UHJvdmlkZXIsXG5cdFx0eyBjb250ZXh0OiBfdGhpcy5jb250ZXh0IH0sXG5cdFx0cHJvcHMudm5vZGVcblx0KTtcblxuXHQvLyBXaGVuIHdlIGNoYW5nZSBjb250YWluZXIgd2Ugc2hvdWxkIGNsZWFyIG91ciBvbGQgY29udGFpbmVyIGFuZFxuXHQvLyBpbmRpY2F0ZSBhIG5ldyBtb3VudC5cblx0aWYgKF90aGlzLl9jb250YWluZXIgJiYgX3RoaXMuX2NvbnRhaW5lciAhPT0gY29udGFpbmVyKSB7XG5cdFx0aWYgKF90aGlzLl90ZW1wLnBhcmVudE5vZGUpIF90aGlzLl9jb250YWluZXIucmVtb3ZlQ2hpbGQoX3RoaXMuX3RlbXApO1xuXHRcdF91bm1vdW50KF90aGlzLl93cmFwKTtcblx0XHRfdGhpcy5faGFzTW91bnRlZCA9IGZhbHNlO1xuXHR9XG5cblx0Ly8gV2hlbiBwcm9wcy52bm9kZSBpcyB1bmRlZmluZWQvZmFsc2UvbnVsbCB3ZSBhcmUgZGVhbGluZyB3aXRoIHNvbWUga2luZCBvZlxuXHQvLyBjb25kaXRpb25hbCB2bm9kZS4gVGhpcyBzaG91bGQgbm90IHRyaWdnZXIgYSByZW5kZXIuXG5cdGlmIChwcm9wcy52bm9kZSkge1xuXHRcdGlmICghX3RoaXMuX2hhc01vdW50ZWQpIHtcblx0XHRcdC8vIENyZWF0ZSBhIHBsYWNlaG9sZGVyIHRoYXQgd2UgY2FuIHVzZSB0byBpbnNlcnQgaW50by5cblx0XHRcdF90aGlzLl90ZW1wID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuXHRcdFx0Ly8gSHlkcmF0ZSBleGlzdGluZyBub2RlcyB0byBrZWVwIHRoZSBkb20gaW50YWN0LCB3aGVuIHJlbmRlcmluZ1xuXHRcdFx0Ly8gd3JhcCBpbnRvIHRoZSBjb250YWluZXIuXG5cdFx0XHRoeWRyYXRlKCcnLCBjb250YWluZXIpO1xuXHRcdFx0Ly8gQXBwZW5kIHRvIHRoZSBjb250YWluZXIgKHRoaXMgbWF0Y2hlcyBSZWFjdCdzIGJlaGF2aW9yKVxuXHRcdFx0Y29udGFpbmVyLmFwcGVuZENoaWxkKF90aGlzLl90ZW1wKTtcblx0XHRcdC8vIEF0IHRoaXMgcG9pbnQgd2UgaGF2ZSBtb3VudGVkIGFuZCBzaG91bGQgc2V0IG91ciBjb250YWluZXIuXG5cdFx0XHRfdGhpcy5faGFzTW91bnRlZCA9IHRydWU7XG5cdFx0XHRfdGhpcy5fY29udGFpbmVyID0gY29udGFpbmVyO1xuXHRcdFx0Ly8gUmVuZGVyIG91ciB3cmFwcGluZyBlbGVtZW50IGludG8gdGVtcC5cblx0XHRcdHJlbmRlcih3cmFwLCBjb250YWluZXIsIF90aGlzLl90ZW1wKTtcblx0XHRcdF90aGlzLl9jaGlsZHJlbiA9IHRoaXMuX3RlbXAuX2NoaWxkcmVuO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBXaGVuIHdlIGhhdmUgbW91bnRlZCBhbmQgdGhlIHZub2RlIGlzIHByZXNlbnQgaXQgbWVhbnMgdGhlXG5cdFx0XHQvLyBwcm9wcyBoYXZlIGNoYW5nZWQgb3IgYSBwYXJlbnQgaXMgdHJpZ2dlcmluZyBhIHJlcmVuZGVyLlxuXHRcdFx0Ly8gVGhpcyBpbXBsaWVzIHdlIG9ubHkgbmVlZCB0byBjYWxsIHJlbmRlci4gQnV0IHdlIG5lZWQgdG8ga2VlcFxuXHRcdFx0Ly8gdGhlIG9sZCB0cmVlIGFyb3VuZCwgb3RoZXJ3aXNlIHdpbGwgdHJlYXQgdGhlIHZub2RlcyBhcyBuZXcgYW5kXG5cdFx0XHQvLyB3aWxsIHdyb25nbHkgY2FsbCBgY29tcG9uZW50RGlkTW91bnRgIG9uIHRoZW1cblx0XHRcdGNvbnRhaW5lci5fY2hpbGRyZW4gPSBfdGhpcy5fY2hpbGRyZW47XG5cdFx0XHRyZW5kZXIod3JhcCwgY29udGFpbmVyKTtcblx0XHRcdF90aGlzLl9jaGlsZHJlbiA9IGNvbnRhaW5lci5fY2hpbGRyZW47XG5cdFx0fVxuXHR9XG5cdC8vIFdoZW4gd2UgY29tZSBmcm9tIGEgY29uZGl0aW9uYWwgcmVuZGVyLCBvbiBhIG1vdW50ZWRcblx0Ly8gcG9ydGFsIHdlIHNob3VsZCBjbGVhciB0aGUgRE9NLlxuXHRlbHNlIGlmIChfdGhpcy5faGFzTW91bnRlZCkge1xuXHRcdGlmIChfdGhpcy5fdGVtcC5wYXJlbnROb2RlKSBfdGhpcy5fY29udGFpbmVyLnJlbW92ZUNoaWxkKF90aGlzLl90ZW1wKTtcblx0XHRfdW5tb3VudChfdGhpcy5fd3JhcCk7XG5cdH1cblx0Ly8gU2V0IHRoZSB3cmFwcGluZyBlbGVtZW50IGZvciBmdXR1cmUgdW5tb3VudGluZy5cblx0X3RoaXMuX3dyYXAgPSB3cmFwO1xuXG5cdF90aGlzLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gKCkgPT4ge1xuXHRcdGlmIChfdGhpcy5fdGVtcC5wYXJlbnROb2RlKSBfdGhpcy5fY29udGFpbmVyLnJlbW92ZUNoaWxkKF90aGlzLl90ZW1wKTtcblx0XHRfdW5tb3VudChfdGhpcy5fd3JhcCk7XG5cdH07XG5cblx0cmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgYFBvcnRhbGAgdG8gY29udGludWUgcmVuZGVyaW5nIHRoZSB2bm9kZSB0cmVlIGF0IGEgZGlmZmVyZW50IERPTSBub2RlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlZOb2RlfSB2bm9kZSBUaGUgdm5vZGUgdG8gcmVuZGVyXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlByZWFjdEVsZW1lbnR9IGNvbnRhaW5lciBUaGUgRE9NIG5vZGUgdG8gY29udGludWUgcmVuZGVyaW5nIGluIHRvLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUG9ydGFsKHZub2RlLCBjb250YWluZXIpIHtcblx0cmV0dXJuIGNyZWF0ZUVsZW1lbnQoUG9ydGFsLCB7IHZub2RlLCBjb250YWluZXIgfSk7XG59XG4iLCIvKipcbiAqIE5vcm1hbGl6ZSBldmVudCBoYW5kbGVycyBsaWtlIHJlYWN0IGRvZXMuIE1vc3QgZmFtb3VzbHkgaXQgdXNlcyBgb25DaGFuZ2VgIGZvciBhbnkgaW5wdXQgZWxlbWVudC5cbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuVk5vZGV9IHZub2RlIFRoZSB2bm9kZSB0byBub3JtYWxpemUgZXZlbnRzIG9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBseUV2ZW50Tm9ybWFsaXphdGlvbih7IHR5cGUsIHByb3BzIH0pIHtcblx0aWYgKCFwcm9wcyB8fCB0eXBlb2YgdHlwZSAhPSAnc3RyaW5nJykgcmV0dXJuO1xuXHRsZXQgbmV3UHJvcHMgPSB7fTtcblxuXHRmb3IgKGxldCBpIGluIHByb3BzKSB7XG5cdFx0aWYgKC9eb24oQW5pfFRyYXxUb3UpLy50ZXN0KGkpKSB7XG5cdFx0XHRwcm9wc1tpLnRvTG93ZXJDYXNlKCldID0gcHJvcHNbaV07XG5cdFx0XHRkZWxldGUgcHJvcHNbaV07XG5cdFx0fVxuXHRcdG5ld1Byb3BzW2kudG9Mb3dlckNhc2UoKV0gPSBpO1xuXHR9XG5cdGlmIChuZXdQcm9wcy5vbmRvdWJsZWNsaWNrKSB7XG5cdFx0cHJvcHMub25kYmxjbGljayA9IHByb3BzW25ld1Byb3BzLm9uZG91YmxlY2xpY2tdO1xuXHRcdGRlbGV0ZSBwcm9wc1tuZXdQcm9wcy5vbmRvdWJsZWNsaWNrXTtcblx0fVxuXHRpZiAobmV3UHJvcHMub25iZWZvcmVpbnB1dCkge1xuXHRcdHByb3BzLm9uYmVmb3JlaW5wdXQgPSBwcm9wc1tuZXdQcm9wcy5vbmJlZm9yZWlucHV0XTtcblx0XHRkZWxldGUgcHJvcHNbbmV3UHJvcHMub25iZWZvcmVpbnB1dF07XG5cdH1cblx0Ly8gZm9yICp0ZXh0dWFsIGlucHV0cyogKGluY2wgdGV4dGFyZWEpLCBub3JtYWxpemUgYG9uQ2hhbmdlYCAtPiBgb25JbnB1dGA6XG5cdGlmIChcblx0XHRuZXdQcm9wcy5vbmNoYW5nZSAmJlxuXHRcdCh0eXBlID09PSAndGV4dGFyZWEnIHx8XG5cdFx0XHQodHlwZS50b0xvd2VyQ2FzZSgpID09PSAnaW5wdXQnICYmICEvXmZpbHxjaGV8cmEvaS50ZXN0KHByb3BzLnR5cGUpKSlcblx0KSB7XG5cdFx0bGV0IG5vcm1hbGl6ZWQgPSBuZXdQcm9wcy5vbmlucHV0IHx8ICdvbmlucHV0Jztcblx0XHRpZiAoIXByb3BzW25vcm1hbGl6ZWRdKSB7XG5cdFx0XHRwcm9wc1tub3JtYWxpemVkXSA9IHByb3BzW25ld1Byb3BzLm9uY2hhbmdlXTtcblx0XHRcdGRlbGV0ZSBwcm9wc1tuZXdQcm9wcy5vbmNoYW5nZV07XG5cdFx0fVxuXHR9XG59XG4iLCJpbXBvcnQgeyBjcmVhdGVFbGVtZW50IH0gZnJvbSAncHJlYWN0JztcbmltcG9ydCB7IHNoYWxsb3dEaWZmZXJzLCBhc3NpZ24gfSBmcm9tICcuL3V0aWwnO1xuXG4vKipcbiAqIE1lbW9pemUgYSBjb21wb25lbnQsIHNvIHRoYXQgaXQgb25seSB1cGRhdGVzIHdoZW4gdGhlIHByb3BzIGFjdHVhbGx5IGhhdmVcbiAqIGNoYW5nZWQuIFRoaXMgd2FzIHByZXZpb3VzbHkga25vd24gYXMgYFJlYWN0LnB1cmVgLlxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5GdW5jdGlvbmFsQ29tcG9uZW50fSBjIGZ1bmN0aW9uYWwgY29tcG9uZW50XG4gKiBAcGFyYW0geyhwcmV2OiBvYmplY3QsIG5leHQ6IG9iamVjdCkgPT4gYm9vbGVhbn0gW2NvbXBhcmVyXSBDdXN0b20gZXF1YWxpdHkgZnVuY3Rpb25cbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5GdW5jdGlvbmFsQ29tcG9uZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gbWVtbyhjLCBjb21wYXJlcikge1xuXHRmdW5jdGlvbiBzaG91bGRVcGRhdGUobmV4dFByb3BzKSB7XG5cdFx0bGV0IHJlZiA9IHRoaXMucHJvcHMucmVmO1xuXHRcdGxldCB1cGRhdGVSZWYgPSByZWYgPT0gbmV4dFByb3BzLnJlZjtcblx0XHRpZiAoIXVwZGF0ZVJlZiAmJiByZWYpIHtcblx0XHRcdHJlZi5jYWxsID8gcmVmKG51bGwpIDogKHJlZi5jdXJyZW50ID0gbnVsbCk7XG5cdFx0fVxuXG5cdFx0aWYgKCFjb21wYXJlcikge1xuXHRcdFx0cmV0dXJuIHNoYWxsb3dEaWZmZXJzKHRoaXMucHJvcHMsIG5leHRQcm9wcyk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuICFjb21wYXJlcih0aGlzLnByb3BzLCBuZXh0UHJvcHMpIHx8ICF1cGRhdGVSZWY7XG5cdH1cblxuXHRmdW5jdGlvbiBNZW1vZWQocHJvcHMpIHtcblx0XHR0aGlzLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IHNob3VsZFVwZGF0ZTtcblx0XHRyZXR1cm4gY3JlYXRlRWxlbWVudChjLCBhc3NpZ24oe30sIHByb3BzKSk7XG5cdH1cblx0TWVtb2VkLnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50ID0gdHJ1ZTtcblx0TWVtb2VkLmRpc3BsYXlOYW1lID0gJ01lbW8oJyArIChjLmRpc3BsYXlOYW1lIHx8IGMubmFtZSkgKyAnKSc7XG5cdE1lbW9lZC5fZm9yd2FyZGVkID0gdHJ1ZTtcblx0cmV0dXJuIE1lbW9lZDtcbn1cbiIsInZhciByPXtkYXRhOlwiXCJ9LGU9ZnVuY3Rpb24oZSl7dHJ5e3ZhciB0PWU/ZS5xdWVyeVNlbGVjdG9yKFwiI19nb29iZXJcIik6c2VsZi5fZ29vYmVyO3JldHVybiB0fHwoKHQ9KGV8fGRvY3VtZW50LmhlYWQpLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKSkpLmlubmVySFRNTD1cIiBcIix0LmlkPVwiX2dvb2JlclwiKSx0LmZpcnN0Q2hpbGR9Y2F0Y2gocil7fXJldHVybiByfSx0PWZ1bmN0aW9uKHIpe3ZhciB0PWUociksYT10LmRhdGE7cmV0dXJuIHQuZGF0YT1cIlwiLGF9LGE9Lyg/OihbYS16MC05LSVAXSspICo6PyAqKFteeztdKz8pO3woW147fXtdKj8pICt7KXwofSkvZ2ksbj0vXFwvXFwqLio/XFwqXFwvfFxcc3syLH18XFxuL2dtLGM9ZnVuY3Rpb24ocixlLHQpe3ZhciBhPVwiXCIsbj1cIlwiLGk9XCJcIjtpZigvXkBba3xmXS8udGVzdCh0KSlyZXR1cm4gdCtKU09OLnN0cmluZ2lmeShyKS5yZXBsYWNlKC9cIixcIi9nLFwiO1wiKS5yZXBsYWNlKC9cInwsXCIvZyxcIlwiKS5yZXBsYWNlKC86ey9nLFwie1wiKTtmb3IodmFyIG8gaW4gcil7dmFyIHU9cltvXTtpZihcIm9iamVjdFwiPT10eXBlb2YgdSl7dmFyIHM9ZStcIiBcIitvOy8mL2cudGVzdChvKSYmKHM9by5yZXBsYWNlKC8mL2csZSkpLFwiQFwiPT1vWzBdJiYocz1lKSxuKz1jKHUscyxzPT1lP286dHx8XCJcIil9ZWxzZS9eQGkvLnRlc3Qobyk/aT1vK1wiIFwiK3UrXCI7XCI6YSs9by5yZXBsYWNlKC9bQS1aXS9nLFwiLSQmXCIpLnRvTG93ZXJDYXNlKCkrXCI6XCIrdStcIjtcIn1pZihhLmNoYXJDb2RlQXQoMCkpe3ZhciBmPWUrXCJ7XCIrYStcIn1cIjtyZXR1cm4gdD9uK3QrXCJ7XCIrZitcIn1cIjppK2Yrbn1yZXR1cm4gaStufSxpPXtjOjB9LG89ZnVuY3Rpb24ocixlLHQsbyl7dmFyIHU9SlNPTi5zdHJpbmdpZnkocikscz1pW3VdfHwoaVt1XT10P1wiXCI6XCIuZ29cIit1LnNwbGl0KFwiXCIpLnJlZHVjZShmdW5jdGlvbihyLGUpe3JldHVybiByK2UuY2hhckNvZGVBdCgwKXw4fSw0KSk7cmV0dXJuIGZ1bmN0aW9uKHIsZSx0KXtlLmRhdGEuaW5kZXhPZihyKTwwJiYoZS5kYXRhPXQ/citlLmRhdGE6ZS5kYXRhK3IpfShpW3NdfHwoaVtzXT1jKHJbMF0/ZnVuY3Rpb24ocil7Zm9yKHZhciBlLHQ9W3t9XTtlPWEuZXhlYyhyLnJlcGxhY2UobixcIlwiKSk7KWVbNF0mJnQuc2hpZnQoKSxlWzNdP3QudW5zaGlmdCh0WzBdW2VbM11dPXt9KTplWzRdfHwodFswXVtlWzFdXT1lWzJdKTtyZXR1cm4gdFswXX0ocik6cixzKSksZSxvKSxzLnNsaWNlKDEpfSx1PWZ1bmN0aW9uKHIsZSx0KXtyZXR1cm4gci5yZWR1Y2UoZnVuY3Rpb24ocixhLG4pe3ZhciBjPWVbbl07aWYoYyYmYy5jYWxsKXt2YXIgaT1jKHQpLG89aSYmaS5wcm9wcyYmaS5wcm9wcy5jbGFzc05hbWV8fC9eZ28vLnRlc3QoaSkmJmk7Yz1vP1wiLlwiK286aSYmaS5wcm9wcz9cIlwiOml9cmV0dXJuIHIrYSsoY3x8XCJcIil9LFwiXCIpfTtmdW5jdGlvbiBzKHIpe3ZhciB0PXRoaXN8fHt9LGE9ci5jYWxsP3IodC5wKTpyO3JldHVybiBvKGEubWFwP3UoYSxbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSx0LnApOmEsZSh0LnRhcmdldCksdC5nLHQubyl9dmFyIGYsbCxwLGc9cy5iaW5kKHtnOjF9KSxkPWZ1bmN0aW9uKHIsZSx0KXtmPXIsbD1lLHA9dH07ZnVuY3Rpb24gdihyKXt2YXIgZT10aGlzfHx7fTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHM7ZnVuY3Rpb24gYShhLG4pe3ZhciBjPWUucD1PYmplY3QuYXNzaWduKHA/e3RoZW1lOnAoKX06e30sYSksaT1jLmNsYXNzTmFtZTtyZXR1cm4gZS5vPS9cXHMqZ29bMC05XSsvZy50ZXN0KGkpLGMuY2xhc3NOYW1lPXMuYXBwbHkoZSx0KSsoaT9cIiBcIitpOlwiXCIpLGMucmVmPW4sZihyLGMpfXJldHVybiBsP2woYSk6YX19ZXhwb3J0e3YgYXMgc3R5bGVkLGQgYXMgc2V0dXAsdCBhcyBleHRyYWN0Q3NzLHMgYXMgY3NzLGcgYXMgZ2xvYn07XG4iLCJmdW5jdGlvbiBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsTG9vc2Uoc3RyaW5ncywgcmF3KSB7XG4gIGlmICghcmF3KSB7XG4gICAgcmF3ID0gc3RyaW5ncy5zbGljZSgwKTtcbiAgfVxuXG4gIHN0cmluZ3MucmF3ID0gcmF3O1xuICByZXR1cm4gc3RyaW5ncztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsTG9vc2U7IiwiIWZ1bmN0aW9uKGUsdCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9dChyZXF1aXJlKFwicHJlYWN0XCIpKTtlbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW1wicHJlYWN0XCJdLHQpO2Vsc2V7dmFyIG49dChcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9yZXF1aXJlKFwicHJlYWN0XCIpOmUucHJlYWN0KTtmb3IodmFyIG8gaW4gbikoXCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0czplKVtvXT1uW29dfX0odGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChvKXtpZihuW29dKXJldHVybiBuW29dLmV4cG9ydHM7dmFyIHI9bltvXT17ZXhwb3J0czp7fSxpZDpvLGxvYWRlZDohMX07cmV0dXJuIGVbb10uY2FsbChyLmV4cG9ydHMscixyLmV4cG9ydHMsdCksci5sb2FkZWQ9ITAsci5leHBvcnRzfXZhciBuPXt9O3JldHVybiB0Lm09ZSx0LmM9bix0LnA9XCJcIix0KDApfShbZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIHIoZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIisoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHQ/XCJ1bmRlZmluZWRcIjphKHQpKSk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX1mdW5jdGlvbiB1KGUsdCxuKXt2YXIgdT1mdW5jdGlvbih0KXtmdW5jdGlvbiB1KCl7byh0aGlzLHUpO3ZhciB0PVJlZmxlY3QuY29uc3RydWN0KEhUTUxFbGVtZW50LFtdLHUpO3JldHVybiB0Ll92ZG9tQ29tcG9uZW50PWUsdH1yZXR1cm4gcih1LHQpLHModSxbe2tleTpcImNvbm5lY3RlZENhbGxiYWNrXCIsdmFsdWU6ZnVuY3Rpb24oKXtpLmFwcGx5KHRoaXMpfX0se2tleTpcImF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFja1wiLHZhbHVlOmZ1bmN0aW9uKCl7aS5hcHBseSh0aGlzKX19LHtrZXk6XCJkZXRhY2hlZENhbGxiYWNrXCIsdmFsdWU6ZnVuY3Rpb24oKXtmLmFwcGx5KHRoaXMpfX1dLFt7a2V5Olwib2JzZXJ2ZWRBdHRyaWJ1dGVzXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG59fV0pLHV9KEhUTUxFbGVtZW50KTtyZXR1cm4gd2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSh0fHxlLmRpc3BsYXlOYW1lfHxlLm5hbWUsdSl9ZnVuY3Rpb24gaSgpe3RoaXMuX3Jvb3Q9KDAsbC5yZW5kZXIpKGModGhpcyx0aGlzLl92ZG9tQ29tcG9uZW50KSx0aGlzLHRoaXMuX3Jvb3QpfWZ1bmN0aW9uIGYoKXsoMCxsLnJlbmRlcikoKDAsbC5oKShwKSx0aGlzLHRoaXMuX3Jvb3QpfWZ1bmN0aW9uIGMoZSx0KXtpZigzPT09ZS5ub2RlVHlwZSlyZXR1cm4gZS5ub2RlVmFsdWU7aWYoMSE9PWUubm9kZVR5cGUpcmV0dXJuIG51bGw7dmFyIG49W10sbz17fSxyPTAsdT1lLmF0dHJpYnV0ZXMsaT1lLmNoaWxkTm9kZXM7Zm9yKHI9dS5sZW5ndGg7ci0tOylvW3Vbcl0ubmFtZV09dVtyXS52YWx1ZTtmb3Iocj1pLmxlbmd0aDtyLS07KW5bcl09YyhpW3JdKTtyZXR1cm4oMCxsLmgpKHR8fGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxvLG4pfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9O3RbXCJkZWZhdWx0XCJdPXU7dmFyIGw9bigxKSxwPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBvPXRbbl07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24odCxuLG8pe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLG8mJmUodCxvKSx0fX0oKX0sZnVuY3Rpb24odCxuKXt0LmV4cG9ydHM9ZX1dKX0pOyIsIlxuY29uc3QgY29sb3JzID0ge1xuICAkRDEwOiBcIiMxNjJEM0RcIiwgLy8gTWFpbiBpbnB1dCB0ZXh0LCB0aXRsZXNcbiAgJEQyMDogXCIjMzI1MzZBXCIsIC8vIFRpdGxlcywgdGV4dHNcbiAgJEQzMDogXCIjNTc3MDgzXCIsIC8vIFRleHRzXG4gICRENDA6IFwiIzdBOTJBNVwiLCAvLyBEaXZpZGVycywgdGV4dHMsIFBsYWNlaG9sZGVyXG4gICRENTA6IFwiI0I2QzFDRFwiLCAvLyBEaXZpZGVycywgdGV4dHNcbiAgJEQ1NTogXCIjQ0JEM0RDXCIsIC8vIERpc2FibGVkIGJ1dHRvbiAtIG5ldyB2ZXJzaW9uIC0gbmFtaW5nIG5vdCBmaW5hbFxuICAkRDYwOiBcIiNERkU1RUJcIiwgLy8gRGl2aWRlcnNcbiAgJEQ3MDogXCIjRjBGNEY3XCIsIC8vIFBhZ2UgYmFja2dyb3VuZCwgZGl2aWRlcnNcbiAgJEQ4MDogXCIjRkZGRkZGXCIsIC8vIENvbnRlbnQgYm94IGJhY2tncm91bmRcblxuICAkQjAwOiBcIiMyQjgxQ0JcIiwgLy8gQnV0dG9uc1xuICAkQjA1OiBcIiMzMDhERERcIiwgLy8gQ1RBXG4gICRCMTA6IFwiIzM4OTlFQ1wiLCAvLyBNYWluIGFjdGlvbiBjb2xvciwgYWN0aXZlLCBidXR0b25zXG4gICRCMjA6IFwiIzRFQjdGNVwiLCAvLyBIb3ZlciBmb3IgZWxlbWVudHMgd2l0aCBCMTAsIGJ1dHRvbnNcbiAgJEIyNTogXCIjQTFEN0ZCXCIsXG4gICRCMjc6IFwiI0IzRTBGQlwiLFxuICAkQjMwOiBcIiNDMUU0RkVcIiwgLy8gTm90aWZpY2F0aW9uc1xuICAkQjQwOiBcIiNEQUVGRkVcIiwgLy8gRGl2aWRlcnMsIHRhYmxlIHNlbGVjdGVkLCB0YWJsZSBoZWFkZXJzXG4gICRCNTA6IFwiI0VBRjdGRlwiLCAvLyBEaXZpZGVyc1xuICAkQjYwOiBcIiNGNEZBRkVcIiwgLy8gVGFibGUgaG92ZXJcbn07XG5cbmNvbnN0IHNpZGViYXIgPSB7XG4gIGNvbG9yczoge1xuICAgICRiZzogXCIjMjMyNjNlXCIsXG4gICAgJGRpdmlkZXI6IFwiIzQzNDU2N1wiLFxuICAgICRiZ0hvdmVyOiBcIiMyZTMyNDlcIixcbiAgICAkYmdBY3RpdmU6IFwiIzM5M2Y1OVwiLFxuICB9LFxufVxuY29uc3QgdGhlbWUgPSB7XG4gIGNvbG9ycyxcbiAgc2lkZWJhcixcbn07XG5cblxuZXhwb3J0IGRlZmF1bHQgdGhlbWU7XG4iLCJpbXBvcnQge1xuIGgsIGNyZWF0ZUNvbnRleHQsIENvbXBvbmVudENoaWxkcmVuLCBGdW5jdGlvbkNvbXBvbmVudCxcbn0gZnJvbSBcInByZWFjdFwiO1xuaW1wb3J0IHsgZm9yd2FyZFJlZiwgdXNlQ29udGV4dCB9IGZyb20gXCJwcmVhY3QvY29tcGF0XCI7XG5pbXBvcnQgeyBzdHlsZWQsIHNldHVwIH0gZnJvbSBcIkBua3NhcmFmL2dvb2JlclwiO1xuaW1wb3J0IHRoZW1lIGZyb20gXCIuL3V0aWxzL2dsb2JhbFN0eWxlc1wiO1xuXG5jb25zdCBUaGVtZUNvbnRleHQgPSBjcmVhdGVDb250ZXh0KHRoZW1lKTtcbmNvbnN0IHVzZVRoZW1lID0gKCkgPT4gdXNlQ29udGV4dChUaGVtZUNvbnRleHQpO1xuc2V0dXAoaCwgZm9yd2FyZFJlZiwgdXNlVGhlbWUpO1xuXG5cbmNvbnN0IEFwcDogRnVuY3Rpb25Db21wb25lbnQgPSAoeyBjaGlsZHJlbiB9KSA9PiA8U3R5bGVkQmFzZT57Y2hpbGRyZW59PC9TdHlsZWRCYXNlPjtcblxuXG5jb25zdCBTdHlsZWRCYXNlID0gc3R5bGVkPHsgY2hpbGRyZW46IENvbXBvbmVudENoaWxkcmVuIH0+KFwiZGl2XCIpYFxuICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDtcbiAgLW1vei1vc3gtZm9udC1zbW9vdGhpbmc6IGdyYXlzY2FsZTtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbmA7XG5cbmV4cG9ydCBkZWZhdWx0IEFwcDtcbiIsImZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBtb2R1bGUuZXhwb3J0cyA9IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfZXh0ZW5kczsiLCJpbXBvcnQgeyBQcm9wUmVmIH0gZnJvbSBcInByZWFjdC9ob29rcy9zcmNcIjtcblxuaW50ZXJmYWNlIEN1c3RvbUV2ZW50IHtcbiAgICByZWY6IFByb3BSZWY8YW55PixcbiAgICBldmVudE5hbWU6IHN0cmluZyxcbn1cblxuY29uc3QgdXNlQ3VzdG9tRXZlbnQgPSAoeyByZWYsIGV2ZW50TmFtZSB9OiBDdXN0b21FdmVudCkgPT4ge1xuICAgIGNvbnN0IGN1c3RvbUV2ZW50ID0gKGRldGFpbCkgPT4gbmV3IEN1c3RvbUV2ZW50KGV2ZW50TmFtZSwge1xuICAgICAgICBkZXRhaWwsXG4gICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgfSk7XG5cbiAgICBjb25zdCBkaXNwYXRjaEV2ZW50ID0gKGV2RGF0YSkgPT4ge1xuICAgICAgICBpZiAocmVmLmN1cnJlbnQpIHJlZi5jdXJyZW50LmRpc3BhdGNoRXZlbnQoY3VzdG9tRXZlbnQoZXZEYXRhKSk7XG4gICAgfVxuICAgIHJldHVybiBkaXNwYXRjaEV2ZW50XG59XG5cbmV4cG9ydCBkZWZhdWx0IHVzZUN1c3RvbUV2ZW50O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuXG5sZXQgcmVuZGVyRXJyID0gJ1JlbmRlcmVyIEVycm9yJ1xuXG5leHBvcnQgY29uc3QgYWN0aW9ucyA9IHtcbiAgaW5pdDogJ2luaXQnLFxufVxuXG5leHBvcnQgY29uc3QgZGVmYXVsdENvbHVtbiA9IHtcbiAgQ2VsbDogKHsgY2VsbDogeyB2YWx1ZSA9ICcnIH0gfSkgPT4gdmFsdWUsXG4gIHdpZHRoOiAxNTAsXG4gIG1pbldpZHRoOiAwLFxuICBtYXhXaWR0aDogTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0T3JkZXJCeUZuKGFyciwgZnVuY3MsIGRpcnMpIHtcbiAgcmV0dXJuIFsuLi5hcnJdLnNvcnQoKHJvd0EsIHJvd0IpID0+IHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZ1bmNzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBjb25zdCBzb3J0Rm4gPSBmdW5jc1tpXVxuICAgICAgY29uc3QgZGVzYyA9IGRpcnNbaV0gPT09IGZhbHNlIHx8IGRpcnNbaV0gPT09ICdkZXNjJ1xuICAgICAgY29uc3Qgc29ydEludCA9IHNvcnRGbihyb3dBLCByb3dCKVxuICAgICAgaWYgKHNvcnRJbnQgIT09IDApIHtcbiAgICAgICAgcmV0dXJuIGRlc2MgPyAtc29ydEludCA6IHNvcnRJbnRcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRpcnNbMF0gPyByb3dBLmluZGV4IC0gcm93Qi5pbmRleCA6IHJvd0IuaW5kZXggLSByb3dBLmluZGV4XG4gIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0R3JvdXBCeUZuKHJvd3MsIGNvbHVtbklkKSB7XG4gIHJldHVybiByb3dzLnJlZHVjZSgocHJldiwgcm93LCBpKSA9PiB7XG4gICAgLy8gVE9ETzogTWlnaHQgd2FudCB0byBpbXBsZW1lbnQgYSBrZXkgc2VyaWFsaXplciBoZXJlIHNvXG4gICAgLy8gaXJyZWd1bGFyIGNvbHVtbiB2YWx1ZXMgY2FuIHN0aWxsIGJlIGdyb3VwZWQgaWYgbmVlZGVkP1xuICAgIGNvbnN0IHJlc0tleSA9IGAke3Jvdy52YWx1ZXNbY29sdW1uSWRdfWBcbiAgICBwcmV2W3Jlc0tleV0gPSBBcnJheS5pc0FycmF5KHByZXZbcmVzS2V5XSkgPyBwcmV2W3Jlc0tleV0gOiBbXVxuICAgIHByZXZbcmVzS2V5XS5wdXNoKHJvdylcbiAgICByZXR1cm4gcHJldlxuICB9LCB7fSlcbn1cblxuZnVuY3Rpb24gbWVyZ2VQcm9wcyguLi5wcm9wTGlzdCkge1xuICByZXR1cm4gcHJvcExpc3QucmVkdWNlKChwcm9wcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHsgc3R5bGUsIGNsYXNzTmFtZSwgLi4ucmVzdCB9ID0gbmV4dFxuXG4gICAgcHJvcHMgPSB7XG4gICAgICAuLi5wcm9wcyxcbiAgICAgIC4uLnJlc3QsXG4gICAgfVxuXG4gICAgaWYgKHN0eWxlKSB7XG4gICAgICBwcm9wcy5zdHlsZSA9IHByb3BzLnN0eWxlXG4gICAgICAgID8geyAuLi4ocHJvcHMuc3R5bGUgfHwge30pLCAuLi4oc3R5bGUgfHwge30pIH1cbiAgICAgICAgOiBzdHlsZVxuICAgIH1cblxuICAgIGlmIChjbGFzc05hbWUpIHtcbiAgICAgIHByb3BzLmNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZVxuICAgICAgICA/IHByb3BzLmNsYXNzTmFtZSArICcgJyArIGNsYXNzTmFtZVxuICAgICAgICA6IGNsYXNzTmFtZVxuICAgIH1cblxuICAgIGlmIChwcm9wcy5jbGFzc05hbWUgPT09ICcnKSB7XG4gICAgICBkZWxldGUgcHJvcHMuY2xhc3NOYW1lXG4gICAgfVxuXG4gICAgcmV0dXJuIHByb3BzXG4gIH0sIHt9KVxufVxuXG5mdW5jdGlvbiBoYW5kbGVQcm9wR2V0dGVyKHByZXZQcm9wcywgdXNlclByb3BzLCBtZXRhKSB7XG4gIC8vIEhhbmRsZSBhIGxhbWJkYSwgcGFzcyBpdCB0aGUgcHJldmlvdXMgcHJvcHNcbiAgaWYgKHR5cGVvZiB1c2VyUHJvcHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gaGFuZGxlUHJvcEdldHRlcih7fSwgdXNlclByb3BzKHByZXZQcm9wcywgbWV0YSkpXG4gIH1cblxuICAvLyBIYW5kbGUgYW4gYXJyYXksIG1lcmdlIGVhY2ggaXRlbSBhcyBzZXBhcmF0ZSBwcm9wc1xuICBpZiAoQXJyYXkuaXNBcnJheSh1c2VyUHJvcHMpKSB7XG4gICAgcmV0dXJuIG1lcmdlUHJvcHMocHJldlByb3BzLCAuLi51c2VyUHJvcHMpXG4gIH1cblxuICAvLyBIYW5kbGUgYW4gb2JqZWN0IGJ5IGRlZmF1bHQsIG1lcmdlIHRoZSB0d28gb2JqZWN0c1xuICByZXR1cm4gbWVyZ2VQcm9wcyhwcmV2UHJvcHMsIHVzZXJQcm9wcylcbn1cblxuZXhwb3J0IGNvbnN0IG1ha2VQcm9wR2V0dGVyID0gKGhvb2tzLCBtZXRhID0ge30pID0+IHtcbiAgcmV0dXJuICh1c2VyUHJvcHMgPSB7fSkgPT5cbiAgICBbLi4uaG9va3MsIHVzZXJQcm9wc10ucmVkdWNlKFxuICAgICAgKHByZXYsIG5leHQpID0+XG4gICAgICAgIGhhbmRsZVByb3BHZXR0ZXIocHJldiwgbmV4dCwge1xuICAgICAgICAgIC4uLm1ldGEsXG4gICAgICAgICAgdXNlclByb3BzLFxuICAgICAgICB9KSxcbiAgICAgIHt9XG4gICAgKVxufVxuXG5leHBvcnQgY29uc3QgcmVkdWNlSG9va3MgPSAoaG9va3MsIGluaXRpYWwsIG1ldGEgPSB7fSkgPT5cbiAgaG9va3MucmVkdWNlKChwcmV2LCBuZXh0KSA9PiB7XG4gICAgY29uc3QgbmV4dFZhbHVlID0gbmV4dChwcmV2LCBtZXRhKVxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBpZiAodHlwZW9mIG5leHRWYWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc29sZS5pbmZvKG5leHQpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnUmVhY3QgVGFibGU6IEEgcmVkdWNlciBob29rIOKYne+4jyBqdXN0IHJldHVybmVkIHVuZGVmaW5lZCEgVGhpcyBpcyBub3QgYWxsb3dlZC4nXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5leHRWYWx1ZVxuICB9LCBpbml0aWFsKVxuXG5leHBvcnQgY29uc3QgbG9vcEhvb2tzID0gKGhvb2tzLCBtZXRhID0ge30pID0+XG4gIGhvb2tzLmZvckVhY2goaG9vayA9PiB7XG4gICAgY29uc3QgbmV4dFZhbHVlID0gaG9vayhtZXRhKVxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBpZiAodHlwZW9mIG5leHRWYWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc29sZS5pbmZvKGhvb2ssIG5leHRWYWx1ZSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICdSZWFjdCBUYWJsZTogQSBsb29wLXR5cGUgaG9vayDimJ3vuI8ganVzdCByZXR1cm5lZCBhIHZhbHVlISBUaGlzIGlzIG5vdCBhbGxvd2VkLidcbiAgICAgICAgKVxuICAgICAgfVxuICAgIH1cbiAgfSlcblxuZXhwb3J0IGZ1bmN0aW9uIGVuc3VyZVBsdWdpbk9yZGVyKHBsdWdpbnMsIGJlZm9yZXMsIHBsdWdpbk5hbWUsIGFmdGVycykge1xuICBjb25zdCBwbHVnaW5JbmRleCA9IHBsdWdpbnMuZmluZEluZGV4KFxuICAgIHBsdWdpbiA9PiBwbHVnaW4ucGx1Z2luTmFtZSA9PT0gcGx1Z2luTmFtZVxuICApXG5cbiAgaWYgKHBsdWdpbkluZGV4ID09PSAtMSkge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBwbHVnaW4gXCIke3BsdWdpbk5hbWV9XCIgd2FzIG5vdCBmb3VuZCBpbiB0aGUgcGx1Z2luIGxpc3QhXG5UaGlzIHVzdWFsbHkgbWVhbnMgeW91IG5lZWQgdG8gbmVlZCB0byBuYW1lIHlvdXIgcGx1Z2luIGhvb2sgYnkgc2V0dGluZyB0aGUgJ3BsdWdpbk5hbWUnIHByb3BlcnR5IG9mIHRoZSBob29rIGZ1bmN0aW9uLCBlZzpcblxuICAke3BsdWdpbk5hbWV9LnBsdWdpbk5hbWUgPSAnJHtwbHVnaW5OYW1lfSdcbmApXG4gICAgfVxuICB9XG5cbiAgYmVmb3Jlcy5mb3JFYWNoKGJlZm9yZSA9PiB7XG4gICAgY29uc3QgYmVmb3JlSW5kZXggPSBwbHVnaW5zLmZpbmRJbmRleChcbiAgICAgIHBsdWdpbiA9PiBwbHVnaW4ucGx1Z2luTmFtZSA9PT0gYmVmb3JlXG4gICAgKVxuICAgIGlmIChiZWZvcmVJbmRleCA+IC0xICYmIGJlZm9yZUluZGV4ID4gcGx1Z2luSW5kZXgpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgUmVhY3QgVGFibGU6IFRoZSAke3BsdWdpbk5hbWV9IHBsdWdpbiBob29rIG11c3QgYmUgcGxhY2VkIGFmdGVyIHRoZSAke2JlZm9yZX0gcGx1Z2luIGhvb2shYFxuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuICB9KVxuXG4gIGFmdGVycy5mb3JFYWNoKGFmdGVyID0+IHtcbiAgICBjb25zdCBhZnRlckluZGV4ID0gcGx1Z2lucy5maW5kSW5kZXgocGx1Z2luID0+IHBsdWdpbi5wbHVnaW5OYW1lID09PSBhZnRlcilcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaWYgKGFmdGVySW5kZXggPiAtMSAmJiBhZnRlckluZGV4IDwgcGx1Z2luSW5kZXgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBSZWFjdCBUYWJsZTogVGhlICR7cGx1Z2luTmFtZX0gcGx1Z2luIGhvb2sgbXVzdCBiZSBwbGFjZWQgYmVmb3JlIHRoZSAke2FmdGVyfSBwbHVnaW4gaG9vayFgXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9XG4gIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmdW5jdGlvbmFsVXBkYXRlKHVwZGF0ZXIsIG9sZCkge1xuICByZXR1cm4gdHlwZW9mIHVwZGF0ZXIgPT09ICdmdW5jdGlvbicgPyB1cGRhdGVyKG9sZCkgOiB1cGRhdGVyXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VHZXRMYXRlc3Qob2JqKSB7XG4gIGNvbnN0IHJlZiA9IFJlYWN0LnVzZVJlZigpXG4gIHJlZi5jdXJyZW50ID0gb2JqXG5cbiAgcmV0dXJuIFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHJlZi5jdXJyZW50LCBbXSlcbn1cblxuLy8gU1NSIGhhcyBpc3N1ZXMgd2l0aCB1c2VMYXlvdXRFZmZlY3Qgc3RpbGwsIHNvIHVzZSB1c2VFZmZlY3QgZHVyaW5nIFNTUlxuZXhwb3J0IGNvbnN0IHNhZmVVc2VMYXlvdXRFZmZlY3QgPVxuICB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnID8gUmVhY3QudXNlTGF5b3V0RWZmZWN0IDogUmVhY3QudXNlRWZmZWN0XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VNb3VudGVkTGF5b3V0RWZmZWN0KGZuLCBkZXBzKSB7XG4gIGNvbnN0IG1vdW50ZWRSZWYgPSBSZWFjdC51c2VSZWYoZmFsc2UpXG5cbiAgc2FmZVVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKG1vdW50ZWRSZWYuY3VycmVudCkge1xuICAgICAgZm4oKVxuICAgIH1cbiAgICBtb3VudGVkUmVmLmN1cnJlbnQgPSB0cnVlXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gIH0sIGRlcHMpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VBc3luY0RlYm91bmNlKGRlZmF1bHRGbiwgZGVmYXVsdFdhaXQgPSAwKSB7XG4gIGNvbnN0IGRlYm91bmNlUmVmID0gUmVhY3QudXNlUmVmKHt9KVxuICBkZWJvdW5jZVJlZi5jdXJyZW50LmRlZmF1bHRGbiA9IGRlZmF1bHRGblxuICBkZWJvdW5jZVJlZi5jdXJyZW50LmRlZmF1bHRXYWl0ID0gZGVmYXVsdFdhaXRcblxuICBjb25zdCBkZWJvdW5jZSA9IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgIGFzeW5jIChcbiAgICAgIGZuID0gZGVib3VuY2VSZWYuY3VycmVudC5kZWZhdWx0Rm4sXG4gICAgICB3YWl0ID0gZGVib3VuY2VSZWYuY3VycmVudC5kZWZhdWx0V2FpdFxuICAgICkgPT4ge1xuICAgICAgaWYgKCFkZWJvdW5jZVJlZi5jdXJyZW50LnByb21pc2UpIHtcbiAgICAgICAgZGVib3VuY2VSZWYuY3VycmVudC5wcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIGRlYm91bmNlUmVmLmN1cnJlbnQucmVzb2x2ZSA9IHJlc29sdmVcbiAgICAgICAgICBkZWJvdW5jZVJlZi5jdXJyZW50LnJlamVjdCA9IHJlamVjdFxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICBpZiAoZGVib3VuY2VSZWYuY3VycmVudC50aW1lb3V0KSB7XG4gICAgICAgIGNsZWFyVGltZW91dChkZWJvdW5jZVJlZi5jdXJyZW50LnRpbWVvdXQpXG4gICAgICB9XG5cbiAgICAgIGRlYm91bmNlUmVmLmN1cnJlbnQudGltZW91dCA9IHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgICBkZWxldGUgZGVib3VuY2VSZWYuY3VycmVudC50aW1lb3V0XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZGVib3VuY2VSZWYuY3VycmVudC5yZXNvbHZlKGF3YWl0IGZuKCkpXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGRlYm91bmNlUmVmLmN1cnJlbnQucmVqZWN0KGVycilcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBkZWxldGUgZGVib3VuY2VSZWYuY3VycmVudC5wcm9taXNlXG4gICAgICAgIH1cbiAgICAgIH0sIHdhaXQpXG5cbiAgICAgIHJldHVybiBkZWJvdW5jZVJlZi5jdXJyZW50LnByb21pc2VcbiAgICB9LFxuICAgIFtdXG4gIClcblxuICByZXR1cm4gZGVib3VuY2Vcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUNvbnN1bWVIb29rR2V0dGVyKGhvb2tzLCBob29rTmFtZSkge1xuICBjb25zdCBnZXR0ZXIgPSB1c2VHZXRMYXRlc3QoaG9va3NbaG9va05hbWVdKVxuICBob29rc1tob29rTmFtZV0gPSB1bmRlZmluZWRcbiAgcmV0dXJuIGdldHRlclxufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZVJlbmRlcmVyKGluc3RhbmNlLCBjb2x1bW4sIG1ldGEgPSB7fSkge1xuICByZXR1cm4gKHR5cGUsIHVzZXJQcm9wcyA9IHt9KSA9PiB7XG4gICAgY29uc3QgQ29tcCA9IHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyA/IGNvbHVtblt0eXBlXSA6IHR5cGVcblxuICAgIGlmICh0eXBlb2YgQ29tcCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihyZW5kZXJFcnIpXG4gICAgfVxuXG4gICAgcmV0dXJuIGZsZXhSZW5kZXIoQ29tcCwgeyAuLi5pbnN0YW5jZSwgY29sdW1uLCAuLi5tZXRhLCAuLi51c2VyUHJvcHMgfSlcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZmxleFJlbmRlcihDb21wLCBwcm9wcykge1xuICByZXR1cm4gaXNSZWFjdENvbXBvbmVudChDb21wKSA/IDxDb21wIHsuLi5wcm9wc30gLz4gOiBDb21wXG59XG5cbmZ1bmN0aW9uIGlzQ2xhc3NDb21wb25lbnQoY29tcG9uZW50KSB7XG4gIHJldHVybiAoXG4gICAgdHlwZW9mIGNvbXBvbmVudCA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICEhKCgpID0+IHtcbiAgICAgIGxldCBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihjb21wb25lbnQpXG4gICAgICByZXR1cm4gcHJvdG8ucHJvdG90eXBlICYmIHByb3RvLnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50XG4gICAgfSkoKVxuICApXG59XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb25Db21wb25lbnQoY29tcG9uZW50KSB7XG4gIHJldHVybiB0eXBlb2YgY29tcG9uZW50ID09PSAnZnVuY3Rpb24nXG59XG5cbmZ1bmN0aW9uIGlzRXhvdGljQ29tcG9uZW50KGNvbXBvbmVudCkge1xuICByZXR1cm4gKFxuICAgIHR5cGVvZiBjb21wb25lbnQgPT09ICdvYmplY3QnICYmXG4gICAgdHlwZW9mIGNvbXBvbmVudC4kJHR5cGVvZiA9PT0gJ3N5bWJvbCcgJiZcbiAgICBbJ3JlYWN0Lm1lbW8nLCAncmVhY3QuZm9yd2FyZF9yZWYnXS5pbmNsdWRlcyhjb21wb25lbnQuJCR0eXBlb2YuZGVzY3JpcHRpb24pXG4gIClcbn1cblxuZnVuY3Rpb24gaXNSZWFjdENvbXBvbmVudChjb21wb25lbnQpIHtcbiAgcmV0dXJuIChcbiAgICBpc0NsYXNzQ29tcG9uZW50KGNvbXBvbmVudCkgfHxcbiAgICBpc0Z1bmN0aW9uQ29tcG9uZW50KGNvbXBvbmVudCkgfHxcbiAgICBpc0V4b3RpY0NvbXBvbmVudChjb21wb25lbnQpXG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IGRlZmF1bHRDb2x1bW4gfSBmcm9tICcuL3B1YmxpY1V0aWxzJ1xuXG5leHBvcnQgKiBmcm9tICcuL3B1YmxpY1V0aWxzJ1xuXG4vLyBGaW5kIHRoZSBkZXB0aCBvZiB0aGUgY29sdW1uc1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmRNYXhEZXB0aChjb2x1bW5zLCBkZXB0aCA9IDApIHtcbiAgcmV0dXJuIGNvbHVtbnMucmVkdWNlKChwcmV2LCBjdXJyKSA9PiB7XG4gICAgaWYgKGN1cnIuY29sdW1ucykge1xuICAgICAgcmV0dXJuIE1hdGgubWF4KHByZXYsIGZpbmRNYXhEZXB0aChjdXJyLmNvbHVtbnMsIGRlcHRoICsgMSkpXG4gICAgfVxuICAgIHJldHVybiBkZXB0aFxuICB9LCAwKVxufVxuXG5mdW5jdGlvbiBkZWNvcmF0ZUNvbHVtbihjb2x1bW4sIHVzZXJEZWZhdWx0Q29sdW1uLCBwYXJlbnQsIGRlcHRoLCBpbmRleCkge1xuICAvLyBBcHBseSB0aGUgdXNlckRlZmF1bHRDb2x1bW5cbiAgY29sdW1uID0geyAuLi5kZWZhdWx0Q29sdW1uLCAuLi51c2VyRGVmYXVsdENvbHVtbiwgLi4uY29sdW1uIH1cblxuICAvLyBGaXJzdCBjaGVjayBmb3Igc3RyaW5nIGFjY2Vzc29yXG4gIGxldCB7IGlkLCBhY2Nlc3NvciwgSGVhZGVyIH0gPSBjb2x1bW5cblxuICBpZiAodHlwZW9mIGFjY2Vzc29yID09PSAnc3RyaW5nJykge1xuICAgIGlkID0gaWQgfHwgYWNjZXNzb3JcbiAgICBjb25zdCBhY2Nlc3NvclBhdGggPSBhY2Nlc3Nvci5zcGxpdCgnLicpXG4gICAgYWNjZXNzb3IgPSByb3cgPT4gZ2V0Qnkocm93LCBhY2Nlc3NvclBhdGgpXG4gIH1cblxuICBpZiAoIWlkICYmIHR5cGVvZiBIZWFkZXIgPT09ICdzdHJpbmcnICYmIEhlYWRlcikge1xuICAgIGlkID0gSGVhZGVyXG4gIH1cblxuICBpZiAoIWlkICYmIGNvbHVtbi5jb2x1bW5zKSB7XG4gICAgY29uc29sZS5lcnJvcihjb2x1bW4pXG4gICAgdGhyb3cgbmV3IEVycm9yKCdBIGNvbHVtbiBJRCAob3IgdW5pcXVlIFwiSGVhZGVyXCIgdmFsdWUpIGlzIHJlcXVpcmVkIScpXG4gIH1cblxuICBpZiAoIWlkKSB7XG4gICAgY29uc29sZS5lcnJvcihjb2x1bW4pXG4gICAgdGhyb3cgbmV3IEVycm9yKCdBIGNvbHVtbiBJRCAob3Igc3RyaW5nIGFjY2Vzc29yKSBpcyByZXF1aXJlZCEnKVxuICB9XG5cbiAgY29sdW1uID0ge1xuICAgIC8vIE1ha2Ugc3VyZSB0aGVyZSBpcyBhIGZhbGxiYWNrIGhlYWRlciwganVzdCBpbiBjYXNlXG4gICAgSGVhZGVyOiAoKSA9PiA8PiZuYnNwOzwvPixcbiAgICBGb290ZXI6ICgpID0+IDw+Jm5ic3A7PC8+LFxuICAgIC4uLmNvbHVtbixcbiAgICAvLyBNYXRlcmlhbGl6ZSBhbmQgb3ZlcnJpZGUgdGhpcyBzdHVmZlxuICAgIGlkLFxuICAgIGFjY2Vzc29yLFxuICAgIHBhcmVudCxcbiAgICBkZXB0aCxcbiAgICBpbmRleCxcbiAgfVxuXG4gIHJldHVybiBjb2x1bW5cbn1cblxuLy8gQnVpbGQgdGhlIHZpc2libGUgY29sdW1ucywgaGVhZGVycyBhbmQgZmxhdCBjb2x1bW4gbGlzdFxuZXhwb3J0IGZ1bmN0aW9uIGRlY29yYXRlQ29sdW1uVHJlZShjb2x1bW5zLCBkZWZhdWx0Q29sdW1uLCBwYXJlbnQsIGRlcHRoID0gMCkge1xuICByZXR1cm4gY29sdW1ucy5tYXAoKGNvbHVtbiwgY29sdW1uSW5kZXgpID0+IHtcbiAgICBjb2x1bW4gPSBkZWNvcmF0ZUNvbHVtbihjb2x1bW4sIGRlZmF1bHRDb2x1bW4sIHBhcmVudCwgZGVwdGgsIGNvbHVtbkluZGV4KVxuICAgIGlmIChjb2x1bW4uY29sdW1ucykge1xuICAgICAgY29sdW1uLmNvbHVtbnMgPSBkZWNvcmF0ZUNvbHVtblRyZWUoXG4gICAgICAgIGNvbHVtbi5jb2x1bW5zLFxuICAgICAgICBkZWZhdWx0Q29sdW1uLFxuICAgICAgICBjb2x1bW4sXG4gICAgICAgIGRlcHRoICsgMVxuICAgICAgKVxuICAgIH1cbiAgICByZXR1cm4gY29sdW1uXG4gIH0pXG59XG5cbi8vIEJ1aWxkIHRoZSBoZWFkZXIgZ3JvdXBzIGZyb20gdGhlIGJvdHRvbSB1cFxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VIZWFkZXJHcm91cHMoZmxhdENvbHVtbnMsIGRlZmF1bHRDb2x1bW4pIHtcbiAgY29uc3QgaGVhZGVyR3JvdXBzID0gW11cblxuICAvLyBCdWlsZCBlYWNoIGhlYWRlciBncm91cCBmcm9tIHRoZSBib3R0b20gdXBcbiAgY29uc3QgYnVpbGRHcm91cCA9IChjb2x1bW5zLCBkZXB0aCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlckdyb3VwID0ge1xuICAgICAgaGVhZGVyczogW10sXG4gICAgfVxuXG4gICAgY29uc3QgcGFyZW50Q29sdW1ucyA9IFtdXG5cbiAgICAvLyBEbyBhbnkgb2YgdGhlc2UgY29sdW1ucyBoYXZlIHBhcmVudHM/XG4gICAgY29uc3QgaGFzUGFyZW50cyA9IGNvbHVtbnMuc29tZShjb2wgPT4gY29sLnBhcmVudClcblxuICAgIGNvbHVtbnMuZm9yRWFjaChjb2x1bW4gPT4ge1xuICAgICAgLy8gQXJlIHdlIHRoZSBmaXJzdCBjb2x1bW4gaW4gdGhpcyBncm91cD9cbiAgICAgIGNvbnN0IGlzRmlyc3QgPSAhcGFyZW50Q29sdW1ucy5sZW5ndGhcblxuICAgICAgLy8gV2hhdCBpcyB0aGUgbGF0ZXN0IChsYXN0KSBwYXJlbnQgY29sdW1uP1xuICAgICAgbGV0IGxhdGVzdFBhcmVudENvbHVtbiA9IFsuLi5wYXJlbnRDb2x1bW5zXS5yZXZlcnNlKClbMF1cblxuICAgICAgLy8gSWYgdGhlIGNvbHVtbiBoYXMgYSBwYXJlbnQsIGFkZCBpdCBpZiBuZWNlc3NhcnlcbiAgICAgIGlmIChjb2x1bW4ucGFyZW50KSB7XG4gICAgICAgIGNvbnN0IHNpbWlsYXJQYXJlbnRDb2x1bW5zID0gcGFyZW50Q29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgZCA9PiBkLm9yaWdpbmFsSWQgPT09IGNvbHVtbi5wYXJlbnQuaWRcbiAgICAgICAgKVxuICAgICAgICBpZiAoaXNGaXJzdCB8fCBsYXRlc3RQYXJlbnRDb2x1bW4ub3JpZ2luYWxJZCAhPT0gY29sdW1uLnBhcmVudC5pZCkge1xuICAgICAgICAgIHBhcmVudENvbHVtbnMucHVzaCh7XG4gICAgICAgICAgICAuLi5jb2x1bW4ucGFyZW50LFxuICAgICAgICAgICAgb3JpZ2luYWxJZDogY29sdW1uLnBhcmVudC5pZCxcbiAgICAgICAgICAgIGlkOiBbY29sdW1uLnBhcmVudC5pZCwgc2ltaWxhclBhcmVudENvbHVtbnMubGVuZ3RoXS5qb2luKCdfJyksXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChoYXNQYXJlbnRzKSB7XG4gICAgICAgIC8vIElmIG90aGVyIGNvbHVtbnMgaGF2ZSBwYXJlbnRzLCB3ZSdsbCBuZWVkIHRvIGFkZCBhIHBsYWNlIGhvbGRlciBpZiBuZWNlc3NhcnlcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxJZCA9IFtjb2x1bW4uaWQsICdwbGFjZWhvbGRlciddLmpvaW4oJ18nKVxuICAgICAgICBjb25zdCBzaW1pbGFyUGFyZW50Q29sdW1ucyA9IHBhcmVudENvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgIGQgPT4gZC5vcmlnaW5hbElkID09PSBvcmlnaW5hbElkXG4gICAgICAgIClcbiAgICAgICAgY29uc3QgcGxhY2Vob2xkZXJDb2x1bW4gPSBkZWNvcmF0ZUNvbHVtbihcbiAgICAgICAgICB7XG4gICAgICAgICAgICBvcmlnaW5hbElkLFxuICAgICAgICAgICAgaWQ6IFtjb2x1bW4uaWQsICdwbGFjZWhvbGRlcicsIHNpbWlsYXJQYXJlbnRDb2x1bW5zLmxlbmd0aF0uam9pbihcbiAgICAgICAgICAgICAgJ18nXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgcGxhY2Vob2xkZXJPZjogY29sdW1uLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgZGVmYXVsdENvbHVtblxuICAgICAgICApXG4gICAgICAgIGlmIChcbiAgICAgICAgICBpc0ZpcnN0IHx8XG4gICAgICAgICAgbGF0ZXN0UGFyZW50Q29sdW1uLm9yaWdpbmFsSWQgIT09IHBsYWNlaG9sZGVyQ29sdW1uLm9yaWdpbmFsSWRcbiAgICAgICAgKSB7XG4gICAgICAgICAgcGFyZW50Q29sdW1ucy5wdXNoKHBsYWNlaG9sZGVyQ29sdW1uKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEVzdGFibGlzaCB0aGUgbmV3IGhlYWRlcnNbXSByZWxhdGlvbnNoaXAgb24gdGhlIHBhcmVudFxuICAgICAgaWYgKGNvbHVtbi5wYXJlbnQgfHwgaGFzUGFyZW50cykge1xuICAgICAgICBsYXRlc3RQYXJlbnRDb2x1bW4gPSBbLi4ucGFyZW50Q29sdW1uc10ucmV2ZXJzZSgpWzBdXG4gICAgICAgIGxhdGVzdFBhcmVudENvbHVtbi5oZWFkZXJzID0gbGF0ZXN0UGFyZW50Q29sdW1uLmhlYWRlcnMgfHwgW11cbiAgICAgICAgaWYgKCFsYXRlc3RQYXJlbnRDb2x1bW4uaGVhZGVycy5pbmNsdWRlcyhjb2x1bW4pKSB7XG4gICAgICAgICAgbGF0ZXN0UGFyZW50Q29sdW1uLmhlYWRlcnMucHVzaChjb2x1bW4pXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29sdW1uLnRvdGFsSGVhZGVyQ291bnQgPSBjb2x1bW4uaGVhZGVyc1xuICAgICAgICA/IGNvbHVtbi5oZWFkZXJzLnJlZHVjZShcbiAgICAgICAgICAgIChzdW0sIGhlYWRlcikgPT4gc3VtICsgaGVhZGVyLnRvdGFsSGVhZGVyQ291bnQsXG4gICAgICAgICAgICAwXG4gICAgICAgICAgKVxuICAgICAgICA6IDEgLy8gTGVhZiBub2RlIGNvbHVtbnMgdGFrZSB1cCBhdCBsZWFzdCBvbmUgY291bnRcbiAgICAgIGhlYWRlckdyb3VwLmhlYWRlcnMucHVzaChjb2x1bW4pXG4gICAgfSlcblxuICAgIGhlYWRlckdyb3Vwcy5wdXNoKGhlYWRlckdyb3VwKVxuXG4gICAgaWYgKHBhcmVudENvbHVtbnMubGVuZ3RoKSB7XG4gICAgICBidWlsZEdyb3VwKHBhcmVudENvbHVtbnMsIGRlcHRoICsgMSlcbiAgICB9XG4gIH1cblxuICBidWlsZEdyb3VwKGZsYXRDb2x1bW5zLCAwKVxuXG4gIHJldHVybiBoZWFkZXJHcm91cHMucmV2ZXJzZSgpXG59XG5cbmNvbnN0IHBhdGhPYmpDYWNoZSA9IG5ldyBNYXAoKVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Qnkob2JqLCBwYXRoLCBkZWYpIHtcbiAgaWYgKCFwYXRoKSB7XG4gICAgcmV0dXJuIG9ialxuICB9XG4gIGNvbnN0IGNhY2hlS2V5ID0gdHlwZW9mIHBhdGggPT09ICdmdW5jdGlvbicgPyBwYXRoIDogSlNPTi5zdHJpbmdpZnkocGF0aClcblxuICBjb25zdCBwYXRoT2JqID1cbiAgICBwYXRoT2JqQ2FjaGUuZ2V0KGNhY2hlS2V5KSB8fFxuICAgICgoKSA9PiB7XG4gICAgICBjb25zdCBwYXRoT2JqID0gbWFrZVBhdGhBcnJheShwYXRoKVxuICAgICAgcGF0aE9iakNhY2hlLnNldChjYWNoZUtleSwgcGF0aE9iailcbiAgICAgIHJldHVybiBwYXRoT2JqXG4gICAgfSkoKVxuXG4gIGxldCB2YWxcblxuICB0cnkge1xuICAgIHZhbCA9IHBhdGhPYmoucmVkdWNlKChjdXJzb3IsIHBhdGhQYXJ0KSA9PiBjdXJzb3JbcGF0aFBhcnRdLCBvYmopXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBjb250aW51ZSByZWdhcmRsZXNzIG9mIGVycm9yXG4gIH1cbiAgcmV0dXJuIHR5cGVvZiB2YWwgIT09ICd1bmRlZmluZWQnID8gdmFsIDogZGVmXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRGaXJzdERlZmluZWQoLi4uYXJncykge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBpZiAodHlwZW9mIGFyZ3NbaV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gYXJnc1tpXVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudERpbWVuc2lvbnMoZWxlbWVudCkge1xuICBjb25zdCByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICBjb25zdCBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpXG4gIGNvbnN0IG1hcmdpbnMgPSB7XG4gICAgbGVmdDogcGFyc2VJbnQoc3R5bGUubWFyZ2luTGVmdCksXG4gICAgcmlnaHQ6IHBhcnNlSW50KHN0eWxlLm1hcmdpblJpZ2h0KSxcbiAgfVxuICBjb25zdCBwYWRkaW5nID0ge1xuICAgIGxlZnQ6IHBhcnNlSW50KHN0eWxlLnBhZGRpbmdMZWZ0KSxcbiAgICByaWdodDogcGFyc2VJbnQoc3R5bGUucGFkZGluZ1JpZ2h0KSxcbiAgfVxuICByZXR1cm4ge1xuICAgIGxlZnQ6IE1hdGguY2VpbChyZWN0LmxlZnQpLFxuICAgIHdpZHRoOiBNYXRoLmNlaWwocmVjdC53aWR0aCksXG4gICAgb3V0ZXJXaWR0aDogTWF0aC5jZWlsKFxuICAgICAgcmVjdC53aWR0aCArIG1hcmdpbnMubGVmdCArIG1hcmdpbnMucmlnaHQgKyBwYWRkaW5nLmxlZnQgKyBwYWRkaW5nLnJpZ2h0XG4gICAgKSxcbiAgICBtYXJnaW5MZWZ0OiBtYXJnaW5zLmxlZnQsXG4gICAgbWFyZ2luUmlnaHQ6IG1hcmdpbnMucmlnaHQsXG4gICAgcGFkZGluZ0xlZnQ6IHBhZGRpbmcubGVmdCxcbiAgICBwYWRkaW5nUmlnaHQ6IHBhZGRpbmcucmlnaHQsXG4gICAgc2Nyb2xsV2lkdGg6IGVsZW1lbnQuc2Nyb2xsV2lkdGgsXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRnVuY3Rpb24oYSkge1xuICBpZiAodHlwZW9mIGEgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gYVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmbGF0dGVuQnkoY29sdW1ucywgY2hpbGRLZXkpIHtcbiAgY29uc3QgZmxhdENvbHVtbnMgPSBbXVxuXG4gIGNvbnN0IHJlY3Vyc2UgPSBjb2x1bW5zID0+IHtcbiAgICBjb2x1bW5zLmZvckVhY2goZCA9PiB7XG4gICAgICBpZiAoIWRbY2hpbGRLZXldKSB7XG4gICAgICAgIGZsYXRDb2x1bW5zLnB1c2goZClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlY3Vyc2UoZFtjaGlsZEtleV0pXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIHJlY3Vyc2UoY29sdW1ucylcblxuICByZXR1cm4gZmxhdENvbHVtbnNcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4cGFuZFJvd3MoXG4gIHJvd3MsXG4gIHsgbWFudWFsRXhwYW5kZWRLZXksIGV4cGFuZGVkLCBleHBhbmRTdWJSb3dzID0gdHJ1ZSB9XG4pIHtcbiAgY29uc3QgZXhwYW5kZWRSb3dzID0gW11cblxuICBjb25zdCBoYW5kbGVSb3cgPSByb3cgPT4ge1xuICAgIHJvdy5pc0V4cGFuZGVkID1cbiAgICAgIChyb3cub3JpZ2luYWwgJiYgcm93Lm9yaWdpbmFsW21hbnVhbEV4cGFuZGVkS2V5XSkgfHwgZXhwYW5kZWRbcm93LmlkXVxuXG4gICAgcm93LmNhbkV4cGFuZCA9IHJvdy5zdWJSb3dzICYmICEhcm93LnN1YlJvd3MubGVuZ3RoXG5cbiAgICBleHBhbmRlZFJvd3MucHVzaChyb3cpXG5cbiAgICBpZiAoZXhwYW5kU3ViUm93cyAmJiByb3cuc3ViUm93cyAmJiByb3cuc3ViUm93cy5sZW5ndGggJiYgcm93LmlzRXhwYW5kZWQpIHtcbiAgICAgIHJvdy5zdWJSb3dzLmZvckVhY2goaGFuZGxlUm93KVxuICAgIH1cbiAgfVxuXG4gIHJvd3MuZm9yRWFjaChoYW5kbGVSb3cpXG5cbiAgcmV0dXJuIGV4cGFuZGVkUm93c1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmlsdGVyTWV0aG9kKGZpbHRlciwgdXNlckZpbHRlclR5cGVzLCBmaWx0ZXJUeXBlcykge1xuICByZXR1cm4gKFxuICAgIGlzRnVuY3Rpb24oZmlsdGVyKSB8fFxuICAgIHVzZXJGaWx0ZXJUeXBlc1tmaWx0ZXJdIHx8XG4gICAgZmlsdGVyVHlwZXNbZmlsdGVyXSB8fFxuICAgIGZpbHRlclR5cGVzLnRleHRcbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hvdWxkQXV0b1JlbW92ZUZpbHRlcihhdXRvUmVtb3ZlLCB2YWx1ZSkge1xuICByZXR1cm4gYXV0b1JlbW92ZSA/IGF1dG9SZW1vdmUodmFsdWUpIDogdHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJ1xufVxuXG4vL1xuXG5jb25zdCByZU9wZW5CcmFja2V0ID0gL1xcWy9nXG5jb25zdCByZUNsb3NlQnJhY2tldCA9IC9cXF0vZ1xuXG5mdW5jdGlvbiBtYWtlUGF0aEFycmF5KG9iaikge1xuICByZXR1cm4gKFxuICAgIGZsYXR0ZW5EZWVwKG9iailcbiAgICAgIC8vIHJlbW92ZSBhbGwgcGVyaW9kcyBpbiBwYXJ0c1xuICAgICAgLm1hcChkID0+IFN0cmluZyhkKS5yZXBsYWNlKCcuJywgJ18nKSlcbiAgICAgIC8vIGpvaW4gcGFydHMgdXNpbmcgcGVyaW9kXG4gICAgICAuam9pbignLicpXG4gICAgICAvLyByZXBsYWNlIGJyYWNrZXRzIHdpdGggcGVyaW9kc1xuICAgICAgLnJlcGxhY2UocmVPcGVuQnJhY2tldCwgJy4nKVxuICAgICAgLnJlcGxhY2UocmVDbG9zZUJyYWNrZXQsICcnKVxuICAgICAgLy8gc3BsaXQgaXQgYmFjayBvdXQgb24gcGVyaW9kc1xuICAgICAgLnNwbGl0KCcuJylcbiAgKVxufVxuXG5mdW5jdGlvbiBmbGF0dGVuRGVlcChhcnIsIG5ld0FyciA9IFtdKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShhcnIpKSB7XG4gICAgbmV3QXJyLnB1c2goYXJyKVxuICB9IGVsc2Uge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBmbGF0dGVuRGVlcChhcnJbaV0sIG5ld0FycilcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5ld0FyclxufVxuIiwiY29uc3QgZGVmYXVsdENlbGxzID0gY2VsbCA9PiBjZWxsLmZpbHRlcihkID0+IGQuY29sdW1uLmlzVmlzaWJsZSlcblxuY29uc3QgZGVmYXVsdEdldEhlYWRlclByb3BzID0gKHByb3BzLCB7IGNvbHVtbiB9KSA9PiAoe1xuICBrZXk6IGBoZWFkZXJfJHtjb2x1bW4uaWR9YCxcbiAgY29sU3BhbjogY29sdW1uLnRvdGFsVmlzaWJsZUhlYWRlckNvdW50LFxuICAuLi5wcm9wcyxcbn0pXG5cbmNvbnN0IGRlZmF1bHRHZXRGb290ZXJQcm9wcyA9IChwcm9wcywgeyBjb2x1bW4gfSkgPT4gKHtcbiAga2V5OiBgZm9vdGVyXyR7Y29sdW1uLmlkfWAsXG4gIGNvbFNwYW46IGNvbHVtbi50b3RhbFZpc2libGVIZWFkZXJDb3VudCxcbiAgLi4ucHJvcHMsXG59KVxuXG5jb25zdCBkZWZhdWx0R2V0SGVhZGVyR3JvdXBQcm9wcyA9IChwcm9wcywgeyBpbmRleCB9KSA9PiAoe1xuICBrZXk6IGBoZWFkZXJHcm91cF8ke2luZGV4fWAsXG4gIC4uLnByb3BzLFxufSlcblxuY29uc3QgZGVmYXVsdEdldEZvb3Rlckdyb3VwUHJvcHMgPSAocHJvcHMsIHsgaW5kZXggfSkgPT4gKHtcbiAga2V5OiBgZm9vdGVyR3JvdXBfJHtpbmRleH1gLFxuICAuLi5wcm9wcyxcbn0pXG5cbmNvbnN0IGRlZmF1bHRHZXRSb3dQcm9wcyA9IChwcm9wcywgeyByb3cgfSkgPT4gKHtcbiAga2V5OiBgcm93XyR7cm93LmlkfWAsXG4gIC4uLnByb3BzLFxufSlcblxuY29uc3QgZGVmYXVsdEdldENlbGxQcm9wcyA9IChwcm9wcywgeyBjZWxsIH0pID0+ICh7XG4gIC4uLnByb3BzLFxuICBrZXk6IGBjZWxsXyR7Y2VsbC5yb3cuaWR9XyR7Y2VsbC5jb2x1bW4uaWR9YCxcbn0pXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1ha2VEZWZhdWx0UGx1Z2luSG9va3MoKSB7XG4gIHJldHVybiB7XG4gICAgdXNlT3B0aW9uczogW10sXG4gICAgc3RhdGVSZWR1Y2VyczogW10sXG4gICAgdXNlQ29udHJvbGxlZFN0YXRlOiBbXSxcbiAgICBjb2x1bW5zOiBbXSxcbiAgICBjb2x1bW5zRGVwczogW10sXG4gICAgZmxhdENvbHVtbnM6IFtdLFxuICAgIGZsYXRDb2x1bW5zRGVwczogW10sXG4gICAgaGVhZGVyR3JvdXBzOiBbXSxcbiAgICBoZWFkZXJHcm91cHNEZXBzOiBbXSxcbiAgICB1c2VJbnN0YW5jZUJlZm9yZURpbWVuc2lvbnM6IFtdLFxuICAgIHVzZUluc3RhbmNlOiBbXSxcbiAgICB1c2VSb3dzOiBbXSxcbiAgICBjZWxsczogW2RlZmF1bHRDZWxsc10sXG4gICAgcHJlcGFyZVJvdzogW10sXG4gICAgZ2V0VGFibGVQcm9wczogW10sXG4gICAgZ2V0VGFibGVCb2R5UHJvcHM6IFtdLFxuICAgIGdldEhlYWRlckdyb3VwUHJvcHM6IFtkZWZhdWx0R2V0SGVhZGVyR3JvdXBQcm9wc10sXG4gICAgZ2V0Rm9vdGVyR3JvdXBQcm9wczogW2RlZmF1bHRHZXRGb290ZXJHcm91cFByb3BzXSxcbiAgICBnZXRIZWFkZXJQcm9wczogW2RlZmF1bHRHZXRIZWFkZXJQcm9wc10sXG4gICAgZ2V0Rm9vdGVyUHJvcHM6IFtkZWZhdWx0R2V0Rm9vdGVyUHJvcHNdLFxuICAgIGdldFJvd1Byb3BzOiBbZGVmYXVsdEdldFJvd1Byb3BzXSxcbiAgICBnZXRDZWxsUHJvcHM6IFtkZWZhdWx0R2V0Q2VsbFByb3BzXSxcbiAgICB1c2VGaW5hbEluc3RhbmNlOiBbXSxcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQge1xuICBhY3Rpb25zLFxuICBmdW5jdGlvbmFsVXBkYXRlLFxuICB1c2VHZXRMYXRlc3QsXG4gIHVzZUNvbnN1bWVIb29rR2V0dGVyLFxuICBtYWtlUHJvcEdldHRlcixcbn0gZnJvbSAnLi4vdXRpbHMnXG5cbmFjdGlvbnMucmVzZXRIaWRkZW5Db2x1bW5zID0gJ3Jlc2V0SGlkZGVuQ29sdW1ucydcbmFjdGlvbnMudG9nZ2xlSGlkZUNvbHVtbiA9ICd0b2dnbGVIaWRlQ29sdW1uJ1xuYWN0aW9ucy5zZXRIaWRkZW5Db2x1bW5zID0gJ3NldEhpZGRlbkNvbHVtbnMnXG5hY3Rpb25zLnRvZ2dsZUhpZGVBbGxDb2x1bW5zID0gJ3RvZ2dsZUhpZGVBbGxDb2x1bW5zJ1xuXG5leHBvcnQgY29uc3QgdXNlQ29sdW1uVmlzaWJpbGl0eSA9IGhvb2tzID0+IHtcbiAgaG9va3MuZ2V0VG9nZ2xlSGlkZGVuUHJvcHMgPSBbZGVmYXVsdEdldFRvZ2dsZUhpZGRlblByb3BzXVxuICBob29rcy5nZXRUb2dnbGVIaWRlQWxsQ29sdW1uc1Byb3BzID0gW2RlZmF1bHRHZXRUb2dnbGVIaWRlQWxsQ29sdW1uc1Byb3BzXVxuXG4gIGhvb2tzLnN0YXRlUmVkdWNlcnMucHVzaChyZWR1Y2VyKVxuICBob29rcy51c2VJbnN0YW5jZUJlZm9yZURpbWVuc2lvbnMucHVzaCh1c2VJbnN0YW5jZUJlZm9yZURpbWVuc2lvbnMpXG4gIGhvb2tzLmhlYWRlckdyb3Vwc0RlcHMucHVzaCgoZGVwcywgeyBpbnN0YW5jZSB9KSA9PiBbXG4gICAgLi4uZGVwcyxcbiAgICBpbnN0YW5jZS5zdGF0ZS5oaWRkZW5Db2x1bW5zLFxuICBdKVxuICBob29rcy51c2VJbnN0YW5jZS5wdXNoKHVzZUluc3RhbmNlKVxufVxuXG51c2VDb2x1bW5WaXNpYmlsaXR5LnBsdWdpbk5hbWUgPSAndXNlQ29sdW1uVmlzaWJpbGl0eSdcblxuY29uc3QgZGVmYXVsdEdldFRvZ2dsZUhpZGRlblByb3BzID0gKHByb3BzLCB7IGNvbHVtbiB9KSA9PiBbXG4gIHByb3BzLFxuICB7XG4gICAgb25DaGFuZ2U6IGUgPT4ge1xuICAgICAgY29sdW1uLnRvZ2dsZUhpZGRlbighZS50YXJnZXQuY2hlY2tlZClcbiAgICB9LFxuICAgIHN0eWxlOiB7XG4gICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICB9LFxuICAgIGNoZWNrZWQ6IGNvbHVtbi5pc1Zpc2libGUsXG4gICAgdGl0bGU6ICdUb2dnbGUgQ29sdW1uIFZpc2libGUnLFxuICB9LFxuXVxuXG5jb25zdCBkZWZhdWx0R2V0VG9nZ2xlSGlkZUFsbENvbHVtbnNQcm9wcyA9IChwcm9wcywgeyBpbnN0YW5jZSB9KSA9PiBbXG4gIHByb3BzLFxuICB7XG4gICAgb25DaGFuZ2U6IGUgPT4ge1xuICAgICAgaW5zdGFuY2UudG9nZ2xlSGlkZUFsbENvbHVtbnMoIWUudGFyZ2V0LmNoZWNrZWQpXG4gICAgfSxcbiAgICBzdHlsZToge1xuICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgfSxcbiAgICBjaGVja2VkOiAhaW5zdGFuY2UuYWxsQ29sdW1uc0hpZGRlbiAmJiAhaW5zdGFuY2Uuc3RhdGUuaGlkZGVuQ29sdW1ucy5sZW5ndGgsXG4gICAgdGl0bGU6ICdUb2dnbGUgQWxsIENvbHVtbnMgSGlkZGVuJyxcbiAgICBpbmRldGVybWluYXRlOlxuICAgICAgIWluc3RhbmNlLmFsbENvbHVtbnNIaWRkZW4gJiYgaW5zdGFuY2Uuc3RhdGUuaGlkZGVuQ29sdW1ucy5sZW5ndGgsXG4gIH0sXG5dXG5cbmZ1bmN0aW9uIHJlZHVjZXIoc3RhdGUsIGFjdGlvbiwgcHJldmlvdXNTdGF0ZSwgaW5zdGFuY2UpIHtcbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLmluaXQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaGlkZGVuQ29sdW1uczogW10sXG4gICAgICAuLi5zdGF0ZSxcbiAgICB9XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMucmVzZXRIaWRkZW5Db2x1bW5zKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgaGlkZGVuQ29sdW1uczogaW5zdGFuY2UuaW5pdGlhbFN0YXRlLmhpZGRlbkNvbHVtbnMgfHwgW10sXG4gICAgfVxuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLnRvZ2dsZUhpZGVDb2x1bW4pIHtcbiAgICBjb25zdCBzaG91bGQgPVxuICAgICAgdHlwZW9mIGFjdGlvbi52YWx1ZSAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgPyBhY3Rpb24udmFsdWVcbiAgICAgICAgOiAhc3RhdGUuaGlkZGVuQ29sdW1ucy5pbmNsdWRlcyhhY3Rpb24uY29sdW1uSWQpXG5cbiAgICBjb25zdCBoaWRkZW5Db2x1bW5zID0gc2hvdWxkXG4gICAgICA/IFsuLi5zdGF0ZS5oaWRkZW5Db2x1bW5zLCBhY3Rpb24uY29sdW1uSWRdXG4gICAgICA6IHN0YXRlLmhpZGRlbkNvbHVtbnMuZmlsdGVyKGQgPT4gZCAhPT0gYWN0aW9uLmNvbHVtbklkKVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgaGlkZGVuQ29sdW1ucyxcbiAgICB9XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMuc2V0SGlkZGVuQ29sdW1ucykge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIGhpZGRlbkNvbHVtbnM6IGZ1bmN0aW9uYWxVcGRhdGUoYWN0aW9uLnZhbHVlLCBzdGF0ZS5oaWRkZW5Db2x1bW5zKSxcbiAgICB9XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMudG9nZ2xlSGlkZUFsbENvbHVtbnMpIHtcbiAgICBjb25zdCBzaG91bGRBbGwgPVxuICAgICAgdHlwZW9mIGFjdGlvbi52YWx1ZSAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgPyBhY3Rpb24udmFsdWVcbiAgICAgICAgOiAhc3RhdGUuaGlkZGVuQ29sdW1ucy5sZW5ndGhcblxuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIGhpZGRlbkNvbHVtbnM6IHNob3VsZEFsbCA/IGluc3RhbmNlLmZsYXRDb2x1bW5zLm1hcChkID0+IGQuaWQpIDogW10sXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHVzZUluc3RhbmNlQmVmb3JlRGltZW5zaW9ucyhpbnN0YW5jZSkge1xuICBjb25zdCB7XG4gICAgaGVhZGVycyxcbiAgICBzdGF0ZTogeyBoaWRkZW5Db2x1bW5zIH0sXG4gIH0gPSBpbnN0YW5jZVxuXG4gIGNvbnN0IGlzTW91bnRlZFJlZiA9IFJlYWN0LnVzZVJlZihmYWxzZSlcblxuICBpZiAoIWlzTW91bnRlZFJlZi5jdXJyZW50KSB7XG4gIH1cblxuICBjb25zdCBoYW5kbGVDb2x1bW4gPSAoY29sdW1uLCBwYXJlbnRWaXNpYmxlKSA9PiB7XG4gICAgY29sdW1uLmlzVmlzaWJsZSA9IHBhcmVudFZpc2libGUgJiYgIWhpZGRlbkNvbHVtbnMuaW5jbHVkZXMoY29sdW1uLmlkKVxuXG4gICAgbGV0IHRvdGFsVmlzaWJsZUhlYWRlckNvdW50ID0gMFxuXG4gICAgaWYgKGNvbHVtbi5oZWFkZXJzICYmIGNvbHVtbi5oZWFkZXJzLmxlbmd0aCkge1xuICAgICAgY29sdW1uLmhlYWRlcnMuZm9yRWFjaChcbiAgICAgICAgc3ViQ29sdW1uID0+XG4gICAgICAgICAgKHRvdGFsVmlzaWJsZUhlYWRlckNvdW50ICs9IGhhbmRsZUNvbHVtbihzdWJDb2x1bW4sIGNvbHVtbi5pc1Zpc2libGUpKVxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICB0b3RhbFZpc2libGVIZWFkZXJDb3VudCA9IGNvbHVtbi5pc1Zpc2libGUgPyAxIDogMFxuICAgIH1cblxuICAgIGNvbHVtbi50b3RhbFZpc2libGVIZWFkZXJDb3VudCA9IHRvdGFsVmlzaWJsZUhlYWRlckNvdW50XG5cbiAgICByZXR1cm4gdG90YWxWaXNpYmxlSGVhZGVyQ291bnRcbiAgfVxuXG4gIGxldCB0b3RhbFZpc2libGVIZWFkZXJDb3VudCA9IDBcblxuICBoZWFkZXJzLmZvckVhY2goXG4gICAgc3ViSGVhZGVyID0+ICh0b3RhbFZpc2libGVIZWFkZXJDb3VudCArPSBoYW5kbGVDb2x1bW4oc3ViSGVhZGVyLCB0cnVlKSlcbiAgKVxufVxuXG5mdW5jdGlvbiB1c2VJbnN0YW5jZShpbnN0YW5jZSkge1xuICBjb25zdCB7XG4gICAgZmxhdEhlYWRlcnMsXG4gICAgZGlzcGF0Y2gsXG4gICAgZmxhdENvbHVtbnMsXG4gICAgc3RhdGU6IHsgaGlkZGVuQ29sdW1ucyB9LFxuICB9ID0gaW5zdGFuY2VcblxuICBjb25zdCBnZXRJbnN0YW5jZSA9IHVzZUdldExhdGVzdChpbnN0YW5jZSlcblxuICBjb25zdCBhbGxDb2x1bW5zSGlkZGVuID0gZmxhdENvbHVtbnMubGVuZ3RoID09PSBoaWRkZW5Db2x1bW5zLmxlbmd0aFxuXG4gIGNvbnN0IHRvZ2dsZUhpZGVDb2x1bW4gPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAoY29sdW1uSWQsIHZhbHVlKSA9PlxuICAgICAgZGlzcGF0Y2goeyB0eXBlOiBhY3Rpb25zLnRvZ2dsZUhpZGVDb2x1bW4sIGNvbHVtbklkLCB2YWx1ZSB9KSxcbiAgICBbZGlzcGF0Y2hdXG4gIClcblxuICBjb25zdCBzZXRIaWRkZW5Db2x1bW5zID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgdmFsdWUgPT4gZGlzcGF0Y2goeyB0eXBlOiBhY3Rpb25zLnNldEhpZGRlbkNvbHVtbnMsIHZhbHVlIH0pLFxuICAgIFtkaXNwYXRjaF1cbiAgKVxuXG4gIGNvbnN0IHRvZ2dsZUhpZGVBbGxDb2x1bW5zID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgdmFsdWUgPT4gZGlzcGF0Y2goeyB0eXBlOiBhY3Rpb25zLnRvZ2dsZUhpZGVBbGxDb2x1bW5zLCB2YWx1ZSB9KSxcbiAgICBbZGlzcGF0Y2hdXG4gIClcblxuICAvLyBTbmFwc2hvdCBob29rIGFuZCBkaXNhbGxvdyBtb3JlIGZyb20gYmVpbmcgYWRkZWRcbiAgY29uc3QgZ2V0VG9nZ2xlSGlkZUFsbENvbHVtbnNQcm9wc0hvb2tzID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoXG4gICAgZ2V0SW5zdGFuY2UoKS5ob29rcyxcbiAgICAnZ2V0VG9nZ2xlSGlkZUFsbENvbHVtbnNQcm9wcydcbiAgKVxuXG4gIGNvbnN0IGdldFRvZ2dsZUhpZGVBbGxDb2x1bW5zUHJvcHMgPSBtYWtlUHJvcEdldHRlcihcbiAgICBnZXRUb2dnbGVIaWRlQWxsQ29sdW1uc1Byb3BzSG9va3MoKSxcbiAgICB7IGluc3RhbmNlOiBnZXRJbnN0YW5jZSgpIH1cbiAgKVxuXG4gIC8vIFNuYXBzaG90IGhvb2sgYW5kIGRpc2FsbG93IG1vcmUgZnJvbSBiZWluZyBhZGRlZFxuICBjb25zdCBnZXRUb2dnbGVIaWRkZW5Qcm9wc0hvb2tzID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoXG4gICAgZ2V0SW5zdGFuY2UoKS5ob29rcyxcbiAgICAnZ2V0VG9nZ2xlSGlkZGVuUHJvcHMnXG4gIClcblxuICBmbGF0SGVhZGVycy5mb3JFYWNoKGNvbHVtbiA9PiB7XG4gICAgY29sdW1uLnRvZ2dsZUhpZGRlbiA9IHZhbHVlID0+IHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogYWN0aW9ucy50b2dnbGVIaWRlQ29sdW1uLFxuICAgICAgICBjb2x1bW5JZDogY29sdW1uLmlkLFxuICAgICAgICB2YWx1ZSxcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgY29sdW1uLmdldFRvZ2dsZUhpZGRlblByb3BzID0gbWFrZVByb3BHZXR0ZXIoZ2V0VG9nZ2xlSGlkZGVuUHJvcHNIb29rcygpLCB7XG4gICAgICBpbnN0YW5jZTogZ2V0SW5zdGFuY2UoKSxcbiAgICAgIGNvbHVtbixcbiAgICB9KVxuICB9KVxuXG4gIE9iamVjdC5hc3NpZ24oaW5zdGFuY2UsIHtcbiAgICBhbGxDb2x1bW5zSGlkZGVuLFxuICAgIHRvZ2dsZUhpZGVDb2x1bW4sXG4gICAgc2V0SGlkZGVuQ29sdW1ucyxcbiAgICB0b2dnbGVIaWRlQWxsQ29sdW1ucyxcbiAgICBnZXRUb2dnbGVIaWRlQWxsQ29sdW1uc1Byb3BzLFxuICB9KVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuXG4vL1xuaW1wb3J0IHtcbiAgYWN0aW9ucyxcbiAgcmVkdWNlSG9va3MsXG4gIGxvb3BIb29rcyxcbiAgbWFrZVByb3BHZXR0ZXIsXG4gIG1ha2VSZW5kZXJlcixcbiAgZGVjb3JhdGVDb2x1bW5UcmVlLFxuICBtYWtlSGVhZGVyR3JvdXBzLFxuICBmbGF0dGVuQnksXG4gIHVzZUdldExhdGVzdCxcbiAgdXNlQ29uc3VtZUhvb2tHZXR0ZXIsXG59IGZyb20gJy4uL3V0aWxzJ1xuXG5pbXBvcnQgbWFrZURlZmF1bHRQbHVnaW5Ib29rcyBmcm9tICcuLi9tYWtlRGVmYXVsdFBsdWdpbkhvb2tzJ1xuXG5pbXBvcnQgeyB1c2VDb2x1bW5WaXNpYmlsaXR5IH0gZnJvbSAnLi91c2VDb2x1bW5WaXNpYmlsaXR5J1xuXG5jb25zdCBkZWZhdWx0SW5pdGlhbFN0YXRlID0ge31cbmNvbnN0IGRlZmF1bHRDb2x1bW5JbnN0YW5jZSA9IHt9XG5jb25zdCBkZWZhdWx0UmVkdWNlciA9IChzdGF0ZSwgYWN0aW9uLCBwcmV2U3RhdGUpID0+IHN0YXRlXG5jb25zdCBkZWZhdWx0R2V0U3ViUm93cyA9IChyb3csIGluZGV4KSA9PiByb3cuc3ViUm93cyB8fCBbXVxuY29uc3QgZGVmYXVsdEdldFJvd0lkID0gKHJvdywgaW5kZXgsIHBhcmVudCkgPT5cbiAgYCR7cGFyZW50ID8gW3BhcmVudC5pZCwgaW5kZXhdLmpvaW4oJy4nKSA6IGluZGV4fWBcbmNvbnN0IGRlZmF1bHRVc2VDb250cm9sbGVkU3RhdGUgPSBkID0+IGRcblxuZnVuY3Rpb24gYXBwbHlEZWZhdWx0cyhwcm9wcykge1xuICBjb25zdCB7XG4gICAgaW5pdGlhbFN0YXRlID0gZGVmYXVsdEluaXRpYWxTdGF0ZSxcbiAgICBkZWZhdWx0Q29sdW1uID0gZGVmYXVsdENvbHVtbkluc3RhbmNlLFxuICAgIGdldFN1YlJvd3MgPSBkZWZhdWx0R2V0U3ViUm93cyxcbiAgICBnZXRSb3dJZCA9IGRlZmF1bHRHZXRSb3dJZCxcbiAgICBzdGF0ZVJlZHVjZXIgPSBkZWZhdWx0UmVkdWNlcixcbiAgICB1c2VDb250cm9sbGVkU3RhdGUgPSBkZWZhdWx0VXNlQ29udHJvbGxlZFN0YXRlLFxuICAgIC4uLnJlc3RcbiAgfSA9IHByb3BzXG5cbiAgcmV0dXJuIHtcbiAgICAuLi5yZXN0LFxuICAgIGluaXRpYWxTdGF0ZSxcbiAgICBkZWZhdWx0Q29sdW1uLFxuICAgIGdldFN1YlJvd3MsXG4gICAgZ2V0Um93SWQsXG4gICAgc3RhdGVSZWR1Y2VyLFxuICAgIHVzZUNvbnRyb2xsZWRTdGF0ZSxcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgdXNlVGFibGUgPSAocHJvcHMsIC4uLnBsdWdpbnMpID0+IHtcbiAgLy8gQXBwbHkgZGVmYXVsdCBwcm9wc1xuICBwcm9wcyA9IGFwcGx5RGVmYXVsdHMocHJvcHMpXG5cbiAgLy8gQWRkIGNvcmUgcGx1Z2luc1xuICBwbHVnaW5zID0gW3VzZUNvbHVtblZpc2liaWxpdHksIC4uLnBsdWdpbnNdXG5cbiAgLy8gQ3JlYXRlIHRoZSB0YWJsZSBpbnN0YW5jZVxuICBsZXQgaW5zdGFuY2VSZWYgPSBSZWFjdC51c2VSZWYoe30pXG5cbiAgLy8gQ3JlYXRlIGEgZ2V0dGVyIGZvciB0aGUgaW5zdGFuY2UgKGhlbHBzIGF2b2lkIGEgbG90IG9mIHBvdGVudGlhbCBtZW1vcnkgbGVha3MpXG4gIGNvbnN0IGdldEluc3RhbmNlID0gdXNlR2V0TGF0ZXN0KGluc3RhbmNlUmVmLmN1cnJlbnQpXG5cbiAgLy8gQXNzaWduIHRoZSBwcm9wcywgcGx1Z2lucyBhbmQgaG9va3MgdG8gdGhlIGluc3RhbmNlXG4gIE9iamVjdC5hc3NpZ24oZ2V0SW5zdGFuY2UoKSwge1xuICAgIC4uLnByb3BzLFxuICAgIHBsdWdpbnMsXG4gICAgaG9va3M6IG1ha2VEZWZhdWx0UGx1Z2luSG9va3MoKSxcbiAgfSlcblxuICAvLyBBbGxvdyBwbHVnaW5zIHRvIHJlZ2lzdGVyIGhvb2tzIGFzIGVhcmx5IGFzIHBvc3NpYmxlXG4gIHBsdWdpbnMuZmlsdGVyKEJvb2xlYW4pLmZvckVhY2gocGx1Z2luID0+IHtcbiAgICBwbHVnaW4oZ2V0SW5zdGFuY2UoKS5ob29rcylcbiAgfSlcblxuICBjb25zdCBnZXRVc2VPcHRpb25zSG9va3MgPSB1c2VDb25zdW1lSG9va0dldHRlcihcbiAgICBnZXRJbnN0YW5jZSgpLmhvb2tzLFxuICAgICd1c2VPcHRpb25zJ1xuICApXG5cbiAgLy8gQWxsb3cgdXNlT3B0aW9ucyBob29rcyB0byBtb2RpZnkgdGhlIG9wdGlvbnMgY29taW5nIGludG8gdGhlIHRhYmxlXG4gIE9iamVjdC5hc3NpZ24oXG4gICAgZ2V0SW5zdGFuY2UoKSxcbiAgICByZWR1Y2VIb29rcyhnZXRVc2VPcHRpb25zSG9va3MoKSwgYXBwbHlEZWZhdWx0cyhwcm9wcykpXG4gIClcblxuICBjb25zdCB7XG4gICAgZGF0YSxcbiAgICBjb2x1bW5zOiB1c2VyQ29sdW1ucyxcbiAgICBpbml0aWFsU3RhdGUsXG4gICAgZGVmYXVsdENvbHVtbixcbiAgICBnZXRTdWJSb3dzLFxuICAgIGdldFJvd0lkLFxuICAgIHN0YXRlUmVkdWNlcixcbiAgICB1c2VDb250cm9sbGVkU3RhdGUsXG4gIH0gPSBnZXRJbnN0YW5jZSgpXG5cbiAgLy8gU25hcHNob3QgaG9vayBhbmQgZGlzYWxsb3cgbW9yZSBmcm9tIGJlaW5nIGFkZGVkXG4gIGNvbnN0IGdldFN0YXRlUmVkdWNlcnMgPSB1c2VDb25zdW1lSG9va0dldHRlcihcbiAgICBnZXRJbnN0YW5jZSgpLmhvb2tzLFxuICAgICdzdGF0ZVJlZHVjZXJzJ1xuICApXG5cbiAgLy8gU2V0dXAgdXNlciByZWR1Y2VyIHJlZlxuICBjb25zdCBnZXRTdGF0ZVJlZHVjZXIgPSB1c2VHZXRMYXRlc3Qoc3RhdGVSZWR1Y2VyKVxuXG4gIC8vIEJ1aWxkIHRoZSByZWR1Y2VyXG4gIGNvbnN0IHJlZHVjZXIgPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAoc3RhdGUsIGFjdGlvbikgPT4ge1xuICAgICAgLy8gRGV0ZWN0IGludmFsaWQgYWN0aW9uc1xuICAgICAgaWYgKCFhY3Rpb24udHlwZSkge1xuICAgICAgICBjb25zb2xlLmluZm8oeyBhY3Rpb24gfSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIEFjdGlvbiDwn5GGJylcbiAgICAgIH1cblxuICAgICAgLy8gUmVkdWNlIHRoZSBzdGF0ZSBmcm9tIGFsbCBwbHVnaW4gcmVkdWNlcnNcbiAgICAgIHJldHVybiBbXG4gICAgICAgIC4uLmdldFN0YXRlUmVkdWNlcnMoKSxcbiAgICAgICAgLy8gQWxsb3cgdGhlIHVzZXIgdG8gYWRkIHRoZWlyIG93biBzdGF0ZSByZWR1Y2VyKHMpXG4gICAgICAgIC4uLihBcnJheS5pc0FycmF5KGdldFN0YXRlUmVkdWNlcigpKVxuICAgICAgICAgID8gZ2V0U3RhdGVSZWR1Y2VyKClcbiAgICAgICAgICA6IFtnZXRTdGF0ZVJlZHVjZXIoKV0pLFxuICAgICAgXS5yZWR1Y2UoXG4gICAgICAgIChzLCBoYW5kbGVyKSA9PiBoYW5kbGVyKHMsIGFjdGlvbiwgc3RhdGUsIGdldEluc3RhbmNlKCkpIHx8IHMsXG4gICAgICAgIHN0YXRlXG4gICAgICApXG4gICAgfSxcbiAgICBbZ2V0U3RhdGVSZWR1Y2VycywgZ2V0U3RhdGVSZWR1Y2VyLCBnZXRJbnN0YW5jZV1cbiAgKVxuXG4gIC8vIFN0YXJ0IHRoZSByZWR1Y2VyXG4gIGNvbnN0IFtyZWR1Y2VyU3RhdGUsIGRpc3BhdGNoXSA9IFJlYWN0LnVzZVJlZHVjZXIocmVkdWNlciwgdW5kZWZpbmVkLCAoKSA9PlxuICAgIHJlZHVjZXIoaW5pdGlhbFN0YXRlLCB7IHR5cGU6IGFjdGlvbnMuaW5pdCB9KVxuICApXG5cbiAgLy8gU25hcHNob3QgaG9vayBhbmQgZGlzYWxsb3cgbW9yZSBmcm9tIGJlaW5nIGFkZGVkXG4gIGNvbnN0IGdldFVzZUNvbnRyb2xsZWRTdGF0ZUhvb2tzID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoXG4gICAgZ2V0SW5zdGFuY2UoKS5ob29rcyxcbiAgICAndXNlQ29udHJvbGxlZFN0YXRlJ1xuICApXG5cbiAgLy8gQWxsb3cgdGhlIHVzZXIgdG8gY29udHJvbCB0aGUgZmluYWwgc3RhdGUgd2l0aCBob29rc1xuICBjb25zdCBzdGF0ZSA9IHJlZHVjZUhvb2tzKFxuICAgIFsuLi5nZXRVc2VDb250cm9sbGVkU3RhdGVIb29rcygpLCB1c2VDb250cm9sbGVkU3RhdGVdLFxuICAgIHJlZHVjZXJTdGF0ZSxcbiAgICB7IGluc3RhbmNlOiBnZXRJbnN0YW5jZSgpIH1cbiAgKVxuXG4gIE9iamVjdC5hc3NpZ24oZ2V0SW5zdGFuY2UoKSwge1xuICAgIHN0YXRlLFxuICAgIGRpc3BhdGNoLFxuICB9KVxuXG4gIC8vIFNuYXBzaG90IGhvb2sgYW5kIGRpc2FsbG93IG1vcmUgZnJvbSBiZWluZyBhZGRlZFxuICBjb25zdCBnZXRDb2x1bW5zSG9va3MgPSB1c2VDb25zdW1lSG9va0dldHRlcihnZXRJbnN0YW5jZSgpLmhvb2tzLCAnY29sdW1ucycpXG5cbiAgLy8gU25hcHNob3QgaG9vayBhbmQgZGlzYWxsb3cgbW9yZSBmcm9tIGJlaW5nIGFkZGVkXG4gIGNvbnN0IGdldENvbHVtbnNEZXBzSG9va3MgPSB1c2VDb25zdW1lSG9va0dldHRlcihcbiAgICBnZXRJbnN0YW5jZSgpLmhvb2tzLFxuICAgICdjb2x1bW5zRGVwcydcbiAgKVxuXG4gIC8vIERlY29yYXRlIEFsbCB0aGUgY29sdW1uc1xuICBsZXQgY29sdW1ucyA9IFJlYWN0LnVzZU1lbW8oXG4gICAgKCkgPT5cbiAgICAgIGRlY29yYXRlQ29sdW1uVHJlZShcbiAgICAgICAgcmVkdWNlSG9va3MoZ2V0Q29sdW1uc0hvb2tzKCksIHVzZXJDb2x1bW5zLCB7XG4gICAgICAgICAgaW5zdGFuY2U6IGdldEluc3RhbmNlKCksXG4gICAgICAgIH0pLFxuICAgICAgICBkZWZhdWx0Q29sdW1uXG4gICAgICApLFxuICAgIFtcbiAgICAgIGRlZmF1bHRDb2x1bW4sXG4gICAgICBnZXRDb2x1bW5zSG9va3MsXG4gICAgICBnZXRJbnN0YW5jZSxcbiAgICAgIHVzZXJDb2x1bW5zLFxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICAgICAgLi4ucmVkdWNlSG9va3MoZ2V0Q29sdW1uc0RlcHNIb29rcygpLCBbXSwgeyBpbnN0YW5jZTogZ2V0SW5zdGFuY2UoKSB9KSxcbiAgICBdXG4gIClcblxuICBnZXRJbnN0YW5jZSgpLmNvbHVtbnMgPSBjb2x1bW5zXG5cbiAgLy8gR2V0IHRoZSBmbGF0IGxpc3Qgb2YgYWxsIGNvbHVtbnMgYW5kIGFsbG93IGhvb2tzIHRvIGRlY29yYXRlXG4gIC8vIHRob3NlIGNvbHVtbnMgKGFuZCB0cmlnZ2VyIHRoaXMgbWVtb2l6YXRpb24gdmlhIGRlcHMpXG4gIGxldCBmbGF0Q29sdW1ucyA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gZmxhdHRlbkJ5KGNvbHVtbnMsICdjb2x1bW5zJyksIFtcbiAgICBjb2x1bW5zLFxuICBdKVxuXG4gIGdldEluc3RhbmNlKCkuZmxhdENvbHVtbnMgPSBmbGF0Q29sdW1uc1xuXG4gIC8vIEFjY2VzcyB0aGUgcm93IG1vZGVsXG4gIGNvbnN0IFtyb3dzLCBmbGF0Um93c10gPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICBsZXQgZmxhdFJvd3MgPSBbXVxuXG4gICAgLy8gQWNjZXNzIHRoZSByb3cncyBkYXRhXG4gICAgY29uc3QgYWNjZXNzUm93ID0gKG9yaWdpbmFsUm93LCBpLCBkZXB0aCA9IDAsIHBhcmVudCkgPT4ge1xuICAgICAgLy8gS2VlcCB0aGUgb3JpZ2luYWwgcmVmZXJlbmNlIGFyb3VuZFxuICAgICAgY29uc3Qgb3JpZ2luYWwgPSBvcmlnaW5hbFJvd1xuXG4gICAgICBjb25zdCBpZCA9IGdldFJvd0lkKG9yaWdpbmFsUm93LCBpLCBwYXJlbnQpXG5cbiAgICAgIGNvbnN0IHJvdyA9IHtcbiAgICAgICAgaWQsXG4gICAgICAgIG9yaWdpbmFsLFxuICAgICAgICBpbmRleDogaSxcbiAgICAgICAgZGVwdGgsXG4gICAgICAgIGNlbGxzOiBbe31dLCAvLyBUaGlzIGlzIGEgZHVtbXkgY2VsbFxuICAgICAgfVxuXG4gICAgICBmbGF0Um93cy5wdXNoKHJvdylcblxuICAgICAgLy8gUHJvY2VzcyBhbnkgc3ViUm93c1xuICAgICAgbGV0IHN1YlJvd3MgPSBnZXRTdWJSb3dzKG9yaWdpbmFsUm93LCBpKVxuXG4gICAgICBpZiAoc3ViUm93cykge1xuICAgICAgICByb3cuc3ViUm93cyA9IHN1YlJvd3MubWFwKChkLCBpKSA9PiBhY2Nlc3NSb3coZCwgaSwgZGVwdGggKyAxLCByb3cpKVxuICAgICAgfVxuXG4gICAgICAvLyBPdmVycmlkZSBjb21tb24gYXJyYXkgZnVuY3Rpb25zIChhbmQgdGhlIGR1bW15IGNlbGwncyBnZXRDZWxsUHJvcHMgZnVuY3Rpb24pXG4gICAgICAvLyB0byBzaG93IGFuIGVycm9yIGlmIGl0IGlzIGFjY2Vzc2VkIHdpdGhvdXQgY2FsbGluZyBwcmVwYXJlUm93XG4gICAgICBjb25zdCB1bnByZXBhcmVkQWNjZXNzV2FybmluZyA9ICgpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICdSZWFjdC1UYWJsZTogWW91IGhhdmUgbm90IGNhbGxlZCBwcmVwYXJlUm93KHJvdykgb25lIG9yIG1vcmUgcm93cyB5b3UgYXJlIGF0dGVtcHRpbmcgdG8gcmVuZGVyLidcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgcm93LmNlbGxzLm1hcCA9IHVucHJlcGFyZWRBY2Nlc3NXYXJuaW5nXG4gICAgICByb3cuY2VsbHMuZmlsdGVyID0gdW5wcmVwYXJlZEFjY2Vzc1dhcm5pbmdcbiAgICAgIHJvdy5jZWxscy5mb3JFYWNoID0gdW5wcmVwYXJlZEFjY2Vzc1dhcm5pbmdcbiAgICAgIHJvdy5jZWxsc1swXS5nZXRDZWxsUHJvcHMgPSB1bnByZXBhcmVkQWNjZXNzV2FybmluZ1xuXG4gICAgICAvLyBDcmVhdGUgdGhlIGNlbGxzIGFuZCB2YWx1ZXNcbiAgICAgIHJvdy52YWx1ZXMgPSB7fVxuICAgICAgZmxhdENvbHVtbnMuZm9yRWFjaCgoeyBpZCwgYWNjZXNzb3IgfSkgPT4ge1xuICAgICAgICByb3cudmFsdWVzW2lkXSA9IGFjY2Vzc29yXG4gICAgICAgICAgPyBhY2Nlc3NvcihvcmlnaW5hbFJvdywgaSwgeyBzdWJSb3dzLCBkZXB0aCwgZGF0YSB9KVxuICAgICAgICAgIDogdW5kZWZpbmVkXG4gICAgICB9KVxuXG4gICAgICByZXR1cm4gcm93XG4gICAgfVxuXG4gICAgLy8gVXNlIHRoZSByZXNvbHZlZCBkYXRhXG4gICAgY29uc3QgYWNjZXNzZWREYXRhID0gZGF0YS5tYXAoKGQsIGkpID0+IGFjY2Vzc1JvdyhkLCBpKSlcblxuICAgIHJldHVybiBbYWNjZXNzZWREYXRhLCBmbGF0Um93c11cbiAgfSwgW2RhdGEsIGZsYXRDb2x1bW5zLCBnZXRSb3dJZCwgZ2V0U3ViUm93c10pXG5cbiAgZ2V0SW5zdGFuY2UoKS5yb3dzID0gcm93c1xuICBnZXRJbnN0YW5jZSgpLmZsYXRSb3dzID0gZmxhdFJvd3NcblxuICAvLyBTbmFwc2hvdCBob29rIGFuZCBkaXNhbGxvdyBtb3JlIGZyb20gYmVpbmcgYWRkZWRcbiAgY29uc3QgZmxhdENvbHVtbnNIb29rcyA9IHVzZUNvbnN1bWVIb29rR2V0dGVyKFxuICAgIGdldEluc3RhbmNlKCkuaG9va3MsXG4gICAgJ2ZsYXRDb2x1bW5zJ1xuICApXG5cbiAgLy8gU25hcHNob3QgaG9vayBhbmQgZGlzYWxsb3cgbW9yZSBmcm9tIGJlaW5nIGFkZGVkXG4gIGNvbnN0IGZsYXRDb2x1bW5zRGVwc0hvb2tzID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoXG4gICAgZ2V0SW5zdGFuY2UoKS5ob29rcyxcbiAgICAnZmxhdENvbHVtbnNEZXBzJ1xuICApXG5cbiAgLy8gR2V0IHRoZSBmbGF0IGxpc3Qgb2YgYWxsIGNvbHVtbnMgQUZURVIgdGhlIHJvd3NcbiAgLy8gaGF2ZSBiZWVuIGFjY2VzcywgYW5kIGFsbG93IGhvb2tzIHRvIGRlY29yYXRlXG4gIC8vIHRob3NlIGNvbHVtbnMgKGFuZCB0cmlnZ2VyIHRoaXMgbWVtb2l6YXRpb24gdmlhIGRlcHMpXG4gIGZsYXRDb2x1bW5zID0gUmVhY3QudXNlTWVtbyhcbiAgICAoKSA9PlxuICAgICAgcmVkdWNlSG9va3MoZmxhdENvbHVtbnNIb29rcygpLCBmbGF0Q29sdW1ucywgeyBpbnN0YW5jZTogZ2V0SW5zdGFuY2UoKSB9KSxcbiAgICBbXG4gICAgICBmbGF0Q29sdW1ucyxcbiAgICAgIGZsYXRDb2x1bW5zSG9va3MsXG4gICAgICBnZXRJbnN0YW5jZSxcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgICAgIC4uLnJlZHVjZUhvb2tzKGZsYXRDb2x1bW5zRGVwc0hvb2tzKCksIFtdLCB7IGluc3RhbmNlOiBnZXRJbnN0YW5jZSgpIH0pLFxuICAgIF1cbiAgKVxuXG4gIGdldEluc3RhbmNlKCkuZmxhdENvbHVtbnMgPSBmbGF0Q29sdW1uc1xuXG4gIC8vIFNuYXBzaG90IGhvb2sgYW5kIGRpc2FsbG93IG1vcmUgZnJvbSBiZWluZyBhZGRlZFxuICBjb25zdCBnZXRIZWFkZXJHcm91cHMgPSB1c2VDb25zdW1lSG9va0dldHRlcihcbiAgICBnZXRJbnN0YW5jZSgpLmhvb2tzLFxuICAgICdoZWFkZXJHcm91cHMnXG4gIClcblxuICAvLyBTbmFwc2hvdCBob29rIGFuZCBkaXNhbGxvdyBtb3JlIGZyb20gYmVpbmcgYWRkZWRcbiAgY29uc3QgZ2V0SGVhZGVyR3JvdXBzRGVwcyA9IHVzZUNvbnN1bWVIb29rR2V0dGVyKFxuICAgIGdldEluc3RhbmNlKCkuaG9va3MsXG4gICAgJ2hlYWRlckdyb3Vwc0RlcHMnXG4gIClcblxuICAvLyBNYWtlIHRoZSBoZWFkZXJHcm91cHNcbiAgY29uc3QgaGVhZGVyR3JvdXBzID0gUmVhY3QudXNlTWVtbyhcbiAgICAoKSA9PlxuICAgICAgcmVkdWNlSG9va3MoXG4gICAgICAgIGdldEhlYWRlckdyb3VwcygpLFxuICAgICAgICBtYWtlSGVhZGVyR3JvdXBzKGZsYXRDb2x1bW5zLCBkZWZhdWx0Q29sdW1uKSxcbiAgICAgICAgZ2V0SW5zdGFuY2UoKVxuICAgICAgKSxcbiAgICBbXG4gICAgICBkZWZhdWx0Q29sdW1uLFxuICAgICAgZmxhdENvbHVtbnMsXG4gICAgICBnZXRIZWFkZXJHcm91cHMsXG4gICAgICBnZXRJbnN0YW5jZSxcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgICAgIC4uLnJlZHVjZUhvb2tzKGdldEhlYWRlckdyb3Vwc0RlcHMoKSwgW10sIHsgaW5zdGFuY2U6IGdldEluc3RhbmNlKCkgfSksXG4gICAgXVxuICApXG5cbiAgZ2V0SW5zdGFuY2UoKS5oZWFkZXJHcm91cHMgPSBoZWFkZXJHcm91cHNcblxuICBjb25zdCBoZWFkZXJzID0gUmVhY3QudXNlTWVtbyhcbiAgICAoKSA9PiAoaGVhZGVyR3JvdXBzLmxlbmd0aCA/IGhlYWRlckdyb3Vwc1swXS5oZWFkZXJzIDogW10pLFxuICAgIFtoZWFkZXJHcm91cHNdXG4gIClcblxuICBnZXRJbnN0YW5jZSgpLmhlYWRlcnMgPSBoZWFkZXJzXG5cbiAgLy8gUHJvdmlkZSBhIGZsYXQgaGVhZGVyIGxpc3QgZm9yIHV0aWxpdGllc1xuICBnZXRJbnN0YW5jZSgpLmZsYXRIZWFkZXJzID0gaGVhZGVyR3JvdXBzLnJlZHVjZShcbiAgICAoYWxsLCBoZWFkZXJHcm91cCkgPT4gWy4uLmFsbCwgLi4uaGVhZGVyR3JvdXAuaGVhZGVyc10sXG4gICAgW11cbiAgKVxuXG4gIC8vIFNuYXBzaG90IGhvb2sgYW5kIGRpc2FsbG93IG1vcmUgZnJvbSBiZWluZyBhZGRlZFxuICBjb25zdCBnZXRVc2VJbnN0YW5jZUJlZm9yZURpbWVuc2lvbnMgPSB1c2VDb25zdW1lSG9va0dldHRlcihcbiAgICBnZXRJbnN0YW5jZSgpLmhvb2tzLFxuICAgICd1c2VJbnN0YW5jZUJlZm9yZURpbWVuc2lvbnMnXG4gIClcblxuICBsb29wSG9va3MoZ2V0VXNlSW5zdGFuY2VCZWZvcmVEaW1lbnNpb25zKCksIGdldEluc3RhbmNlKCkpXG5cbiAgLy8gSGVhZGVyIFZpc2liaWxpdHkgaXMgbmVlZGVkIGJ5IHRoaXMgcG9pbnRcbiAgY29uc3QgW1xuICAgIHRvdGFsQ29sdW1uc01pbldpZHRoLFxuICAgIHRvdGFsQ29sdW1uc1dpZHRoLFxuICAgIHRvdGFsQ29sdW1uc01heFdpZHRoLFxuICBdID0gY2FsY3VsYXRlSGVhZGVyV2lkdGhzKGhlYWRlcnMpXG5cbiAgZ2V0SW5zdGFuY2UoKS50b3RhbENvbHVtbnNNaW5XaWR0aCA9IHRvdGFsQ29sdW1uc01pbldpZHRoXG4gIGdldEluc3RhbmNlKCkudG90YWxDb2x1bW5zV2lkdGggPSB0b3RhbENvbHVtbnNXaWR0aFxuICBnZXRJbnN0YW5jZSgpLnRvdGFsQ29sdW1uc01heFdpZHRoID0gdG90YWxDb2x1bW5zTWF4V2lkdGhcblxuICAvLyBTbmFwc2hvdCBob29rIGFuZCBkaXNhbGxvdyBtb3JlIGZyb20gYmVpbmcgYWRkZWRcbiAgY29uc3QgZ2V0VXNlSW5zdGFuY2UgPSB1c2VDb25zdW1lSG9va0dldHRlcihcbiAgICBnZXRJbnN0YW5jZSgpLmhvb2tzLFxuICAgICd1c2VJbnN0YW5jZSdcbiAgKVxuXG4gIGxvb3BIb29rcyhnZXRVc2VJbnN0YW5jZSgpLCBnZXRJbnN0YW5jZSgpKVxuXG4gIC8vIFNuYXBzaG90IGhvb2sgYW5kIGRpc2FsbG93IG1vcmUgZnJvbSBiZWluZyBhZGRlZFxuICBjb25zdCBnZXRIZWFkZXJQcm9wc0hvb2tzID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoXG4gICAgZ2V0SW5zdGFuY2UoKS5ob29rcyxcbiAgICAnZ2V0SGVhZGVyUHJvcHMnXG4gIClcblxuICAvLyBTbmFwc2hvdCBob29rIGFuZCBkaXNhbGxvdyBtb3JlIGZyb20gYmVpbmcgYWRkZWRcbiAgY29uc3QgZ2V0Rm9vdGVyUHJvcHNIb29rcyA9IHVzZUNvbnN1bWVIb29rR2V0dGVyKFxuICAgIGdldEluc3RhbmNlKCkuaG9va3MsXG4gICAgJ2dldEZvb3RlclByb3BzJ1xuICApXG5cbiAgLy8gRWFjaCBtYXRlcmlhbGl6ZWQgaGVhZGVyIG5lZWRzIHRvIGJlIGFzc2lnbmVkIGEgcmVuZGVyIGZ1bmN0aW9uIGFuZCBvdGhlclxuICAvLyBwcm9wIGdldHRlciBwcm9wZXJ0aWVzIGhlcmUuXG4gIDtbLi4uZ2V0SW5zdGFuY2UoKS5mbGF0SGVhZGVycywgLi4uZ2V0SW5zdGFuY2UoKS5mbGF0Q29sdW1uc10uZm9yRWFjaChcbiAgICBjb2x1bW4gPT4ge1xuICAgICAgLy8gR2l2ZSBjb2x1bW5zL2hlYWRlcnMgcmVuZGVyaW5nIHBvd2VyXG4gICAgICBjb2x1bW4ucmVuZGVyID0gbWFrZVJlbmRlcmVyKGdldEluc3RhbmNlKCksIGNvbHVtbilcblxuICAgICAgLy8gR2l2ZSBjb2x1bW5zL2hlYWRlcnMgYSBkZWZhdWx0IGdldEhlYWRlclByb3BzXG4gICAgICBjb2x1bW4uZ2V0SGVhZGVyUHJvcHMgPSBtYWtlUHJvcEdldHRlcihnZXRIZWFkZXJQcm9wc0hvb2tzKCksIHtcbiAgICAgICAgaW5zdGFuY2U6IGdldEluc3RhbmNlKCksXG4gICAgICAgIGNvbHVtbixcbiAgICAgIH0pXG5cbiAgICAgIC8vIEdpdmUgY29sdW1ucy9oZWFkZXJzIGEgZGVmYXVsdCBnZXRGb290ZXJQcm9wc1xuICAgICAgY29sdW1uLmdldEZvb3RlclByb3BzID0gbWFrZVByb3BHZXR0ZXIoZ2V0Rm9vdGVyUHJvcHNIb29rcygpLCB7XG4gICAgICAgIGluc3RhbmNlOiBnZXRJbnN0YW5jZSgpLFxuICAgICAgICBjb2x1bW4sXG4gICAgICB9KVxuICAgIH1cbiAgKVxuXG4gIC8vIFNuYXBzaG90IGhvb2sgYW5kIGRpc2FsbG93IG1vcmUgZnJvbSBiZWluZyBhZGRlZFxuICBjb25zdCBnZXRIZWFkZXJHcm91cFByb3BzSG9va3MgPSB1c2VDb25zdW1lSG9va0dldHRlcihcbiAgICBnZXRJbnN0YW5jZSgpLmhvb2tzLFxuICAgICdnZXRIZWFkZXJHcm91cFByb3BzJ1xuICApXG5cbiAgLy8gU25hcHNob3QgaG9vayBhbmQgZGlzYWxsb3cgbW9yZSBmcm9tIGJlaW5nIGFkZGVkXG4gIGNvbnN0IGdldEZvb3Rlckdyb3VwUHJvcHNIb29rcyA9IHVzZUNvbnN1bWVIb29rR2V0dGVyKFxuICAgIGdldEluc3RhbmNlKCkuaG9va3MsXG4gICAgJ2dldEZvb3Rlckdyb3VwUHJvcHMnXG4gIClcblxuICBnZXRJbnN0YW5jZSgpLmhlYWRlckdyb3VwcyA9IGdldEluc3RhbmNlKCkuaGVhZGVyR3JvdXBzLmZpbHRlcihcbiAgICAoaGVhZGVyR3JvdXAsIGkpID0+IHtcbiAgICAgIC8vIEZpbHRlciBvdXQgYW55IGhlYWRlcnMgYW5kIGhlYWRlckdyb3VwcyB0aGF0IGRvbid0IGhhdmUgdmlzaWJsZSBjb2x1bW5zXG4gICAgICBoZWFkZXJHcm91cC5oZWFkZXJzID0gaGVhZGVyR3JvdXAuaGVhZGVycy5maWx0ZXIoY29sdW1uID0+IHtcbiAgICAgICAgY29uc3QgcmVjdXJzZSA9IGhlYWRlcnMgPT5cbiAgICAgICAgICBoZWFkZXJzLmZpbHRlcihjb2x1bW4gPT4ge1xuICAgICAgICAgICAgaWYgKGNvbHVtbi5oZWFkZXJzKSB7XG4gICAgICAgICAgICAgIHJldHVybiByZWN1cnNlKGNvbHVtbi5oZWFkZXJzKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbHVtbi5pc1Zpc2libGVcbiAgICAgICAgICB9KS5sZW5ndGhcbiAgICAgICAgaWYgKGNvbHVtbi5oZWFkZXJzKSB7XG4gICAgICAgICAgcmV0dXJuIHJlY3Vyc2UoY29sdW1uLmhlYWRlcnMpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbHVtbi5pc1Zpc2libGVcbiAgICAgIH0pXG5cbiAgICAgIC8vIEdpdmUgaGVhZGVyR3JvdXBzIGdldFJvd1Byb3BzXG4gICAgICBpZiAoaGVhZGVyR3JvdXAuaGVhZGVycy5sZW5ndGgpIHtcbiAgICAgICAgaGVhZGVyR3JvdXAuZ2V0SGVhZGVyR3JvdXBQcm9wcyA9IG1ha2VQcm9wR2V0dGVyKFxuICAgICAgICAgIGdldEhlYWRlckdyb3VwUHJvcHNIb29rcygpLFxuICAgICAgICAgIHsgaW5zdGFuY2U6IGdldEluc3RhbmNlKCksIGhlYWRlckdyb3VwLCBpbmRleDogaSB9XG4gICAgICAgIClcblxuICAgICAgICBoZWFkZXJHcm91cC5nZXRGb290ZXJHcm91cFByb3BzID0gbWFrZVByb3BHZXR0ZXIoXG4gICAgICAgICAgZ2V0Rm9vdGVyR3JvdXBQcm9wc0hvb2tzKCksXG4gICAgICAgICAgeyBpbnN0YW5jZTogZ2V0SW5zdGFuY2UoKSwgaGVhZGVyR3JvdXAsIGluZGV4OiBpIH1cbiAgICAgICAgKVxuXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgKVxuXG4gIGdldEluc3RhbmNlKCkuZm9vdGVyR3JvdXBzID0gWy4uLmdldEluc3RhbmNlKCkuaGVhZGVyR3JvdXBzXS5yZXZlcnNlKClcblxuICAvLyBSdW4gdGhlIHJvd3MgKHRoaXMgY291bGQgYmUgYSBkYW5nZXJvdXMgaG9vayB3aXRoIGEgdG9uIG9mIGRhdGEpXG5cbiAgLy8gU25hcHNob3QgaG9vayBhbmQgZGlzYWxsb3cgbW9yZSBmcm9tIGJlaW5nIGFkZGVkXG4gIGNvbnN0IGdldFVzZVJvd3NIb29rcyA9IHVzZUNvbnN1bWVIb29rR2V0dGVyKGdldEluc3RhbmNlKCkuaG9va3MsICd1c2VSb3dzJylcblxuICBnZXRJbnN0YW5jZSgpLnJvd3MgPSByZWR1Y2VIb29rcyhnZXRVc2VSb3dzSG9va3MoKSwgZ2V0SW5zdGFuY2UoKS5yb3dzLCB7XG4gICAgaW5zdGFuY2U6IGdldEluc3RhbmNlKCksXG4gIH0pXG5cbiAgLy8gVGhlIHByZXBhcmVSb3cgZnVuY3Rpb24gaXMgYWJzb2x1dGVseSBuZWNlc3NhcnkgYW5kIE1VU1QgYmUgY2FsbGVkIG9uXG4gIC8vIGFueSByb3dzIHRoZSB1c2VyIHdpc2hlcyB0byBiZSBkaXNwbGF5ZWQuXG5cbiAgLy8gU25hcHNob3QgaG9vayBhbmQgZGlzYWxsb3cgbW9yZSBmcm9tIGJlaW5nIGFkZGVkXG4gIGNvbnN0IGdldFByZXBhcmVSb3dIb29rcyA9IHVzZUNvbnN1bWVIb29rR2V0dGVyKFxuICAgIGdldEluc3RhbmNlKCkuaG9va3MsXG4gICAgJ3ByZXBhcmVSb3cnXG4gIClcblxuICAvLyBTbmFwc2hvdCBob29rIGFuZCBkaXNhbGxvdyBtb3JlIGZyb20gYmVpbmcgYWRkZWRcbiAgY29uc3QgZ2V0Um93UHJvcHNIb29rcyA9IHVzZUNvbnN1bWVIb29rR2V0dGVyKFxuICAgIGdldEluc3RhbmNlKCkuaG9va3MsXG4gICAgJ2dldFJvd1Byb3BzJ1xuICApXG5cbiAgLy8gU25hcHNob3QgaG9vayBhbmQgZGlzYWxsb3cgbW9yZSBmcm9tIGJlaW5nIGFkZGVkXG4gIGNvbnN0IGdldENlbGxQcm9wc0hvb2tzID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoXG4gICAgZ2V0SW5zdGFuY2UoKS5ob29rcyxcbiAgICAnZ2V0Q2VsbFByb3BzJ1xuICApXG5cbiAgLy8gU25hcHNob3QgaG9vayBhbmQgZGlzYWxsb3cgbW9yZSBmcm9tIGJlaW5nIGFkZGVkXG4gIGNvbnN0IGNlbGxzSG9va3MgPSB1c2VDb25zdW1lSG9va0dldHRlcihnZXRJbnN0YW5jZSgpLmhvb2tzLCAnY2VsbHMnKVxuXG4gIGdldEluc3RhbmNlKCkucHJlcGFyZVJvdyA9IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgIHJvdyA9PiB7XG4gICAgICByb3cuZ2V0Um93UHJvcHMgPSBtYWtlUHJvcEdldHRlcihnZXRSb3dQcm9wc0hvb2tzKCksIHtcbiAgICAgICAgaW5zdGFuY2U6IGdldEluc3RhbmNlKCksXG4gICAgICAgIHJvdyxcbiAgICAgIH0pXG5cbiAgICAgIC8vIEJ1aWxkIHRoZSB2aXNpYmxlIGNlbGxzIGZvciBlYWNoIHJvd1xuICAgICAgcm93LmFsbENlbGxzID0gZmxhdENvbHVtbnMubWFwKGNvbHVtbiA9PiB7XG4gICAgICAgIGNvbnN0IGNlbGwgPSB7XG4gICAgICAgICAgY29sdW1uLFxuICAgICAgICAgIHJvdyxcbiAgICAgICAgICB2YWx1ZTogcm93LnZhbHVlc1tjb2x1bW4uaWRdLFxuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2l2ZSBlYWNoIGNlbGwgYSBnZXRDZWxsUHJvcHMgYmFzZVxuICAgICAgICBjZWxsLmdldENlbGxQcm9wcyA9IG1ha2VQcm9wR2V0dGVyKGdldENlbGxQcm9wc0hvb2tzKCksIHtcbiAgICAgICAgICBpbnN0YW5jZTogZ2V0SW5zdGFuY2UoKSxcbiAgICAgICAgICBjZWxsLFxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIEdpdmUgZWFjaCBjZWxsIGEgcmVuZGVyZXIgZnVuY3Rpb24gKHN1cHBvcnRzIG11bHRpcGxlIHJlbmRlcmVycylcbiAgICAgICAgY2VsbC5yZW5kZXIgPSBtYWtlUmVuZGVyZXIoZ2V0SW5zdGFuY2UoKSwgY29sdW1uLCB7XG4gICAgICAgICAgcm93LFxuICAgICAgICAgIGNlbGwsXG4gICAgICAgIH0pXG5cbiAgICAgICAgcmV0dXJuIGNlbGxcbiAgICAgIH0pXG5cbiAgICAgIHJvdy5jZWxscyA9IHJlZHVjZUhvb2tzKGNlbGxzSG9va3MoKSwgcm93LmFsbENlbGxzLCB7XG4gICAgICAgIGluc3RhbmNlOiBnZXRJbnN0YW5jZSgpLFxuICAgICAgfSlcblxuICAgICAgLy8gbmVlZCB0byBhcHBseSBhbnkgcm93IHNwZWNpZmljIGhvb2tzICh1c2VFeHBhbmRlZCByZXF1aXJlcyB0aGlzKVxuICAgICAgbG9vcEhvb2tzKGdldFByZXBhcmVSb3dIb29rcygpLCByb3csIHsgaW5zdGFuY2U6IGdldEluc3RhbmNlKCkgfSlcbiAgICB9LFxuICAgIFtcbiAgICAgIGdldFJvd1Byb3BzSG9va3MsXG4gICAgICBnZXRJbnN0YW5jZSxcbiAgICAgIGZsYXRDb2x1bW5zLFxuICAgICAgY2VsbHNIb29rcyxcbiAgICAgIGdldFByZXBhcmVSb3dIb29rcyxcbiAgICAgIGdldENlbGxQcm9wc0hvb2tzLFxuICAgIF1cbiAgKVxuXG4gIC8vIFNuYXBzaG90IGhvb2sgYW5kIGRpc2FsbG93IG1vcmUgZnJvbSBiZWluZyBhZGRlZFxuICBjb25zdCBnZXRUYWJsZVByb3BzSG9va3MgPSB1c2VDb25zdW1lSG9va0dldHRlcihcbiAgICBnZXRJbnN0YW5jZSgpLmhvb2tzLFxuICAgICdnZXRUYWJsZVByb3BzJ1xuICApXG5cbiAgZ2V0SW5zdGFuY2UoKS5nZXRUYWJsZVByb3BzID0gbWFrZVByb3BHZXR0ZXIoZ2V0VGFibGVQcm9wc0hvb2tzKCksIHtcbiAgICBpbnN0YW5jZTogZ2V0SW5zdGFuY2UoKSxcbiAgfSlcblxuICAvLyBTbmFwc2hvdCBob29rIGFuZCBkaXNhbGxvdyBtb3JlIGZyb20gYmVpbmcgYWRkZWRcbiAgY29uc3QgZ2V0VGFibGVCb2R5UHJvcHNIb29rcyA9IHVzZUNvbnN1bWVIb29rR2V0dGVyKFxuICAgIGdldEluc3RhbmNlKCkuaG9va3MsXG4gICAgJ2dldFRhYmxlQm9keVByb3BzJ1xuICApXG5cbiAgZ2V0SW5zdGFuY2UoKS5nZXRUYWJsZUJvZHlQcm9wcyA9IG1ha2VQcm9wR2V0dGVyKGdldFRhYmxlQm9keVByb3BzSG9va3MoKSwge1xuICAgIGluc3RhbmNlOiBnZXRJbnN0YW5jZSgpLFxuICB9KVxuXG4gIC8vIFNuYXBzaG90IGhvb2sgYW5kIGRpc2FsbG93IG1vcmUgZnJvbSBiZWluZyBhZGRlZFxuICBjb25zdCBnZXRVc2VGaW5hbEluc3RhbmNlSG9va3MgPSB1c2VDb25zdW1lSG9va0dldHRlcihcbiAgICBnZXRJbnN0YW5jZSgpLmhvb2tzLFxuICAgICd1c2VGaW5hbEluc3RhbmNlJ1xuICApXG5cbiAgbG9vcEhvb2tzKGdldFVzZUZpbmFsSW5zdGFuY2VIb29rcygpLCBnZXRJbnN0YW5jZSgpKVxuXG4gIHJldHVybiBnZXRJbnN0YW5jZSgpXG59XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZUhlYWRlcldpZHRocyhoZWFkZXJzLCBsZWZ0ID0gMCkge1xuICBsZXQgc3VtVG90YWxNaW5XaWR0aCA9IDBcbiAgbGV0IHN1bVRvdGFsV2lkdGggPSAwXG4gIGxldCBzdW1Ub3RhbE1heFdpZHRoID0gMFxuXG4gIGhlYWRlcnMuZm9yRWFjaChoZWFkZXIgPT4ge1xuICAgIGxldCB7IGhlYWRlcnM6IHN1YkhlYWRlcnMgfSA9IGhlYWRlclxuXG4gICAgaGVhZGVyLnRvdGFsTGVmdCA9IGxlZnRcblxuICAgIGlmIChzdWJIZWFkZXJzICYmIHN1YkhlYWRlcnMubGVuZ3RoKSB7XG4gICAgICBjb25zdCBbdG90YWxNaW5XaWR0aCwgdG90YWxXaWR0aCwgdG90YWxNYXhXaWR0aF0gPSBjYWxjdWxhdGVIZWFkZXJXaWR0aHMoXG4gICAgICAgIHN1YkhlYWRlcnMsXG4gICAgICAgIGxlZnRcbiAgICAgIClcbiAgICAgIGhlYWRlci50b3RhbE1pbldpZHRoID0gdG90YWxNaW5XaWR0aFxuICAgICAgaGVhZGVyLnRvdGFsV2lkdGggPSB0b3RhbFdpZHRoXG4gICAgICBoZWFkZXIudG90YWxNYXhXaWR0aCA9IHRvdGFsTWF4V2lkdGhcbiAgICB9IGVsc2Uge1xuICAgICAgaGVhZGVyLnRvdGFsTWluV2lkdGggPSBoZWFkZXIubWluV2lkdGhcbiAgICAgIGhlYWRlci50b3RhbFdpZHRoID0gTWF0aC5taW4oXG4gICAgICAgIE1hdGgubWF4KGhlYWRlci5taW5XaWR0aCwgaGVhZGVyLndpZHRoKSxcbiAgICAgICAgaGVhZGVyLm1heFdpZHRoXG4gICAgICApXG4gICAgICBoZWFkZXIudG90YWxNYXhXaWR0aCA9IGhlYWRlci5tYXhXaWR0aFxuICAgIH1cbiAgICBpZiAoaGVhZGVyLmlzVmlzaWJsZSkge1xuICAgICAgbGVmdCArPSBoZWFkZXIudG90YWxXaWR0aFxuICAgICAgc3VtVG90YWxNaW5XaWR0aCArPSBoZWFkZXIudG90YWxNaW5XaWR0aFxuICAgICAgc3VtVG90YWxXaWR0aCArPSBoZWFkZXIudG90YWxXaWR0aFxuICAgICAgc3VtVG90YWxNYXhXaWR0aCArPSBoZWFkZXIudG90YWxNYXhXaWR0aFxuICAgIH1cbiAgfSlcblxuICByZXR1cm4gW3N1bVRvdGFsTWluV2lkdGgsIHN1bVRvdGFsV2lkdGgsIHN1bVRvdGFsTWF4V2lkdGhdXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5cbmltcG9ydCB7XG4gIGFjdGlvbnMsXG4gIG1ha2VQcm9wR2V0dGVyLFxuICBleHBhbmRSb3dzLFxuICB1c2VNb3VudGVkTGF5b3V0RWZmZWN0LFxuICB1c2VHZXRMYXRlc3QsXG59IGZyb20gJy4uL3V0aWxzJ1xuaW1wb3J0IHsgdXNlQ29uc3VtZUhvb2tHZXR0ZXIsIGZ1bmN0aW9uYWxVcGRhdGUgfSBmcm9tICcuLi9wdWJsaWNVdGlscydcblxuLy8gQWN0aW9uc1xuYWN0aW9ucy50b2dnbGVFeHBhbmRlZCA9ICd0b2dnbGVFeHBhbmRlZCdcbmFjdGlvbnMudG9nZ2xlQWxsRXhwYW5kZWQgPSAndG9nZ2xlQWxsRXhwYW5kZWQnXG5hY3Rpb25zLnNldEV4cGFuZGVkID0gJ3NldEV4cGFuZGVkJ1xuYWN0aW9ucy5yZXNldEV4cGFuZGVkID0gJ3Jlc2V0RXhwYW5kZWQnXG5cbmV4cG9ydCBjb25zdCB1c2VFeHBhbmRlZCA9IGhvb2tzID0+IHtcbiAgaG9va3MuZ2V0RXhwYW5kZWRUb2dnbGVQcm9wcyA9IFtkZWZhdWx0R2V0RXhwYW5kZWRUb2dnbGVQcm9wc11cbiAgaG9va3Muc3RhdGVSZWR1Y2Vycy5wdXNoKHJlZHVjZXIpXG4gIGhvb2tzLnVzZUluc3RhbmNlLnB1c2godXNlSW5zdGFuY2UpXG59XG5cbnVzZUV4cGFuZGVkLnBsdWdpbk5hbWUgPSAndXNlRXhwYW5kZWQnXG5cbmNvbnN0IGRlZmF1bHRHZXRFeHBhbmRlZFRvZ2dsZVByb3BzID0gKHByb3BzLCB7IHJvdyB9KSA9PiBbXG4gIHByb3BzLFxuICB7XG4gICAgb25DbGljazogZSA9PiB7XG4gICAgICBlLnBlcnNpc3QoKVxuICAgICAgcm93LnRvZ2dsZUV4cGFuZGVkKClcbiAgICB9LFxuICAgIHN0eWxlOiB7XG4gICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICB9LFxuICAgIHRpdGxlOiAnVG9nZ2xlIEV4cGFuZGVkJyxcbiAgfSxcbl1cblxuLy8gUmVkdWNlclxuZnVuY3Rpb24gcmVkdWNlcihzdGF0ZSwgYWN0aW9uLCBwcmV2aW91c1N0YXRlLCBpbnN0YW5jZSkge1xuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMuaW5pdCkge1xuICAgIHJldHVybiB7XG4gICAgICBleHBhbmRlZDoge30sXG4gICAgICAuLi5zdGF0ZSxcbiAgICB9XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMucmVzZXRFeHBhbmRlZCkge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIGV4cGFuZGVkOiBpbnN0YW5jZS5pbml0aWFsU3RhdGUuZXhwYW5kZWQgfHwge30sXG4gICAgfVxuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLnNldEV4cGFuZGVkKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgZXhwYW5kZWQ6IGZ1bmN0aW9uYWxVcGRhdGUoYWN0aW9uLmV4cGFuZGVkLCBzdGF0ZS5leHBhbmRlZCksXG4gICAgfVxuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLnRvZ2dsZUV4cGFuZGVkKSB7XG4gICAgY29uc3QgeyBpZCwgZXhwYW5kZWQ6IHNldEV4cGFuZGVkIH0gPSBhY3Rpb25cbiAgICBjb25zdCBleGlzdHMgPSBzdGF0ZS5leHBhbmRlZFtpZF1cblxuICAgIGNvbnN0IHNob3VsZEV4aXN0ID1cbiAgICAgIHR5cGVvZiBzZXRFeHBhbmRlZCAhPT0gJ3VuZGVmaW5lZCcgPyBzZXRFeHBhbmRlZCA6ICFleGlzdHNcblxuICAgIGlmICghZXhpc3RzICYmIHNob3VsZEV4aXN0KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgZXhwYW5kZWQ6IHtcbiAgICAgICAgICAuLi5zdGF0ZS5leHBhbmRlZCxcbiAgICAgICAgICBbaWRdOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZXhpc3RzICYmICFzaG91bGRFeGlzdCkge1xuICAgICAgY29uc3QgeyBbaWRdOiBfLCAuLi5yZXN0IH0gPSBzdGF0ZS5leHBhbmRlZFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGV4cGFuZGVkOiByZXN0LFxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gc3RhdGVcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdXNlSW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgY29uc3Qge1xuICAgIGRhdGEsXG4gICAgcm93cyxcbiAgICBtYW51YWxFeHBhbmRlZEtleSA9ICdleHBhbmRlZCcsXG4gICAgcGFnaW5hdGVFeHBhbmRlZFJvd3MgPSB0cnVlLFxuICAgIGV4cGFuZFN1YlJvd3MgPSB0cnVlLFxuICAgIGhvb2tzLFxuICAgIGF1dG9SZXNldEV4cGFuZGVkID0gdHJ1ZSxcbiAgICBzdGF0ZTogeyBleHBhbmRlZCB9LFxuICAgIGRpc3BhdGNoLFxuICB9ID0gaW5zdGFuY2VcblxuICBjb25zdCBnZXRBdXRvUmVzZXRFeHBhbmRlZCA9IHVzZUdldExhdGVzdChhdXRvUmVzZXRFeHBhbmRlZClcblxuICAvLyBCeXBhc3MgYW55IGVmZmVjdHMgZnJvbSBmaXJpbmcgd2hlbiB0aGlzIGNoYW5nZXNcbiAgdXNlTW91bnRlZExheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGdldEF1dG9SZXNldEV4cGFuZGVkKCkpIHtcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogYWN0aW9ucy5yZXNldEV4cGFuZGVkIH0pXG4gICAgfVxuICB9LCBbZGlzcGF0Y2gsIGRhdGFdKVxuXG4gIGNvbnN0IHRvZ2dsZUV4cGFuZGVkID0gKGlkLCBleHBhbmRlZCkgPT4ge1xuICAgIGRpc3BhdGNoKHsgdHlwZTogYWN0aW9ucy50b2dnbGVFeHBhbmRlZCwgaWQsIGV4cGFuZGVkIH0pXG4gIH1cblxuICAvLyB1c2UgcmVmZXJlbmNlIHRvIGF2b2lkIG1lbW9yeSBsZWFrIGluICMxNjA4XG4gIGNvbnN0IGdldEluc3RhbmNlID0gdXNlR2V0TGF0ZXN0KGluc3RhbmNlKVxuXG4gIGNvbnN0IGdldEV4cGFuZGVkVG9nZ2xlUHJvcHNIb29rcyA9IHVzZUNvbnN1bWVIb29rR2V0dGVyKFxuICAgIGdldEluc3RhbmNlKCkuaG9va3MsXG4gICAgJ2dldEV4cGFuZGVkVG9nZ2xlUHJvcHMnXG4gIClcblxuICBob29rcy5wcmVwYXJlUm93LnB1c2gocm93ID0+IHtcbiAgICByb3cudG9nZ2xlRXhwYW5kZWQgPSBzZXQgPT4gaW5zdGFuY2UudG9nZ2xlRXhwYW5kZWQocm93LmlkLCBzZXQpXG5cbiAgICByb3cuZ2V0RXhwYW5kZWRUb2dnbGVQcm9wcyA9IG1ha2VQcm9wR2V0dGVyKGdldEV4cGFuZGVkVG9nZ2xlUHJvcHNIb29rcygpLCB7XG4gICAgICBpbnN0YW5jZTogZ2V0SW5zdGFuY2UoKSxcbiAgICAgIHJvdyxcbiAgICB9KVxuICB9KVxuXG4gIGNvbnN0IGV4cGFuZGVkUm93cyA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgIGlmIChwYWdpbmF0ZUV4cGFuZGVkUm93cykge1xuICAgICAgcmV0dXJuIGV4cGFuZFJvd3Mocm93cywgeyBtYW51YWxFeHBhbmRlZEtleSwgZXhwYW5kZWQsIGV4cGFuZFN1YlJvd3MgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gcm93c1xuICB9LCBbcGFnaW5hdGVFeHBhbmRlZFJvd3MsIHJvd3MsIG1hbnVhbEV4cGFuZGVkS2V5LCBleHBhbmRlZCwgZXhwYW5kU3ViUm93c10pXG5cbiAgY29uc3QgZXhwYW5kZWREZXB0aCA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gZmluZEV4cGFuZGVkRGVwdGgoZXhwYW5kZWQpLCBbXG4gICAgZXhwYW5kZWQsXG4gIF0pXG5cbiAgT2JqZWN0LmFzc2lnbihpbnN0YW5jZSwge1xuICAgIHByZUV4cGFuZGVkUm93czogcm93cyxcbiAgICBleHBhbmRlZFJvd3MsXG4gICAgcm93czogZXhwYW5kZWRSb3dzLFxuICAgIHRvZ2dsZUV4cGFuZGVkLFxuICAgIGV4cGFuZGVkRGVwdGgsXG4gIH0pXG59XG5cbmZ1bmN0aW9uIGZpbmRFeHBhbmRlZERlcHRoKGV4cGFuZGVkKSB7XG4gIGxldCBtYXhEZXB0aCA9IDBcblxuICBPYmplY3Qua2V5cyhleHBhbmRlZCkuZm9yRWFjaChpZCA9PiB7XG4gICAgY29uc3Qgc3BsaXRJZCA9IGlkLnNwbGl0KCcuJylcbiAgICBtYXhEZXB0aCA9IE1hdGgubWF4KG1heERlcHRoLCBzcGxpdElkLmxlbmd0aClcbiAgfSlcblxuICByZXR1cm4gbWF4RGVwdGhcbn1cbiIsImV4cG9ydCBjb25zdCB0ZXh0ID0gKHJvd3MsIGlkcywgZmlsdGVyVmFsdWUpID0+IHtcbiAgcm93cyA9IHJvd3MuZmlsdGVyKHJvdyA9PiB7XG4gICAgcmV0dXJuIGlkcy5zb21lKGlkID0+IHtcbiAgICAgIGNvbnN0IHJvd1ZhbHVlID0gcm93LnZhbHVlc1tpZF1cbiAgICAgIHJldHVybiBTdHJpbmcocm93VmFsdWUpXG4gICAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAgIC5pbmNsdWRlcyhTdHJpbmcoZmlsdGVyVmFsdWUpLnRvTG93ZXJDYXNlKCkpXG4gICAgfSlcbiAgfSlcbiAgcmV0dXJuIHJvd3Ncbn1cblxudGV4dC5hdXRvUmVtb3ZlID0gdmFsID0+ICF2YWxcblxuZXhwb3J0IGNvbnN0IGV4YWN0VGV4dCA9IChyb3dzLCBpZHMsIGZpbHRlclZhbHVlKSA9PiB7XG4gIHJldHVybiByb3dzLmZpbHRlcihyb3cgPT4ge1xuICAgIHJldHVybiBpZHMuc29tZShpZCA9PiB7XG4gICAgICBjb25zdCByb3dWYWx1ZSA9IHJvdy52YWx1ZXNbaWRdXG4gICAgICByZXR1cm4gcm93VmFsdWUgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IFN0cmluZyhyb3dWYWx1ZSkudG9Mb3dlckNhc2UoKSA9PT0gU3RyaW5nKGZpbHRlclZhbHVlKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIDogdHJ1ZVxuICAgIH0pXG4gIH0pXG59XG5cbmV4YWN0VGV4dC5hdXRvUmVtb3ZlID0gdmFsID0+ICF2YWxcblxuZXhwb3J0IGNvbnN0IGV4YWN0VGV4dENhc2UgPSAocm93cywgaWRzLCBmaWx0ZXJWYWx1ZSkgPT4ge1xuICByZXR1cm4gcm93cy5maWx0ZXIocm93ID0+IHtcbiAgICByZXR1cm4gaWRzLnNvbWUoaWQgPT4ge1xuICAgICAgY29uc3Qgcm93VmFsdWUgPSByb3cudmFsdWVzW2lkXVxuICAgICAgcmV0dXJuIHJvd1ZhbHVlICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBTdHJpbmcocm93VmFsdWUpID09PSBTdHJpbmcoZmlsdGVyVmFsdWUpXG4gICAgICAgIDogdHJ1ZVxuICAgIH0pXG4gIH0pXG59XG5cbmV4YWN0VGV4dENhc2UuYXV0b1JlbW92ZSA9IHZhbCA9PiAhdmFsXG5cbmV4cG9ydCBjb25zdCBpbmNsdWRlcyA9IChyb3dzLCBpZHMsIGZpbHRlclZhbHVlKSA9PiB7XG4gIHJldHVybiByb3dzLmZpbHRlcihyb3cgPT4ge1xuICAgIHJldHVybiBpZHMuc29tZShpZCA9PiB7XG4gICAgICBjb25zdCByb3dWYWx1ZSA9IHJvdy52YWx1ZXNbaWRdXG4gICAgICByZXR1cm4gZmlsdGVyVmFsdWUuaW5jbHVkZXMocm93VmFsdWUpXG4gICAgfSlcbiAgfSlcbn1cblxuaW5jbHVkZXMuYXV0b1JlbW92ZSA9IHZhbCA9PiAhdmFsIHx8ICF2YWwubGVuZ3RoXG5cbmV4cG9ydCBjb25zdCBpbmNsdWRlc0FsbCA9IChyb3dzLCBpZHMsIGZpbHRlclZhbHVlKSA9PiB7XG4gIHJldHVybiByb3dzLmZpbHRlcihyb3cgPT4ge1xuICAgIHJldHVybiBpZHMuc29tZShpZCA9PiB7XG4gICAgICBjb25zdCByb3dWYWx1ZSA9IHJvdy52YWx1ZXNbaWRdXG4gICAgICByZXR1cm4gKFxuICAgICAgICByb3dWYWx1ZSAmJlxuICAgICAgICByb3dWYWx1ZS5sZW5ndGggJiZcbiAgICAgICAgZmlsdGVyVmFsdWUuZXZlcnkodmFsID0+IHJvd1ZhbHVlLmluY2x1ZGVzKHZhbCkpXG4gICAgICApXG4gICAgfSlcbiAgfSlcbn1cblxuaW5jbHVkZXNBbGwuYXV0b1JlbW92ZSA9IHZhbCA9PiAhdmFsIHx8ICF2YWwubGVuZ3RoXG5cbmV4cG9ydCBjb25zdCBleGFjdCA9IChyb3dzLCBpZHMsIGZpbHRlclZhbHVlKSA9PiB7XG4gIHJldHVybiByb3dzLmZpbHRlcihyb3cgPT4ge1xuICAgIHJldHVybiBpZHMuc29tZShpZCA9PiB7XG4gICAgICBjb25zdCByb3dWYWx1ZSA9IHJvdy52YWx1ZXNbaWRdXG4gICAgICByZXR1cm4gcm93VmFsdWUgPT09IGZpbHRlclZhbHVlXG4gICAgfSlcbiAgfSlcbn1cblxuZXhhY3QuYXV0b1JlbW92ZSA9IHZhbCA9PiB0eXBlb2YgdmFsID09PSAndW5kZWZpbmVkJ1xuXG5leHBvcnQgY29uc3QgZXF1YWxzID0gKHJvd3MsIGlkcywgZmlsdGVyVmFsdWUpID0+IHtcbiAgcmV0dXJuIHJvd3MuZmlsdGVyKHJvdyA9PiB7XG4gICAgcmV0dXJuIGlkcy5zb21lKGlkID0+IHtcbiAgICAgIGNvbnN0IHJvd1ZhbHVlID0gcm93LnZhbHVlc1tpZF1cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcbiAgICAgIHJldHVybiByb3dWYWx1ZSA9PSBmaWx0ZXJWYWx1ZVxuICAgIH0pXG4gIH0pXG59XG5cbmVxdWFscy5hdXRvUmVtb3ZlID0gdmFsID0+IHZhbCA9PSBudWxsXG5cbmV4cG9ydCBjb25zdCBiZXR3ZWVuID0gKHJvd3MsIGlkcywgZmlsdGVyVmFsdWUpID0+IHtcbiAgbGV0IFttaW4sIG1heF0gPSBmaWx0ZXJWYWx1ZSB8fCBbXVxuXG4gIG1pbiA9IHR5cGVvZiBtaW4gPT09ICdudW1iZXInID8gbWluIDogLUluZmluaXR5XG4gIG1heCA9IHR5cGVvZiBtYXggPT09ICdudW1iZXInID8gbWF4IDogSW5maW5pdHlcblxuICBpZiAobWluID4gbWF4KSB7XG4gICAgY29uc3QgdGVtcCA9IG1pblxuICAgIG1pbiA9IG1heFxuICAgIG1heCA9IHRlbXBcbiAgfVxuXG4gIHJldHVybiByb3dzLmZpbHRlcihyb3cgPT4ge1xuICAgIHJldHVybiBpZHMuc29tZShpZCA9PiB7XG4gICAgICBjb25zdCByb3dWYWx1ZSA9IHJvdy52YWx1ZXNbaWRdXG4gICAgICByZXR1cm4gcm93VmFsdWUgPj0gbWluICYmIHJvd1ZhbHVlIDw9IG1heFxuICAgIH0pXG4gIH0pXG59XG5cbmJldHdlZW4uYXV0b1JlbW92ZSA9IHZhbCA9PlxuICAhdmFsIHx8ICh0eXBlb2YgdmFsWzBdICE9PSAnbnVtYmVyJyAmJiB0eXBlb2YgdmFsWzFdICE9PSAnbnVtYmVyJylcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHtcbiAgYWN0aW9ucyxcbiAgZ2V0Rmlyc3REZWZpbmVkLFxuICBnZXRGaWx0ZXJNZXRob2QsXG4gIHVzZU1vdW50ZWRMYXlvdXRFZmZlY3QsXG4gIGZ1bmN0aW9uYWxVcGRhdGUsXG4gIHVzZUdldExhdGVzdCxcbiAgc2hvdWxkQXV0b1JlbW92ZUZpbHRlcixcbn0gZnJvbSAnLi4vdXRpbHMnXG5pbXBvcnQgKiBhcyBmaWx0ZXJUeXBlcyBmcm9tICcuLi9maWx0ZXJUeXBlcydcblxuLy8gQWN0aW9uc1xuYWN0aW9ucy5yZXNldEZpbHRlcnMgPSAncmVzZXRGaWx0ZXJzJ1xuYWN0aW9ucy5zZXRGaWx0ZXIgPSAnc2V0RmlsdGVyJ1xuYWN0aW9ucy5zZXRBbGxGaWx0ZXJzID0gJ3NldEFsbEZpbHRlcnMnXG5cbmV4cG9ydCBjb25zdCB1c2VGaWx0ZXJzID0gaG9va3MgPT4ge1xuICBob29rcy5zdGF0ZVJlZHVjZXJzLnB1c2gocmVkdWNlcilcbiAgaG9va3MudXNlSW5zdGFuY2UucHVzaCh1c2VJbnN0YW5jZSlcbn1cblxudXNlRmlsdGVycy5wbHVnaW5OYW1lID0gJ3VzZUZpbHRlcnMnXG5cbmZ1bmN0aW9uIHJlZHVjZXIoc3RhdGUsIGFjdGlvbiwgcHJldmlvdXNTdGF0ZSwgaW5zdGFuY2UpIHtcbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLmluaXQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZmlsdGVyczogW10sXG4gICAgICAuLi5zdGF0ZSxcbiAgICB9XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMucmVzZXRGaWx0ZXJzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgZmlsdGVyczogaW5zdGFuY2UuaW5pdGlhbFN0YXRlLmZpbHRlcnMgfHwgW10sXG4gICAgfVxuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLnNldEZpbHRlcikge1xuICAgIGNvbnN0IHsgY29sdW1uSWQsIGZpbHRlclZhbHVlIH0gPSBhY3Rpb25cbiAgICBjb25zdCB7IGZsYXRDb2x1bW5zLCB1c2VyRmlsdGVyVHlwZXMgfSA9IGluc3RhbmNlXG5cbiAgICBjb25zdCBjb2x1bW4gPSBmbGF0Q29sdW1ucy5maW5kKGQgPT4gZC5pZCA9PT0gY29sdW1uSWQpXG5cbiAgICBpZiAoIWNvbHVtbikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgUmVhY3QtVGFibGU6IENvdWxkIG5vdCBmaW5kIGEgY29sdW1uIHdpdGggaWQ6ICR7Y29sdW1uSWR9YFxuICAgICAgKVxuICAgIH1cblxuICAgIGNvbnN0IGZpbHRlck1ldGhvZCA9IGdldEZpbHRlck1ldGhvZChcbiAgICAgIGNvbHVtbi5maWx0ZXIsXG4gICAgICB1c2VyRmlsdGVyVHlwZXMgfHwge30sXG4gICAgICBmaWx0ZXJUeXBlc1xuICAgIClcblxuICAgIGNvbnN0IHByZXZpb3VzZmlsdGVyID0gc3RhdGUuZmlsdGVycy5maW5kKGQgPT4gZC5pZCA9PT0gY29sdW1uSWQpXG5cbiAgICBjb25zdCBuZXdGaWx0ZXIgPSBmdW5jdGlvbmFsVXBkYXRlKFxuICAgICAgZmlsdGVyVmFsdWUsXG4gICAgICBwcmV2aW91c2ZpbHRlciAmJiBwcmV2aW91c2ZpbHRlci52YWx1ZVxuICAgIClcblxuICAgIC8vXG4gICAgaWYgKHNob3VsZEF1dG9SZW1vdmVGaWx0ZXIoZmlsdGVyTWV0aG9kLmF1dG9SZW1vdmUsIG5ld0ZpbHRlcikpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBmaWx0ZXJzOiBzdGF0ZS5maWx0ZXJzLmZpbHRlcihkID0+IGQuaWQgIT09IGNvbHVtbklkKSxcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocHJldmlvdXNmaWx0ZXIpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBmaWx0ZXJzOiBzdGF0ZS5maWx0ZXJzLm1hcChkID0+IHtcbiAgICAgICAgICBpZiAoZC5pZCA9PT0gY29sdW1uSWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGlkOiBjb2x1bW5JZCwgdmFsdWU6IG5ld0ZpbHRlciB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBkXG4gICAgICAgIH0pLFxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIGZpbHRlcnM6IFsuLi5zdGF0ZS5maWx0ZXJzLCB7IGlkOiBjb2x1bW5JZCwgdmFsdWU6IG5ld0ZpbHRlciB9XSxcbiAgICB9XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMuc2V0QWxsRmlsdGVycykge1xuICAgIGNvbnN0IHsgZmlsdGVycyB9ID0gYWN0aW9uXG4gICAgY29uc3QgeyBmbGF0Q29sdW1ucywgZmlsdGVyVHlwZXM6IHVzZXJGaWx0ZXJUeXBlcyB9ID0gaW5zdGFuY2VcblxuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIC8vIEZpbHRlciBvdXQgdW5kZWZpbmVkIHZhbHVlc1xuICAgICAgZmlsdGVyczogZnVuY3Rpb25hbFVwZGF0ZShmaWx0ZXJzLCBzdGF0ZS5maWx0ZXJzKS5maWx0ZXIoZmlsdGVyID0+IHtcbiAgICAgICAgY29uc3QgY29sdW1uID0gZmxhdENvbHVtbnMuZmluZChkID0+IGQuaWQgPT09IGZpbHRlci5pZClcbiAgICAgICAgY29uc3QgZmlsdGVyTWV0aG9kID0gZ2V0RmlsdGVyTWV0aG9kKFxuICAgICAgICAgIGNvbHVtbi5maWx0ZXIsXG4gICAgICAgICAgdXNlckZpbHRlclR5cGVzIHx8IHt9LFxuICAgICAgICAgIGZpbHRlclR5cGVzXG4gICAgICAgIClcblxuICAgICAgICBpZiAoc2hvdWxkQXV0b1JlbW92ZUZpbHRlcihmaWx0ZXJNZXRob2QuYXV0b1JlbW92ZSwgZmlsdGVyLnZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9KSxcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdXNlSW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgY29uc3Qge1xuICAgIGRhdGEsXG4gICAgcm93cyxcbiAgICBmbGF0Um93cyxcbiAgICBmbGF0Q29sdW1ucyxcbiAgICBmaWx0ZXJUeXBlczogdXNlckZpbHRlclR5cGVzLFxuICAgIG1hbnVhbEZpbHRlcnMsXG4gICAgZGVmYXVsdENhbkZpbHRlciA9IGZhbHNlLFxuICAgIGRpc2FibGVGaWx0ZXJzLFxuICAgIHN0YXRlOiB7IGZpbHRlcnMgfSxcbiAgICBkaXNwYXRjaCxcbiAgICBhdXRvUmVzZXRGaWx0ZXJzID0gdHJ1ZSxcbiAgfSA9IGluc3RhbmNlXG5cbiAgY29uc3Qgc2V0RmlsdGVyID0gKGNvbHVtbklkLCBmaWx0ZXJWYWx1ZSkgPT4ge1xuICAgIGRpc3BhdGNoKHsgdHlwZTogYWN0aW9ucy5zZXRGaWx0ZXIsIGNvbHVtbklkLCBmaWx0ZXJWYWx1ZSB9KVxuICB9XG5cbiAgY29uc3Qgc2V0QWxsRmlsdGVycyA9IGZpbHRlcnMgPT4ge1xuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6IGFjdGlvbnMuc2V0QWxsRmlsdGVycyxcbiAgICAgIGZpbHRlcnMsXG4gICAgfSlcbiAgfVxuXG4gIGZsYXRDb2x1bW5zLmZvckVhY2goY29sdW1uID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBpZCxcbiAgICAgIGFjY2Vzc29yLFxuICAgICAgZGVmYXVsdENhbkZpbHRlcjogY29sdW1uRGVmYXVsdENhbkZpbHRlcixcbiAgICAgIGRpc2FibGVGaWx0ZXJzOiBjb2x1bW5EaXNhYmxlRmlsdGVycyxcbiAgICB9ID0gY29sdW1uXG5cbiAgICAvLyBEZXRlcm1pbmUgaWYgYSBjb2x1bW4gaXMgZmlsdGVyYWJsZVxuICAgIGNvbHVtbi5jYW5GaWx0ZXIgPSBhY2Nlc3NvclxuICAgICAgPyBnZXRGaXJzdERlZmluZWQoXG4gICAgICAgICAgY29sdW1uRGlzYWJsZUZpbHRlcnMgPT09IHRydWUgPyBmYWxzZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICBkaXNhYmxlRmlsdGVycyA9PT0gdHJ1ZSA/IGZhbHNlIDogdW5kZWZpbmVkLFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKVxuICAgICAgOiBnZXRGaXJzdERlZmluZWQoY29sdW1uRGVmYXVsdENhbkZpbHRlciwgZGVmYXVsdENhbkZpbHRlciwgZmFsc2UpXG5cbiAgICAvLyBQcm92aWRlIHRoZSBjb2x1bW4gYSB3YXkgb2YgdXBkYXRpbmcgdGhlIGZpbHRlciB2YWx1ZVxuICAgIGNvbHVtbi5zZXRGaWx0ZXIgPSB2YWwgPT4gc2V0RmlsdGVyKGNvbHVtbi5pZCwgdmFsKVxuXG4gICAgLy8gUHJvdmlkZSB0aGUgY3VycmVudCBmaWx0ZXIgdmFsdWUgdG8gdGhlIGNvbHVtbiBmb3JcbiAgICAvLyBjb252ZW5pZW5jZVxuICAgIGNvbnN0IGZvdW5kID0gZmlsdGVycy5maW5kKGQgPT4gZC5pZCA9PT0gaWQpXG4gICAgY29sdW1uLmZpbHRlclZhbHVlID0gZm91bmQgJiYgZm91bmQudmFsdWVcbiAgfSlcblxuICBjb25zdCBbZmlsdGVyZWRSb3dzLCBmaWx0ZXJlZEZsYXRSb3dzXSA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgIGlmIChtYW51YWxGaWx0ZXJzIHx8ICFmaWx0ZXJzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIFtyb3dzLCBmbGF0Um93c11cbiAgICB9XG5cbiAgICBjb25zdCBmaWx0ZXJlZEZsYXRSb3dzID0gW11cblxuICAgIC8vIEZpbHRlcnMgdG9wIGxldmVsIGFuZCBuZXN0ZWQgcm93c1xuICAgIGNvbnN0IGZpbHRlclJvd3MgPSAocm93cywgZGVwdGggPSAwKSA9PiB7XG4gICAgICBsZXQgZmlsdGVyZWRSb3dzID0gcm93c1xuXG4gICAgICBmaWx0ZXJlZFJvd3MgPSBmaWx0ZXJzLnJlZHVjZShcbiAgICAgICAgKGZpbHRlcmVkU29GYXIsIHsgaWQ6IGNvbHVtbklkLCB2YWx1ZTogZmlsdGVyVmFsdWUgfSkgPT4ge1xuICAgICAgICAgIC8vIEZpbmQgdGhlIGZpbHRlcnMgY29sdW1uXG4gICAgICAgICAgY29uc3QgY29sdW1uID0gZmxhdENvbHVtbnMuZmluZChkID0+IGQuaWQgPT09IGNvbHVtbklkKVxuXG4gICAgICAgICAgaWYgKCFjb2x1bW4pIHtcbiAgICAgICAgICAgIHJldHVybiBmaWx0ZXJlZFNvRmFyXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGRlcHRoID09PSAwKSB7XG4gICAgICAgICAgICBjb2x1bW4ucHJlRmlsdGVyZWRSb3dzID0gZmlsdGVyZWRTb0ZhclxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGZpbHRlck1ldGhvZCA9IGdldEZpbHRlck1ldGhvZChcbiAgICAgICAgICAgIGNvbHVtbi5maWx0ZXIsXG4gICAgICAgICAgICB1c2VyRmlsdGVyVHlwZXMgfHwge30sXG4gICAgICAgICAgICBmaWx0ZXJUeXBlc1xuICAgICAgICAgIClcblxuICAgICAgICAgIGlmICghZmlsdGVyTWV0aG9kKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgIGBDb3VsZCBub3QgZmluZCBhIHZhbGlkICdjb2x1bW4uZmlsdGVyJyBmb3IgY29sdW1uIHdpdGggdGhlIElEOiAke2NvbHVtbi5pZH0uYFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgcmV0dXJuIGZpbHRlcmVkU29GYXJcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBQYXNzIHRoZSByb3dzLCBpZCwgZmlsdGVyVmFsdWUgYW5kIGNvbHVtbiB0byB0aGUgZmlsdGVyTWV0aG9kXG4gICAgICAgICAgLy8gdG8gZ2V0IHRoZSBmaWx0ZXJlZCByb3dzIGJhY2tcbiAgICAgICAgICBjb2x1bW4uZmlsdGVyZWRSb3dzID0gZmlsdGVyTWV0aG9kKFxuICAgICAgICAgICAgZmlsdGVyZWRTb0ZhcixcbiAgICAgICAgICAgIFtjb2x1bW5JZF0sXG4gICAgICAgICAgICBmaWx0ZXJWYWx1ZVxuICAgICAgICAgIClcblxuICAgICAgICAgIHJldHVybiBjb2x1bW4uZmlsdGVyZWRSb3dzXG4gICAgICAgIH0sXG4gICAgICAgIHJvd3NcbiAgICAgIClcblxuICAgICAgLy8gQXBwbHkgdGhlIGZpbHRlciB0byBhbnkgc3ViUm93c1xuICAgICAgLy8gV2UgdGVjaG5pY2FsbHkgY291bGQgZG8gdGhpcyByZWN1cnNpdmVseSBpbiB0aGUgYWJvdmUgbG9vcCxcbiAgICAgIC8vIGJ1dCB0aGF0IHdvdWxkIHNldmVyZWx5IGhpbmRlciB0aGUgQVBJIGZvciB0aGUgdXNlciwgc2luY2UgdGhleVxuICAgICAgLy8gd291bGQgYmUgcmVxdWlyZWQgdG8gZG8gdGhhdCByZWN1cnNpb24gaW4gc29tZSBzY2VuYXJpb3NcbiAgICAgIGZpbHRlcmVkUm93cyA9IGZpbHRlcmVkUm93cy5tYXAocm93ID0+IHtcbiAgICAgICAgZmlsdGVyZWRGbGF0Um93cy5wdXNoKHJvdylcbiAgICAgICAgaWYgKCFyb3cuc3ViUm93cykge1xuICAgICAgICAgIHJldHVybiByb3dcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnJvdyxcbiAgICAgICAgICBzdWJSb3dzOlxuICAgICAgICAgICAgcm93LnN1YlJvd3MgJiYgcm93LnN1YlJvd3MubGVuZ3RoID4gMFxuICAgICAgICAgICAgICA/IGZpbHRlclJvd3Mocm93LnN1YlJvd3MsIGRlcHRoICsgMSlcbiAgICAgICAgICAgICAgOiByb3cuc3ViUm93cyxcbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgcmV0dXJuIGZpbHRlcmVkUm93c1xuICAgIH1cblxuICAgIHJldHVybiBbZmlsdGVyUm93cyhyb3dzKSwgZmlsdGVyZWRGbGF0Um93c11cbiAgfSwgW21hbnVhbEZpbHRlcnMsIGZpbHRlcnMsIHJvd3MsIGZsYXRSb3dzLCBmbGF0Q29sdW1ucywgdXNlckZpbHRlclR5cGVzXSlcblxuICBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICAvLyBOb3cgdGhhdCBlYWNoIGZpbHRlcmVkIGNvbHVtbiBoYXMgaXQncyBwYXJ0aWFsbHkgZmlsdGVyZWQgcm93cyxcbiAgICAvLyBsZXRzIGFzc2lnbiB0aGUgZmluYWwgZmlsdGVyZWQgcm93cyB0byBhbGwgb2YgdGhlIG90aGVyIGNvbHVtbnNcbiAgICBjb25zdCBub25GaWx0ZXJlZENvbHVtbnMgPSBmbGF0Q29sdW1ucy5maWx0ZXIoXG4gICAgICBjb2x1bW4gPT4gIWZpbHRlcnMuZmluZChkID0+IGQuaWQgPT09IGNvbHVtbi5pZClcbiAgICApXG5cbiAgICAvLyBUaGlzIGVzc2VudGlhbGx5IGVuYWJsZXMgZmFjZXRlZCBmaWx0ZXIgb3B0aW9ucyB0byBiZSBidWlsdCBlYXNpbHlcbiAgICAvLyB1c2luZyBldmVyeSBjb2x1bW4ncyBwcmVGaWx0ZXJlZFJvd3MgdmFsdWVcbiAgICBub25GaWx0ZXJlZENvbHVtbnMuZm9yRWFjaChjb2x1bW4gPT4ge1xuICAgICAgY29sdW1uLnByZUZpbHRlcmVkUm93cyA9IGZpbHRlcmVkUm93c1xuICAgICAgY29sdW1uLmZpbHRlcmVkUm93cyA9IGZpbHRlcmVkUm93c1xuICAgIH0pXG4gIH0sIFtmaWx0ZXJlZFJvd3MsIGZpbHRlcnMsIGZsYXRDb2x1bW5zXSlcblxuICBjb25zdCBnZXRBdXRvUmVzZXRGaWx0ZXJzID0gdXNlR2V0TGF0ZXN0KGF1dG9SZXNldEZpbHRlcnMpXG5cbiAgdXNlTW91bnRlZExheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGdldEF1dG9SZXNldEZpbHRlcnMoKSkge1xuICAgICAgZGlzcGF0Y2goeyB0eXBlOiBhY3Rpb25zLnJlc2V0RmlsdGVycyB9KVxuICAgIH1cbiAgfSwgW2Rpc3BhdGNoLCBtYW51YWxGaWx0ZXJzID8gbnVsbCA6IGRhdGFdKVxuXG4gIE9iamVjdC5hc3NpZ24oaW5zdGFuY2UsIHtcbiAgICBwcmVGaWx0ZXJlZFJvd3M6IHJvd3MsXG4gICAgcHJlRmlsdGVyZWRGbGF0Um93czogZmxhdFJvd3MsXG4gICAgZmlsdGVyZWRSb3dzLFxuICAgIGZpbHRlcmVkRmxhdFJvd3MsXG4gICAgcm93czogZmlsdGVyZWRSb3dzLFxuICAgIGZsYXRSb3dzOiBmaWx0ZXJlZEZsYXRSb3dzLFxuICAgIHNldEZpbHRlcixcbiAgICBzZXRBbGxGaWx0ZXJzLFxuICB9KVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQge1xuICBhY3Rpb25zLFxuICBnZXRGaWx0ZXJNZXRob2QsXG4gIHVzZU1vdW50ZWRMYXlvdXRFZmZlY3QsXG4gIGZ1bmN0aW9uYWxVcGRhdGUsXG4gIHVzZUdldExhdGVzdCxcbiAgc2hvdWxkQXV0b1JlbW92ZUZpbHRlcixcbiAgZW5zdXJlUGx1Z2luT3JkZXIsXG59IGZyb20gJy4uL3V0aWxzJ1xuaW1wb3J0ICogYXMgZmlsdGVyVHlwZXMgZnJvbSAnLi4vZmlsdGVyVHlwZXMnXG5cbi8vIEFjdGlvbnNcbmFjdGlvbnMucmVzZXRHbG9iYWxGaWx0ZXIgPSAncmVzZXRHbG9iYWxGaWx0ZXInXG5hY3Rpb25zLnNldEdsb2JhbEZpbHRlciA9ICdzZXRHbG9iYWxGaWx0ZXInXG5cbmV4cG9ydCBjb25zdCB1c2VHbG9iYWxGaWx0ZXIgPSBob29rcyA9PiB7XG4gIGhvb2tzLnN0YXRlUmVkdWNlcnMucHVzaChyZWR1Y2VyKVxuICBob29rcy51c2VJbnN0YW5jZS5wdXNoKHVzZUluc3RhbmNlKVxufVxuXG51c2VHbG9iYWxGaWx0ZXIucGx1Z2luTmFtZSA9ICd1c2VHbG9iYWxGaWx0ZXInXG5cbmZ1bmN0aW9uIHJlZHVjZXIoc3RhdGUsIGFjdGlvbiwgcHJldmlvdXNTdGF0ZSwgaW5zdGFuY2UpIHtcbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLnJlc2V0R2xvYmFsRmlsdGVyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgZ2xvYmFsRmlsdGVyOiBpbnN0YW5jZS5pbml0aWFsU3RhdGUuZ2xvYmFsRmlsdGVyIHx8IHVuZGVmaW5lZCxcbiAgICB9XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMuc2V0R2xvYmFsRmlsdGVyKSB7XG4gICAgY29uc3QgeyBmaWx0ZXJWYWx1ZSB9ID0gYWN0aW9uXG4gICAgY29uc3QgeyB1c2VyRmlsdGVyVHlwZXMgfSA9IGluc3RhbmNlXG5cbiAgICBjb25zdCBmaWx0ZXJNZXRob2QgPSBnZXRGaWx0ZXJNZXRob2QoXG4gICAgICBpbnN0YW5jZS5nbG9iYWxGaWx0ZXIsXG4gICAgICB1c2VyRmlsdGVyVHlwZXMgfHwge30sXG4gICAgICBmaWx0ZXJUeXBlc1xuICAgIClcblxuICAgIGNvbnN0IG5ld0ZpbHRlciA9IGZ1bmN0aW9uYWxVcGRhdGUoZmlsdGVyVmFsdWUsIHN0YXRlLmdsb2JhbEZpbHRlcilcblxuICAgIC8vXG4gICAgaWYgKHNob3VsZEF1dG9SZW1vdmVGaWx0ZXIoZmlsdGVyTWV0aG9kLmF1dG9SZW1vdmUsIG5ld0ZpbHRlcikpIHtcbiAgICAgIGNvbnN0IHsgZ2xvYmFsRmlsdGVyLCAuLi5zdGF0ZVdpdGhvdXRHbG9iYWxGaWx0ZXIgfSA9IHN0YXRlXG4gICAgICByZXR1cm4gc3RhdGVXaXRob3V0R2xvYmFsRmlsdGVyXG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgZ2xvYmFsRmlsdGVyOiBuZXdGaWx0ZXIsXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHVzZUluc3RhbmNlKGluc3RhbmNlKSB7XG4gIGNvbnN0IHtcbiAgICBkYXRhLFxuICAgIHJvd3MsXG4gICAgZmxhdFJvd3MsXG4gICAgZmxhdENvbHVtbnMsXG4gICAgZmlsdGVyVHlwZXM6IHVzZXJGaWx0ZXJUeXBlcyxcbiAgICBnbG9iYWxGaWx0ZXIsXG4gICAgbWFudWFsR2xvYmFsRmlsdGVyLFxuICAgIHN0YXRlOiB7IGdsb2JhbEZpbHRlcjogZ2xvYmFsRmlsdGVyVmFsdWUgfSxcbiAgICBkaXNwYXRjaCxcbiAgICBhdXRvUmVzZXRHbG9iYWxGaWx0ZXJzID0gdHJ1ZSxcbiAgICBwbHVnaW5zLFxuICB9ID0gaW5zdGFuY2VcblxuICBlbnN1cmVQbHVnaW5PcmRlcihwbHVnaW5zLCBbXSwgJ3VzZUdsb2JhbEZpbHRlcicsIFtcbiAgICAndXNlU29ydEJ5JyxcbiAgICAndXNlRXhwYW5kZWQnLFxuICBdKVxuXG4gIGNvbnN0IHNldEdsb2JhbEZpbHRlciA9IGZpbHRlclZhbHVlID0+IHtcbiAgICBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvbnMuc2V0R2xvYmFsRmlsdGVyLCBmaWx0ZXJWYWx1ZSB9KVxuICB9XG5cbiAgLy8gVE9ETzogQ3JlYXRlIGEgZmlsdGVyIGNhY2hlIGZvciBpbmNyZW1lbnRhbCBoaWdoIHNwZWVkIG11bHRpLWZpbHRlcmluZ1xuICAvLyBUaGlzIGdldHMgcHJldHR5IGNvbXBsaWNhdGVkIHByZXR0eSBmYXN0LCBzaW5jZSB5b3UgaGF2ZSB0byBtYWludGFpbiBhXG4gIC8vIGNhY2hlIGZvciBlYWNoIHJvdyBncm91cCAodG9wLWxldmVsIHJvd3MsIGFuZCBlYWNoIHJvdydzIHJlY3Vyc2l2ZSBzdWJyb3dzKVxuICAvLyBUaGlzIHdvdWxkIG1ha2UgbXVsdGktZmlsdGVyaW5nIGEgbG90IGZhc3RlciB0aG91Z2guIFRvbyBmYXI/XG5cbiAgY29uc3QgW2dsb2JhbEZpbHRlcmVkUm93cywgZ2xvYmFsRmlsdGVyZWRGbGF0Um93c10gPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICBpZiAobWFudWFsR2xvYmFsRmlsdGVyIHx8IHR5cGVvZiBnbG9iYWxGaWx0ZXJWYWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBbcm93cywgZmxhdFJvd3NdXG4gICAgfVxuXG4gICAgY29uc3QgZmlsdGVyZWRGbGF0Um93cyA9IFtdXG5cbiAgICBjb25zdCBmaWx0ZXJNZXRob2QgPSBnZXRGaWx0ZXJNZXRob2QoXG4gICAgICBnbG9iYWxGaWx0ZXIsXG4gICAgICB1c2VyRmlsdGVyVHlwZXMgfHwge30sXG4gICAgICBmaWx0ZXJUeXBlc1xuICAgIClcblxuICAgIGlmICghZmlsdGVyTWV0aG9kKSB7XG4gICAgICBjb25zb2xlLndhcm4oYENvdWxkIG5vdCBmaW5kIGEgdmFsaWQgJ2dsb2JhbEZpbHRlcicgb3B0aW9uLmApXG4gICAgICByZXR1cm4gcm93c1xuICAgIH1cblxuICAgIC8vIEZpbHRlcnMgdG9wIGxldmVsIGFuZCBuZXN0ZWQgcm93c1xuICAgIGNvbnN0IGZpbHRlclJvd3MgPSBmaWx0ZXJlZFJvd3MgPT4ge1xuICAgICAgcmV0dXJuIGZpbHRlck1ldGhvZChcbiAgICAgICAgZmlsdGVyZWRSb3dzLFxuICAgICAgICBmbGF0Q29sdW1ucy5tYXAoZCA9PiBkLmlkKSxcbiAgICAgICAgZ2xvYmFsRmlsdGVyVmFsdWVcbiAgICAgICkubWFwKHJvdyA9PiB7XG4gICAgICAgIGZpbHRlcmVkRmxhdFJvd3MucHVzaChyb3cpXG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5yb3csXG4gICAgICAgICAgc3ViUm93czpcbiAgICAgICAgICAgIHJvdy5zdWJSb3dzICYmIHJvdy5zdWJSb3dzLmxlbmd0aFxuICAgICAgICAgICAgICA/IGZpbHRlclJvd3Mocm93LnN1YlJvd3MpXG4gICAgICAgICAgICAgIDogcm93LnN1YlJvd3MsXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuXG4gICAgcmV0dXJuIFtmaWx0ZXJSb3dzKHJvd3MpLCBmaWx0ZXJlZEZsYXRSb3dzXVxuICB9LCBbXG4gICAgbWFudWFsR2xvYmFsRmlsdGVyLFxuICAgIGdsb2JhbEZpbHRlcixcbiAgICB1c2VyRmlsdGVyVHlwZXMsXG4gICAgcm93cyxcbiAgICBmbGF0Um93cyxcbiAgICBmbGF0Q29sdW1ucyxcbiAgICBnbG9iYWxGaWx0ZXJWYWx1ZSxcbiAgXSlcblxuICBjb25zdCBnZXRBdXRvUmVzZXRHbG9iYWxGaWx0ZXJzID0gdXNlR2V0TGF0ZXN0KGF1dG9SZXNldEdsb2JhbEZpbHRlcnMpXG5cbiAgdXNlTW91bnRlZExheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGdldEF1dG9SZXNldEdsb2JhbEZpbHRlcnMoKSkge1xuICAgICAgZGlzcGF0Y2goeyB0eXBlOiBhY3Rpb25zLnJlc2V0R2xvYmFsRmlsdGVyIH0pXG4gICAgfVxuICB9LCBbZGlzcGF0Y2gsIG1hbnVhbEdsb2JhbEZpbHRlciA/IG51bGwgOiBkYXRhXSlcblxuICBPYmplY3QuYXNzaWduKGluc3RhbmNlLCB7XG4gICAgcHJlR2xvYmFsRmlsdGVyZWRSb3dzOiByb3dzLFxuICAgIHByZUdsb2JhbEZpbHRlcmVkRmxhdFJvd3M6IGZsYXRSb3dzLFxuICAgIGdsb2JhbEZpbHRlcmVkUm93cyxcbiAgICBnbG9iYWxGaWx0ZXJlZEZsYXRSb3dzLFxuICAgIHJvd3M6IGdsb2JhbEZpbHRlcmVkUm93cyxcbiAgICBmbGF0Um93czogZ2xvYmFsRmlsdGVyZWRGbGF0Um93cyxcbiAgICBzZXRHbG9iYWxGaWx0ZXIsXG4gIH0pXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5cbmltcG9ydCAqIGFzIGFnZ3JlZ2F0aW9ucyBmcm9tICcuLi9hZ2dyZWdhdGlvbnMnXG5pbXBvcnQge1xuICBhY3Rpb25zLFxuICBtYWtlUHJvcEdldHRlcixcbiAgZGVmYXVsdEdyb3VwQnlGbixcbiAgZ2V0Rmlyc3REZWZpbmVkLFxuICBlbnN1cmVQbHVnaW5PcmRlcixcbiAgdXNlTW91bnRlZExheW91dEVmZmVjdCxcbiAgdXNlR2V0TGF0ZXN0LFxufSBmcm9tICcuLi91dGlscydcbmltcG9ydCB7IHVzZUNvbnN1bWVIb29rR2V0dGVyIH0gZnJvbSAnLi4vcHVibGljVXRpbHMnXG5cbi8vIEFjdGlvbnNcbmFjdGlvbnMucmVzZXRHcm91cEJ5ID0gJ3Jlc2V0R3JvdXBCeSdcbmFjdGlvbnMudG9nZ2xlR3JvdXBCeSA9ICd0b2dnbGVHcm91cEJ5J1xuXG5leHBvcnQgY29uc3QgdXNlR3JvdXBCeSA9IGhvb2tzID0+IHtcbiAgaG9va3MuZ2V0R3JvdXBCeVRvZ2dsZVByb3BzID0gW2RlZmF1bHRHZXRHcm91cEJ5VG9nZ2xlUHJvcHNdXG4gIGhvb2tzLnN0YXRlUmVkdWNlcnMucHVzaChyZWR1Y2VyKVxuICBob29rcy5mbGF0Q29sdW1uc0RlcHMucHVzaCgoZGVwcywgeyBpbnN0YW5jZSB9KSA9PiBbXG4gICAgLi4uZGVwcyxcbiAgICBpbnN0YW5jZS5zdGF0ZS5ncm91cEJ5LFxuICBdKVxuICBob29rcy5mbGF0Q29sdW1ucy5wdXNoKGZsYXRDb2x1bW5zKVxuICBob29rcy51c2VJbnN0YW5jZS5wdXNoKHVzZUluc3RhbmNlKVxufVxuXG51c2VHcm91cEJ5LnBsdWdpbk5hbWUgPSAndXNlR3JvdXBCeSdcblxuY29uc3QgZGVmYXVsdEdldEdyb3VwQnlUb2dnbGVQcm9wcyA9IChwcm9wcywgeyBoZWFkZXIgfSkgPT4gW1xuICBwcm9wcyxcbiAge1xuICAgIG9uQ2xpY2s6IGhlYWRlci5jYW5Hcm91cEJ5XG4gICAgICA/IGUgPT4ge1xuICAgICAgICAgIGUucGVyc2lzdCgpXG4gICAgICAgICAgaGVhZGVyLnRvZ2dsZUdyb3VwQnkoKVxuICAgICAgICB9XG4gICAgICA6IHVuZGVmaW5lZCxcbiAgICBzdHlsZToge1xuICAgICAgY3Vyc29yOiBoZWFkZXIuY2FuR3JvdXBCeSA/ICdwb2ludGVyJyA6IHVuZGVmaW5lZCxcbiAgICB9LFxuICAgIHRpdGxlOiAnVG9nZ2xlIEdyb3VwQnknLFxuICB9LFxuXVxuXG4vLyBSZWR1Y2VyXG5mdW5jdGlvbiByZWR1Y2VyKHN0YXRlLCBhY3Rpb24sIHByZXZpb3VzU3RhdGUsIGluc3RhbmNlKSB7XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5pbml0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGdyb3VwQnk6IFtdLFxuICAgICAgLi4uc3RhdGUsXG4gICAgfVxuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLnJlc2V0R3JvdXBCeSkge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIGdyb3VwQnk6IGluc3RhbmNlLmluaXRpYWxTdGF0ZS5ncm91cEJ5IHx8IFtdLFxuICAgIH1cbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy50b2dnbGVHcm91cEJ5KSB7XG4gICAgY29uc3QgeyBjb2x1bW5JZCwgdG9nZ2xlIH0gPSBhY3Rpb25cblxuICAgIGNvbnN0IHJlc29sdmVkVG9nZ2xlID1cbiAgICAgIHR5cGVvZiB0b2dnbGUgIT09ICd1bmRlZmluZWQnID8gdG9nZ2xlIDogIXN0YXRlLmdyb3VwQnkuaW5jbHVkZXMoY29sdW1uSWQpXG5cbiAgICBpZiAocmVzb2x2ZWRUb2dnbGUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBncm91cEJ5OiBbLi4uc3RhdGUuZ3JvdXBCeSwgY29sdW1uSWRdLFxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIGdyb3VwQnk6IHN0YXRlLmdyb3VwQnkuZmlsdGVyKGQgPT4gZCAhPT0gY29sdW1uSWQpLFxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBmbGF0Q29sdW1ucyhcbiAgZmxhdENvbHVtbnMsXG4gIHtcbiAgICBpbnN0YW5jZToge1xuICAgICAgc3RhdGU6IHsgZ3JvdXBCeSB9LFxuICAgIH0sXG4gIH1cbikge1xuICAvLyBTb3J0IGdyb3VwZWQgY29sdW1ucyB0byB0aGUgc3RhcnQgb2YgdGhlIGNvbHVtbiBsaXN0XG4gIC8vIGJlZm9yZSB0aGUgaGVhZGVycyBhcmUgYnVpbHRcblxuICBjb25zdCBncm91cEJ5Q29sdW1ucyA9IGdyb3VwQnlcbiAgICAubWFwKGcgPT4gZmxhdENvbHVtbnMuZmluZChjb2wgPT4gY29sLmlkID09PSBnKSlcbiAgICAuZmlsdGVyKGNvbCA9PiAhIWNvbClcbiAgY29uc3Qgbm9uR3JvdXBCeUNvbHVtbnMgPSBmbGF0Q29sdW1ucy5maWx0ZXIoY29sID0+ICFncm91cEJ5LmluY2x1ZGVzKGNvbC5pZCkpXG5cbiAgZmxhdENvbHVtbnMgPSBbLi4uZ3JvdXBCeUNvbHVtbnMsIC4uLm5vbkdyb3VwQnlDb2x1bW5zXVxuXG4gIGZsYXRDb2x1bW5zLmZvckVhY2goY29sdW1uID0+IHtcbiAgICBjb2x1bW4uaXNHcm91cGVkID0gZ3JvdXBCeS5pbmNsdWRlcyhjb2x1bW4uaWQpXG4gICAgY29sdW1uLmdyb3VwZWRJbmRleCA9IGdyb3VwQnkuaW5kZXhPZihjb2x1bW4uaWQpXG4gIH0pXG5cbiAgcmV0dXJuIGZsYXRDb2x1bW5zXG59XG5cbmNvbnN0IGRlZmF1bHRVc2VyQWdncmVnYXRpb25zID0ge31cblxuZnVuY3Rpb24gdXNlSW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgY29uc3Qge1xuICAgIGRhdGEsXG4gICAgcm93cyxcbiAgICBmbGF0Um93cyxcbiAgICBmbGF0Q29sdW1ucyxcbiAgICBmbGF0SGVhZGVycyxcbiAgICBncm91cEJ5Rm4gPSBkZWZhdWx0R3JvdXBCeUZuLFxuICAgIG1hbnVhbEdyb3VwQnksXG4gICAgYWdncmVnYXRpb25zOiB1c2VyQWdncmVnYXRpb25zID0gZGVmYXVsdFVzZXJBZ2dyZWdhdGlvbnMsXG4gICAgaG9va3MsXG4gICAgcGx1Z2lucyxcbiAgICBzdGF0ZTogeyBncm91cEJ5IH0sXG4gICAgZGlzcGF0Y2gsXG4gICAgYXV0b1Jlc2V0R3JvdXBCeSA9IHRydWUsXG4gICAgbWFuYXVsR3JvdXBCeSxcbiAgICBkaXNhYmxlR3JvdXBCeSxcbiAgICBkZWZhdWx0Q2FuR3JvdXBCeSxcbiAgfSA9IGluc3RhbmNlXG5cbiAgZW5zdXJlUGx1Z2luT3JkZXIocGx1Z2lucywgW10sICd1c2VHcm91cEJ5JywgWyd1c2VTb3J0QnknLCAndXNlRXhwYW5kZWQnXSlcblxuICBjb25zdCBnZXRJbnN0YW5jZSA9IHVzZUdldExhdGVzdChpbnN0YW5jZSlcblxuICBmbGF0Q29sdW1ucy5mb3JFYWNoKGNvbHVtbiA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgYWNjZXNzb3IsXG4gICAgICBkZWZhdWx0R3JvdXBCeTogZGVmYXVsdENvbHVtbkdyb3VwQnksXG4gICAgICBkaXNhYmxlR3JvdXBCeTogY29sdW1uRGlzYWJsZUdyb3VwQnksXG4gICAgfSA9IGNvbHVtblxuXG4gICAgY29sdW1uLmNhbkdyb3VwQnkgPSBhY2Nlc3NvclxuICAgICAgPyBnZXRGaXJzdERlZmluZWQoXG4gICAgICAgICAgY29sdW1uRGlzYWJsZUdyb3VwQnkgPT09IHRydWUgPyBmYWxzZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICBkaXNhYmxlR3JvdXBCeSA9PT0gdHJ1ZSA/IGZhbHNlIDogdW5kZWZpbmVkLFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKVxuICAgICAgOiBnZXRGaXJzdERlZmluZWQoZGVmYXVsdENvbHVtbkdyb3VwQnksIGRlZmF1bHRDYW5Hcm91cEJ5LCBmYWxzZSlcblxuICAgIGlmIChjb2x1bW4uY2FuR3JvdXBCeSkge1xuICAgICAgY29sdW1uLnRvZ2dsZUdyb3VwQnkgPSAoKSA9PiBpbnN0YW5jZS50b2dnbGVHcm91cEJ5KGNvbHVtbi5pZClcbiAgICB9XG5cbiAgICBjb2x1bW4uQWdncmVnYXRlZCA9IGNvbHVtbi5BZ2dyZWdhdGVkIHx8IGNvbHVtbi5DZWxsXG4gIH0pXG5cbiAgY29uc3QgdG9nZ2xlR3JvdXBCeSA9IChjb2x1bW5JZCwgdG9nZ2xlKSA9PiB7XG4gICAgZGlzcGF0Y2goeyB0eXBlOiBhY3Rpb25zLnRvZ2dsZUdyb3VwQnksIGNvbHVtbklkLCB0b2dnbGUgfSlcbiAgfVxuXG4gIGNvbnN0IGdldEdyb3VwQnlUb2dnbGVQcm9wc0hvb2tzID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoXG4gICAgZ2V0SW5zdGFuY2UoKS5ob29rcyxcbiAgICAnZ2V0R3JvdXBCeVRvZ2dsZVByb3BzJ1xuICApXG5cbiAgZmxhdEhlYWRlcnMuZm9yRWFjaChoZWFkZXIgPT4ge1xuICAgIGhlYWRlci5nZXRHcm91cEJ5VG9nZ2xlUHJvcHMgPSBtYWtlUHJvcEdldHRlcihcbiAgICAgIGdldEdyb3VwQnlUb2dnbGVQcm9wc0hvb2tzKCksXG4gICAgICB7IGluc3RhbmNlOiBnZXRJbnN0YW5jZSgpLCBoZWFkZXIgfVxuICAgIClcbiAgfSlcblxuICBob29rcy5wcmVwYXJlUm93LnB1c2gocm93ID0+IHtcbiAgICByb3cuYWxsQ2VsbHMuZm9yRWFjaChjZWxsID0+IHtcbiAgICAgIC8vIEdyb3VwZWQgY2VsbHMgYXJlIGluIHRoZSBncm91cEJ5IGFuZCB0aGUgcGl2b3QgY2VsbCBmb3IgdGhlIHJvd1xuICAgICAgY2VsbC5pc0dyb3VwZWQgPSBjZWxsLmNvbHVtbi5pc0dyb3VwZWQgJiYgY2VsbC5jb2x1bW4uaWQgPT09IHJvdy5ncm91cEJ5SURcbiAgICAgIC8vIFJlcGVhdGVkIGNlbGxzIGFyZSBhbnkgY29sdW1ucyBpbiB0aGUgZ3JvdXBCeSB0aGF0IGFyZSBub3QgZ3JvdXBlZFxuICAgICAgY2VsbC5pc1JlcGVhdGVkVmFsdWUgPSAhY2VsbC5pc0dyb3VwZWQgJiYgY2VsbC5jb2x1bW4uaXNHcm91cGVkXG4gICAgICAvLyBBZ2dyZWdhdGVkIGNlbGxzIGFyZSBub3QgZ3JvdXBlZCwgbm90IHJlcGVhdGVkLCBidXQgc3RpbGwgaGF2ZSBzdWJSb3dzXG4gICAgICBjZWxsLmlzQWdncmVnYXRlZCA9XG4gICAgICAgICFjZWxsLmlzR3JvdXBlZCAmJiAhY2VsbC5pc1JlcGVhdGVkVmFsdWUgJiYgcm93LmNhbkV4cGFuZFxuICAgIH0pXG4gIH0pXG5cbiAgY29uc3QgW2dyb3VwZWRSb3dzLCBncm91cGVkRmxhdFJvd3NdID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKG1hbnVhbEdyb3VwQnkgfHwgIWdyb3VwQnkubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gW3Jvd3MsIGZsYXRSb3dzXVxuICAgIH1cblxuICAgIC8vIEVuc3VyZSB0aGF0IHRoZSBsaXN0IG9mIGZpbHRlcmVkIGNvbHVtbnMgZXhpc3RcbiAgICBjb25zdCBleGlzdGluZ0dyb3VwQnkgPSBncm91cEJ5LmZpbHRlcihnID0+XG4gICAgICBmbGF0Q29sdW1ucy5maW5kKGNvbCA9PiBjb2wuaWQgPT09IGcpXG4gICAgKVxuXG4gICAgLy8gRmluZCB0aGUgY29sdW1ucyB0aGF0IGNhbiBvciBhcmUgYWdncmVnYXRpbmdcbiAgICAvLyBVc2VzIGVhY2ggY29sdW1uIHRvIGFnZ3JlZ2F0ZSByb3dzIGludG8gYSBzaW5nbGUgdmFsdWVcbiAgICBjb25zdCBhZ2dyZWdhdGVSb3dzVG9WYWx1ZXMgPSAocm93cywgaXNBZ2dyZWdhdGVkKSA9PiB7XG4gICAgICBjb25zdCB2YWx1ZXMgPSB7fVxuXG4gICAgICBmbGF0Q29sdW1ucy5mb3JFYWNoKGNvbHVtbiA9PiB7XG4gICAgICAgIC8vIERvbid0IGFnZ3JlZ2F0ZSBjb2x1bW5zIHRoYXQgYXJlIGluIHRoZSBncm91cEJ5XG4gICAgICAgIGlmIChleGlzdGluZ0dyb3VwQnkuaW5jbHVkZXMoY29sdW1uLmlkKSkge1xuICAgICAgICAgIHZhbHVlc1tjb2x1bW4uaWRdID0gcm93c1swXSA/IHJvd3NbMF0udmFsdWVzW2NvbHVtbi5pZF0gOiBudWxsXG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb2x1bW5WYWx1ZXMgPSByb3dzLm1hcChkID0+IGQudmFsdWVzW2NvbHVtbi5pZF0pXG5cbiAgICAgICAgbGV0IGFnZ3JlZ2F0b3IgPSBjb2x1bW4uYWdncmVnYXRlXG5cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYWdncmVnYXRvcikpIHtcbiAgICAgICAgICBpZiAoYWdncmVnYXRvci5sZW5ndGggIT09IDIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbyh7IGNvbHVtbiB9KVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICBgUmVhY3QgVGFibGU6IENvbXBsZXggYWdncmVnYXRvcnMgbXVzdCBoYXZlIDIgdmFsdWVzLCBlZy4gYWdncmVnYXRlOiBbJ3N1bScsICdjb3VudCddLiBNb3JlIGluZm8gYWJvdmUuLi5gXG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc0FnZ3JlZ2F0ZWQpIHtcbiAgICAgICAgICAgIGFnZ3JlZ2F0b3IgPSBhZ2dyZWdhdG9yWzFdXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFnZ3JlZ2F0b3IgPSBhZ2dyZWdhdG9yWzBdXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGFnZ3JlZ2F0ZUZuID1cbiAgICAgICAgICB0eXBlb2YgYWdncmVnYXRvciA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgPyBhZ2dyZWdhdG9yXG4gICAgICAgICAgICA6IHVzZXJBZ2dyZWdhdGlvbnNbYWdncmVnYXRvcl0gfHwgYWdncmVnYXRpb25zW2FnZ3JlZ2F0b3JdXG5cbiAgICAgICAgaWYgKGFnZ3JlZ2F0ZUZuKSB7XG4gICAgICAgICAgdmFsdWVzW2NvbHVtbi5pZF0gPSBhZ2dyZWdhdGVGbihjb2x1bW5WYWx1ZXMsIHJvd3MsIGlzQWdncmVnYXRlZClcbiAgICAgICAgfSBlbHNlIGlmIChhZ2dyZWdhdG9yKSB7XG4gICAgICAgICAgY29uc29sZS5pbmZvKHsgY29sdW1uIH0pXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgYFJlYWN0IFRhYmxlOiBJbnZhbGlkIGFnZ3JlZ2F0ZSBvcHRpb24gZm9yIGNvbHVtbiBsaXN0ZWQgYWJvdmVgXG4gICAgICAgICAgKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbHVlc1tjb2x1bW4uaWRdID0gbnVsbFxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgcmV0dXJuIHZhbHVlc1xuICAgIH1cblxuICAgIGxldCBncm91cGVkRmxhdFJvd3MgPSBbXVxuXG4gICAgLy8gUmVjdXJzaXZlbHkgZ3JvdXAgdGhlIGRhdGFcbiAgICBjb25zdCBncm91cFJlY3Vyc2l2ZWx5ID0gKHJvd3MsIGRlcHRoID0gMCwgcGFyZW50SWQpID0+IHtcbiAgICAgIC8vIFRoaXMgaXMgdGhlIGxhc3QgbGV2ZWwsIGp1c3QgcmV0dXJuIHRoZSByb3dzXG4gICAgICBpZiAoZGVwdGggPT09IGV4aXN0aW5nR3JvdXBCeS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHJvd3NcbiAgICAgIH1cblxuICAgICAgY29uc3QgY29sdW1uSWQgPSBleGlzdGluZ0dyb3VwQnlbZGVwdGhdXG5cbiAgICAgIC8vIEdyb3VwIHRoZSByb3dzIHRvZ2V0aGVyIGZvciB0aGlzIGxldmVsXG4gICAgICBsZXQgZ3JvdXBlZFJvd3MgPSBncm91cEJ5Rm4ocm93cywgY29sdW1uSWQpXG5cbiAgICAgIC8vIFJlY3Vyc2UgdG8gc3ViIHJvd3MgYmVmb3JlIGFnZ3JlZ2F0aW9uXG4gICAgICBncm91cGVkUm93cyA9IE9iamVjdC5lbnRyaWVzKGdyb3VwZWRSb3dzKS5tYXAoXG4gICAgICAgIChbZ3JvdXBCeVZhbCwgc3ViUm93c10sIGluZGV4KSA9PiB7XG4gICAgICAgICAgbGV0IGlkID0gYCR7Y29sdW1uSWR9OiR7Z3JvdXBCeVZhbH1gXG4gICAgICAgICAgaWQgPSBwYXJlbnRJZCA/IGAke3BhcmVudElkfT4ke2lkfWAgOiBpZFxuXG4gICAgICAgICAgc3ViUm93cyA9IGdyb3VwUmVjdXJzaXZlbHkoc3ViUm93cywgZGVwdGggKyAxLCBpZClcblxuICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IGFnZ3JlZ2F0ZVJvd3NUb1ZhbHVlcyhcbiAgICAgICAgICAgIHN1YlJvd3MsXG4gICAgICAgICAgICBkZXB0aCA8IGV4aXN0aW5nR3JvdXBCeS5sZW5ndGhcbiAgICAgICAgICApXG5cbiAgICAgICAgICBjb25zdCByb3cgPSB7XG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIGlzR3JvdXBlZDogdHJ1ZSxcbiAgICAgICAgICAgIGdyb3VwQnlJRDogY29sdW1uSWQsXG4gICAgICAgICAgICBncm91cEJ5VmFsLFxuICAgICAgICAgICAgdmFsdWVzLFxuICAgICAgICAgICAgc3ViUm93cyxcbiAgICAgICAgICAgIGRlcHRoLFxuICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZ3JvdXBlZEZsYXRSb3dzLnB1c2gocm93LCAuLi5zdWJSb3dzKVxuXG4gICAgICAgICAgcmV0dXJuIHJvd1xuICAgICAgICB9XG4gICAgICApXG5cbiAgICAgIHJldHVybiBncm91cGVkUm93c1xuICAgIH1cblxuICAgIGNvbnN0IGdyb3VwZWRSb3dzID0gZ3JvdXBSZWN1cnNpdmVseShyb3dzKVxuXG4gICAgLy8gQXNzaWduIHRoZSBuZXcgZGF0YVxuICAgIHJldHVybiBbZ3JvdXBlZFJvd3MsIGdyb3VwZWRGbGF0Um93c11cbiAgfSwgW1xuICAgIG1hbnVhbEdyb3VwQnksXG4gICAgZ3JvdXBCeSxcbiAgICByb3dzLFxuICAgIGZsYXRSb3dzLFxuICAgIGZsYXRDb2x1bW5zLFxuICAgIHVzZXJBZ2dyZWdhdGlvbnMsXG4gICAgZ3JvdXBCeUZuLFxuICBdKVxuXG4gIGNvbnN0IGdldEF1dG9SZXNldEdyb3VwQnkgPSB1c2VHZXRMYXRlc3QoYXV0b1Jlc2V0R3JvdXBCeSlcblxuICB1c2VNb3VudGVkTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZ2V0QXV0b1Jlc2V0R3JvdXBCeSgpKSB7XG4gICAgICBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvbnMucmVzZXRHcm91cEJ5IH0pXG4gICAgfVxuICB9LCBbZGlzcGF0Y2gsIG1hbmF1bEdyb3VwQnkgPyBudWxsIDogZGF0YV0pXG5cbiAgT2JqZWN0LmFzc2lnbihpbnN0YW5jZSwge1xuICAgIHByZUdyb3VwZWRSb3dzOiByb3dzLFxuICAgIHByZUdyb3VwZWRGbGF0Um93OiBmbGF0Um93cyxcbiAgICBncm91cGVkUm93cyxcbiAgICBncm91cGVkRmxhdFJvd3MsXG4gICAgcm93czogZ3JvdXBlZFJvd3MsXG4gICAgZmxhdFJvd3M6IGdyb3VwZWRGbGF0Um93cyxcbiAgICB0b2dnbGVHcm91cEJ5LFxuICB9KVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQge1xuICBhY3Rpb25zLFxuICBlbnN1cmVQbHVnaW5PcmRlcixcbiAgZGVmYXVsdENvbHVtbixcbiAgbWFrZVByb3BHZXR0ZXIsXG4gIHVzZUNvbnN1bWVIb29rR2V0dGVyLFxuICBnZXRGaXJzdERlZmluZWQsXG4gIGRlZmF1bHRPcmRlckJ5Rm4sXG4gIGlzRnVuY3Rpb24sXG4gIHVzZUdldExhdGVzdCxcbiAgdXNlTW91bnRlZExheW91dEVmZmVjdCxcbn0gZnJvbSAnLi4vdXRpbHMnXG5cbmltcG9ydCAqIGFzIHNvcnRUeXBlcyBmcm9tICcuLi9zb3J0VHlwZXMnXG5cbi8vIEFjdGlvbnNcbmFjdGlvbnMucmVzZXRTb3J0QnkgPSAncmVzZXRTb3J0QnknXG5hY3Rpb25zLnRvZ2dsZVNvcnRCeSA9ICd0b2dnbGVTb3J0QnknXG5hY3Rpb25zLmNsZWFyU29ydEJ5ID0gJ2NsZWFyU29ydEJ5J1xuXG5kZWZhdWx0Q29sdW1uLnNvcnRUeXBlID0gJ2FscGhhbnVtZXJpYydcbmRlZmF1bHRDb2x1bW4uc29ydERlc2NGaXJzdCA9IGZhbHNlXG5cbmV4cG9ydCBjb25zdCB1c2VTb3J0QnkgPSBob29rcyA9PiB7XG4gIGhvb2tzLmdldFNvcnRCeVRvZ2dsZVByb3BzID0gW2RlZmF1bHRHZXRTb3J0QnlUb2dnbGVQcm9wc11cbiAgaG9va3Muc3RhdGVSZWR1Y2Vycy5wdXNoKHJlZHVjZXIpXG4gIGhvb2tzLnVzZUluc3RhbmNlLnB1c2godXNlSW5zdGFuY2UpXG59XG5cbnVzZVNvcnRCeS5wbHVnaW5OYW1lID0gJ3VzZVNvcnRCeSdcblxuY29uc3QgZGVmYXVsdEdldFNvcnRCeVRvZ2dsZVByb3BzID0gKHByb3BzLCB7IGluc3RhbmNlLCBjb2x1bW4gfSkgPT4ge1xuICBjb25zdCB7IGlzTXVsdGlTb3J0RXZlbnQgPSBlID0+IGUuc2hpZnRLZXkgfSA9IGluc3RhbmNlXG5cbiAgcmV0dXJuIFtcbiAgICBwcm9wcyxcbiAgICB7XG4gICAgICBvbkNsaWNrOiBjb2x1bW4uY2FuU29ydFxuICAgICAgICA/IGUgPT4ge1xuICAgICAgICAgICAgZS5wZXJzaXN0KClcbiAgICAgICAgICAgIGNvbHVtbi50b2dnbGVTb3J0QnkoXG4gICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgIWluc3RhbmNlLmRpc2FibGVNdWx0aVNvcnQgJiYgaXNNdWx0aVNvcnRFdmVudChlKVxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cbiAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICBzdHlsZToge1xuICAgICAgICBjdXJzb3I6IGNvbHVtbi5jYW5Tb3J0ID8gJ3BvaW50ZXInIDogdW5kZWZpbmVkLFxuICAgICAgfSxcbiAgICAgIHRpdGxlOiBjb2x1bW4uY2FuU29ydCA/ICdUb2dnbGUgU29ydEJ5JyA6IHVuZGVmaW5lZCxcbiAgICB9LFxuICBdXG59XG5cbi8vIFJlZHVjZXJcbmZ1bmN0aW9uIHJlZHVjZXIoc3RhdGUsIGFjdGlvbiwgcHJldmlvdXNTdGF0ZSwgaW5zdGFuY2UpIHtcbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLmluaXQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc29ydEJ5OiBbXSxcbiAgICAgIC4uLnN0YXRlLFxuICAgIH1cbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5yZXNldFNvcnRCeSkge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIHNvcnRCeTogaW5zdGFuY2UuaW5pdGlhbFN0YXRlLnNvcnRCeSB8fCBbXSxcbiAgICB9XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMuY2xlYXJTb3J0QnkpIHtcbiAgICBjb25zdCB7IHNvcnRCeSB9ID0gc3RhdGVcbiAgICBjb25zdCBuZXdTb3J0QnkgPSBzb3J0QnkuZmlsdGVyKGQgPT4gZC5pZCAhPT0gYWN0aW9uLmNvbHVtbklkKVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgc29ydEJ5OiBuZXdTb3J0QnksXG4gICAgfVxuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLnRvZ2dsZVNvcnRCeSkge1xuICAgIGNvbnN0IHsgY29sdW1uSWQsIGRlc2MsIG11bHRpIH0gPSBhY3Rpb25cblxuICAgIGNvbnN0IHtcbiAgICAgIGZsYXRDb2x1bW5zLFxuICAgICAgZGlzYWJsZU11bHRpU29ydCxcbiAgICAgIGRpc2FibGVTb3J0UmVtb3ZlLFxuICAgICAgZGlzYWJsZU11bHRpUmVtb3ZlLFxuICAgICAgbWF4TXVsdGlTb3J0Q29sQ291bnQgPSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUixcbiAgICB9ID0gaW5zdGFuY2VcblxuICAgIGNvbnN0IHsgc29ydEJ5IH0gPSBzdGF0ZVxuXG4gICAgLy8gRmluZCB0aGUgY29sdW1uIGZvciB0aGlzIGNvbHVtbklkXG4gICAgY29uc3QgY29sdW1uID0gZmxhdENvbHVtbnMuZmluZChkID0+IGQuaWQgPT09IGNvbHVtbklkKVxuICAgIGNvbnN0IHsgc29ydERlc2NGaXJzdCB9ID0gY29sdW1uXG5cbiAgICAvLyBGaW5kIGFueSBleGlzdGluZyBzb3J0QnkgZm9yIHRoaXMgY29sdW1uXG4gICAgY29uc3QgZXhpc3RpbmdTb3J0QnkgPSBzb3J0QnkuZmluZChkID0+IGQuaWQgPT09IGNvbHVtbklkKVxuICAgIGNvbnN0IGV4aXN0aW5nSW5kZXggPSBzb3J0QnkuZmluZEluZGV4KGQgPT4gZC5pZCA9PT0gY29sdW1uSWQpXG4gICAgY29uc3QgaGFzRGVzY0RlZmluZWQgPSB0eXBlb2YgZGVzYyAhPT0gJ3VuZGVmaW5lZCcgJiYgZGVzYyAhPT0gbnVsbFxuXG4gICAgbGV0IG5ld1NvcnRCeSA9IFtdXG5cbiAgICAvLyBXaGF0IHNob3VsZCB3ZSBkbyB3aXRoIHRoaXMgc29ydCBhY3Rpb24/XG4gICAgbGV0IHNvcnRBY3Rpb25cblxuICAgIGlmICghZGlzYWJsZU11bHRpU29ydCAmJiBtdWx0aSkge1xuICAgICAgaWYgKGV4aXN0aW5nU29ydEJ5KSB7XG4gICAgICAgIHNvcnRBY3Rpb24gPSAndG9nZ2xlJ1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc29ydEFjdGlvbiA9ICdhZGQnXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5vcm1hbCBtb2RlXG4gICAgICBpZiAoZXhpc3RpbmdJbmRleCAhPT0gc29ydEJ5Lmxlbmd0aCAtIDEpIHtcbiAgICAgICAgc29ydEFjdGlvbiA9ICdyZXBsYWNlJ1xuICAgICAgfSBlbHNlIGlmIChleGlzdGluZ1NvcnRCeSkge1xuICAgICAgICBzb3J0QWN0aW9uID0gJ3RvZ2dsZSdcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNvcnRBY3Rpb24gPSAncmVwbGFjZSdcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgdG9nZ2xlIHN0YXRlcyB0aGF0IHdpbGwgcmVtb3ZlIHRoZSBzb3J0QnlcbiAgICBpZiAoXG4gICAgICBzb3J0QWN0aW9uID09PSAndG9nZ2xlJyAmJiAvLyBNdXN0IGJlIHRvZ2dsaW5nXG4gICAgICAhZGlzYWJsZVNvcnRSZW1vdmUgJiYgLy8gSWYgZGlzYWJsZVNvcnRSZW1vdmUsIGRpc2FibGUgaW4gZ2VuZXJhbFxuICAgICAgIWhhc0Rlc2NEZWZpbmVkICYmIC8vIE11c3Qgbm90IGJlIHNldHRpbmcgZGVzY1xuICAgICAgKG11bHRpID8gIWRpc2FibGVNdWx0aVJlbW92ZSA6IHRydWUpICYmIC8vIElmIG11bHRpLCBkb24ndCBhbGxvdyBpZiBkaXNhYmxlTXVsdGlSZW1vdmVcbiAgICAgICgoZXhpc3RpbmdTb3J0QnkgJiYgLy8gRmluYWxseSwgZGV0ZWN0IGlmIGl0IHNob3VsZCBpbmRlZWQgYmUgcmVtb3ZlZFxuICAgICAgICBleGlzdGluZ1NvcnRCeS5kZXNjICYmXG4gICAgICAgICFzb3J0RGVzY0ZpcnN0KSB8fFxuICAgICAgICAoIWV4aXN0aW5nU29ydEJ5LmRlc2MgJiYgc29ydERlc2NGaXJzdCkpXG4gICAgKSB7XG4gICAgICBzb3J0QWN0aW9uID0gJ3JlbW92ZSdcbiAgICB9XG5cbiAgICBpZiAoc29ydEFjdGlvbiA9PT0gJ3JlcGxhY2UnKSB7XG4gICAgICBuZXdTb3J0QnkgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogY29sdW1uSWQsXG4gICAgICAgICAgZGVzYzogaGFzRGVzY0RlZmluZWQgPyBkZXNjIDogc29ydERlc2NGaXJzdCxcbiAgICAgICAgfSxcbiAgICAgIF1cbiAgICB9IGVsc2UgaWYgKHNvcnRBY3Rpb24gPT09ICdhZGQnKSB7XG4gICAgICBuZXdTb3J0QnkgPSBbXG4gICAgICAgIC4uLnNvcnRCeSxcbiAgICAgICAge1xuICAgICAgICAgIGlkOiBjb2x1bW5JZCxcbiAgICAgICAgICBkZXNjOiBoYXNEZXNjRGVmaW5lZCA/IGRlc2MgOiBzb3J0RGVzY0ZpcnN0LFxuICAgICAgICB9LFxuICAgICAgXVxuICAgICAgLy8gVGFrZSBsYXRlc3QgbiBjb2x1bW5zXG4gICAgICBuZXdTb3J0Qnkuc3BsaWNlKDAsIG5ld1NvcnRCeS5sZW5ndGggLSBtYXhNdWx0aVNvcnRDb2xDb3VudClcbiAgICB9IGVsc2UgaWYgKHNvcnRBY3Rpb24gPT09ICd0b2dnbGUnKSB7XG4gICAgICAvLyBUaGlzIGZsaXBzIChvciBzZXRzKSB0aGVcbiAgICAgIG5ld1NvcnRCeSA9IHNvcnRCeS5tYXAoZCA9PiB7XG4gICAgICAgIGlmIChkLmlkID09PSBjb2x1bW5JZCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5kLFxuICAgICAgICAgICAgZGVzYzogaGFzRGVzY0RlZmluZWQgPyBkZXNjIDogIWV4aXN0aW5nU29ydEJ5LmRlc2MsXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkXG4gICAgICB9KVxuICAgIH0gZWxzZSBpZiAoc29ydEFjdGlvbiA9PT0gJ3JlbW92ZScpIHtcbiAgICAgIG5ld1NvcnRCeSA9IHNvcnRCeS5maWx0ZXIoZCA9PiBkLmlkICE9PSBjb2x1bW5JZClcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBzb3J0Qnk6IG5ld1NvcnRCeSxcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdXNlSW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgY29uc3Qge1xuICAgIGRhdGEsXG4gICAgcm93cyxcbiAgICBmbGF0Q29sdW1ucyxcbiAgICBvcmRlckJ5Rm4gPSBkZWZhdWx0T3JkZXJCeUZuLFxuICAgIHNvcnRUeXBlczogdXNlclNvcnRUeXBlcyxcbiAgICBtYW51YWxTb3J0QnksXG4gICAgZGVmYXVsdENhblNvcnQsXG4gICAgZGlzYWJsZVNvcnRCeSxcbiAgICBmbGF0SGVhZGVycyxcbiAgICBzdGF0ZTogeyBzb3J0QnkgfSxcbiAgICBkaXNwYXRjaCxcbiAgICBwbHVnaW5zLFxuICAgIGF1dG9SZXNldFNvcnRCeSA9IHRydWUsXG4gIH0gPSBpbnN0YW5jZVxuXG4gIGVuc3VyZVBsdWdpbk9yZGVyKHBsdWdpbnMsIFsndXNlRmlsdGVycyddLCAndXNlU29ydEJ5JywgW10pXG5cbiAgLy8gVXBkYXRlcyBzb3J0aW5nIGJhc2VkIG9uIGEgY29sdW1uSWQsIGRlc2MgZmxhZyBhbmQgbXVsdGkgZmxhZ1xuICBjb25zdCB0b2dnbGVTb3J0QnkgPSAoY29sdW1uSWQsIGRlc2MsIG11bHRpKSA9PiB7XG4gICAgZGlzcGF0Y2goeyB0eXBlOiBhY3Rpb25zLnRvZ2dsZVNvcnRCeSwgY29sdW1uSWQsIGRlc2MsIG11bHRpIH0pXG4gIH1cblxuICAvLyB1c2UgcmVmZXJlbmNlIHRvIGF2b2lkIG1lbW9yeSBsZWFrIGluICMxNjA4XG4gIGNvbnN0IGdldEluc3RhbmNlID0gdXNlR2V0TGF0ZXN0KGluc3RhbmNlKVxuXG4gIGNvbnN0IGdldFNvcnRCeVRvZ2dsZVByb3BzSG9va3MgPSB1c2VDb25zdW1lSG9va0dldHRlcihcbiAgICBnZXRJbnN0YW5jZSgpLmhvb2tzLFxuICAgICdnZXRTb3J0QnlUb2dnbGVQcm9wcydcbiAgKVxuXG4gIC8vIEFkZCB0aGUgZ2V0U29ydEJ5VG9nZ2xlUHJvcHMgbWV0aG9kIHRvIGNvbHVtbnMgYW5kIGhlYWRlcnNcbiAgZmxhdEhlYWRlcnMuZm9yRWFjaChjb2x1bW4gPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGFjY2Vzc29yLFxuICAgICAgY2FuU29ydDogZGVmYXVsdENvbHVtbkNhblNvcnQsXG4gICAgICBkaXNhYmxlU29ydEJ5OiBjb2x1bW5EaXNhYmxlU29ydEJ5LFxuICAgICAgaWQsXG4gICAgfSA9IGNvbHVtblxuXG4gICAgY29uc3QgY2FuU29ydCA9IGFjY2Vzc29yXG4gICAgICA/IGdldEZpcnN0RGVmaW5lZChcbiAgICAgICAgICBjb2x1bW5EaXNhYmxlU29ydEJ5ID09PSB0cnVlID8gZmFsc2UgOiB1bmRlZmluZWQsXG4gICAgICAgICAgZGlzYWJsZVNvcnRCeSA9PT0gdHJ1ZSA/IGZhbHNlIDogdW5kZWZpbmVkLFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKVxuICAgICAgOiBnZXRGaXJzdERlZmluZWQoZGVmYXVsdENhblNvcnQsIGRlZmF1bHRDb2x1bW5DYW5Tb3J0LCBmYWxzZSlcblxuICAgIGNvbHVtbi5jYW5Tb3J0ID0gY2FuU29ydFxuXG4gICAgaWYgKGNvbHVtbi5jYW5Tb3J0KSB7XG4gICAgICBjb2x1bW4udG9nZ2xlU29ydEJ5ID0gKGRlc2MsIG11bHRpKSA9PlxuICAgICAgICB0b2dnbGVTb3J0QnkoY29sdW1uLmlkLCBkZXNjLCBtdWx0aSlcblxuICAgICAgY29sdW1uLmNsZWFyU29ydEJ5ID0gKCkgPT4ge1xuICAgICAgICBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvbnMuY2xlYXJTb3J0QnksIGNvbHVtbklkOiBjb2x1bW4uaWQgfSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb2x1bW4uZ2V0U29ydEJ5VG9nZ2xlUHJvcHMgPSBtYWtlUHJvcEdldHRlcihnZXRTb3J0QnlUb2dnbGVQcm9wc0hvb2tzKCksIHtcbiAgICAgIGluc3RhbmNlOiBnZXRJbnN0YW5jZSgpLFxuICAgICAgY29sdW1uLFxuICAgIH0pXG5cbiAgICBjb25zdCBjb2x1bW5Tb3J0ID0gc29ydEJ5LmZpbmQoZCA9PiBkLmlkID09PSBpZClcbiAgICBjb2x1bW4uaXNTb3J0ZWQgPSAhIWNvbHVtblNvcnRcbiAgICBjb2x1bW4uc29ydGVkSW5kZXggPSBzb3J0QnkuZmluZEluZGV4KGQgPT4gZC5pZCA9PT0gaWQpXG4gICAgY29sdW1uLmlzU29ydGVkRGVzYyA9IGNvbHVtbi5pc1NvcnRlZCA/IGNvbHVtblNvcnQuZGVzYyA6IHVuZGVmaW5lZFxuICB9KVxuXG4gIGNvbnN0IHNvcnRlZFJvd3MgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICBpZiAobWFudWFsU29ydEJ5IHx8ICFzb3J0QnkubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gcm93c1xuICAgIH1cblxuICAgIC8vIEZpbHRlciBvdXQgc29ydEJ5cyB0aGF0IGNvcnJlc3BvbmQgdG8gbm9uIGV4aXN0aW5nIGNvbHVtbnNcbiAgICBjb25zdCBhdmFpbGFibGVTb3J0QnkgPSBzb3J0QnkuZmlsdGVyKHNvcnQgPT5cbiAgICAgIGZsYXRDb2x1bW5zLmZpbmQoY29sID0+IGNvbC5pZCA9PT0gc29ydC5pZClcbiAgICApXG5cbiAgICBjb25zdCBzb3J0RGF0YSA9IHJvd3MgPT4ge1xuICAgICAgLy8gVXNlIHRoZSBvcmRlckJ5Rm4gdG8gY29tcG9zZSBtdWx0aXBsZSBzb3J0QnkncyB0b2dldGhlci5cbiAgICAgIC8vIFRoaXMgd2lsbCBhbHNvIHBlcmZvcm0gYSBzdGFibGUgc29ydGluZyB1c2luZyB0aGUgcm93IGluZGV4XG4gICAgICAvLyBpZiBuZWVkZWQuXG4gICAgICBjb25zdCBzb3J0ZWREYXRhID0gb3JkZXJCeUZuKFxuICAgICAgICByb3dzLFxuICAgICAgICBhdmFpbGFibGVTb3J0QnkubWFwKHNvcnQgPT4ge1xuICAgICAgICAgIC8vIFN1cHBvcnQgY3VzdG9tIHNvcnRpbmcgbWV0aG9kcyBmb3IgZWFjaCBjb2x1bW5cbiAgICAgICAgICBjb25zdCBjb2x1bW4gPSBmbGF0Q29sdW1ucy5maW5kKGQgPT4gZC5pZCA9PT0gc29ydC5pZClcblxuICAgICAgICAgIGlmICghY29sdW1uKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgIGBSZWFjdC1UYWJsZTogQ291bGQgbm90IGZpbmQgYSBjb2x1bW4gd2l0aCBpZDogJHtzb3J0LmlkfSB3aGlsZSBzb3J0aW5nYFxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IHsgc29ydFR5cGUgfSA9IGNvbHVtblxuXG4gICAgICAgICAgLy8gTG9vayB1cCBzb3J0QnkgZnVuY3Rpb25zIGluIHRoaXMgb3JkZXI6XG4gICAgICAgICAgLy8gY29sdW1uIGZ1bmN0aW9uXG4gICAgICAgICAgLy8gY29sdW1uIHN0cmluZyBsb29rdXAgb24gdXNlciBzb3J0VHlwZVxuICAgICAgICAgIC8vIGNvbHVtbiBzdHJpbmcgbG9va3VwIG9uIGJ1aWx0LWluIHNvcnRUeXBlXG4gICAgICAgICAgLy8gZGVmYXVsdCBmdW5jdGlvblxuICAgICAgICAgIC8vIGRlZmF1bHQgc3RyaW5nIGxvb2t1cCBvbiB1c2VyIHNvcnRUeXBlXG4gICAgICAgICAgLy8gZGVmYXVsdCBzdHJpbmcgbG9va3VwIG9uIGJ1aWx0LWluIHNvcnRUeXBlXG4gICAgICAgICAgY29uc3Qgc29ydE1ldGhvZCA9XG4gICAgICAgICAgICBpc0Z1bmN0aW9uKHNvcnRUeXBlKSB8fFxuICAgICAgICAgICAgKHVzZXJTb3J0VHlwZXMgfHwge30pW3NvcnRUeXBlXSB8fFxuICAgICAgICAgICAgc29ydFR5cGVzW3NvcnRUeXBlXVxuXG4gICAgICAgICAgaWYgKCFzb3J0TWV0aG9kKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgIGBSZWFjdC1UYWJsZTogQ291bGQgbm90IGZpbmQgYSB2YWxpZCBzb3J0VHlwZSBvZiAnJHtzb3J0VHlwZX0nIGZvciBjb2x1bW4gJyR7c29ydC5pZH0nLmBcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBSZXR1cm4gdGhlIGNvcnJlY3Qgc29ydEZuLlxuICAgICAgICAgIC8vIFRoaXMgZnVuY3Rpb24gc2hvdWxkIGFsd2F5cyByZXR1cm4gaW4gYXNjZW5kaW5nIG9yZGVyXG4gICAgICAgICAgcmV0dXJuIChhLCBiKSA9PiBzb3J0TWV0aG9kKGEsIGIsIHNvcnQuaWQpXG4gICAgICAgIH0pLFxuICAgICAgICAvLyBNYXAgdGhlIGRpcmVjdGlvbnNcbiAgICAgICAgYXZhaWxhYmxlU29ydEJ5Lm1hcChzb3J0ID0+IHtcbiAgICAgICAgICAvLyBEZXRlY3QgYW5kIHVzZSB0aGUgc29ydEludmVydGVkIG9wdGlvblxuICAgICAgICAgIGNvbnN0IGNvbHVtbiA9IGZsYXRDb2x1bW5zLmZpbmQoZCA9PiBkLmlkID09PSBzb3J0LmlkKVxuXG4gICAgICAgICAgaWYgKGNvbHVtbiAmJiBjb2x1bW4uc29ydEludmVydGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gc29ydC5kZXNjXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuICFzb3J0LmRlc2NcbiAgICAgICAgfSlcbiAgICAgIClcblxuICAgICAgLy8gSWYgdGhlcmUgYXJlIHN1Yi1yb3dzLCBzb3J0IHRoZW1cbiAgICAgIHNvcnRlZERhdGEuZm9yRWFjaChyb3cgPT4ge1xuICAgICAgICBpZiAoIXJvdy5zdWJSb3dzIHx8IHJvdy5zdWJSb3dzLmxlbmd0aCA8PSAxKSB7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgcm93LnN1YlJvd3MgPSBzb3J0RGF0YShyb3cuc3ViUm93cylcbiAgICAgIH0pXG5cbiAgICAgIHJldHVybiBzb3J0ZWREYXRhXG4gICAgfVxuXG4gICAgcmV0dXJuIHNvcnREYXRhKHJvd3MpXG4gIH0sIFttYW51YWxTb3J0QnksIHNvcnRCeSwgcm93cywgZmxhdENvbHVtbnMsIG9yZGVyQnlGbiwgdXNlclNvcnRUeXBlc10pXG5cbiAgY29uc3QgZ2V0QXV0b1Jlc2V0U29ydEJ5ID0gdXNlR2V0TGF0ZXN0KGF1dG9SZXNldFNvcnRCeSlcblxuICB1c2VNb3VudGVkTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZ2V0QXV0b1Jlc2V0U29ydEJ5KCkpIHtcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogYWN0aW9ucy5yZXNldFNvcnRCeSB9KVxuICAgIH1cbiAgfSwgW21hbnVhbFNvcnRCeSA/IG51bGwgOiBkYXRhXSlcblxuICBPYmplY3QuYXNzaWduKGluc3RhbmNlLCB7XG4gICAgcHJlU29ydGVkUm93czogcm93cyxcbiAgICBzb3J0ZWRSb3dzLFxuICAgIHJvd3M6IHNvcnRlZFJvd3MsXG4gICAgdG9nZ2xlU29ydEJ5LFxuICB9KVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuXG4vL1xuXG5pbXBvcnQge1xuICBhY3Rpb25zLFxuICBlbnN1cmVQbHVnaW5PcmRlcixcbiAgZXhwYW5kUm93cyxcbiAgZnVuY3Rpb25hbFVwZGF0ZSxcbiAgdXNlTW91bnRlZExheW91dEVmZmVjdCxcbiAgdXNlR2V0TGF0ZXN0LFxufSBmcm9tICcuLi91dGlscydcblxuY29uc3QgcGx1Z2luTmFtZSA9ICd1c2VQYWdpbmF0aW9uJ1xuXG4vLyBBY3Rpb25zXG5hY3Rpb25zLnJlc2V0UGFnZSA9ICdyZXNldFBhZ2UnXG5hY3Rpb25zLmdvdG9QYWdlID0gJ2dvdG9QYWdlJ1xuYWN0aW9ucy5zZXRQYWdlU2l6ZSA9ICdzZXRQYWdlU2l6ZSdcblxuZXhwb3J0IGNvbnN0IHVzZVBhZ2luYXRpb24gPSBob29rcyA9PiB7XG4gIGhvb2tzLnN0YXRlUmVkdWNlcnMucHVzaChyZWR1Y2VyKVxuICBob29rcy51c2VJbnN0YW5jZS5wdXNoKHVzZUluc3RhbmNlKVxufVxuXG51c2VQYWdpbmF0aW9uLnBsdWdpbk5hbWUgPSBwbHVnaW5OYW1lXG5cbmZ1bmN0aW9uIHJlZHVjZXIoc3RhdGUsIGFjdGlvbiwgcHJldmlvdXNTdGF0ZSwgaW5zdGFuY2UpIHtcbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLmluaXQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcGFnZVNpemU6IDEwLFxuICAgICAgcGFnZUluZGV4OiAwLFxuICAgICAgLi4uc3RhdGUsXG4gICAgfVxuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLnJlc2V0UGFnZSkge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIHBhZ2VJbmRleDogaW5zdGFuY2UuaW5pdGlhbFN0YXRlLnBhZ2VJbmRleCB8fCAwLFxuICAgIH1cbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5nb3RvUGFnZSkge1xuICAgIGNvbnN0IHsgcGFnZUNvdW50IH0gPSBpbnN0YW5jZVxuICAgIGNvbnN0IG5ld1BhZ2VJbmRleCA9IGZ1bmN0aW9uYWxVcGRhdGUoYWN0aW9uLnBhZ2VJbmRleCwgc3RhdGUucGFnZUluZGV4KVxuXG4gICAgaWYgKG5ld1BhZ2VJbmRleCA8IDAgfHwgbmV3UGFnZUluZGV4ID4gcGFnZUNvdW50IC0gMSkge1xuICAgICAgcmV0dXJuIHN0YXRlXG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIHBhZ2VJbmRleDogbmV3UGFnZUluZGV4LFxuICAgIH1cbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5zZXRQYWdlU2l6ZSkge1xuICAgIGNvbnN0IHsgcGFnZVNpemUgfSA9IGFjdGlvblxuICAgIGNvbnN0IHRvcFJvd0luZGV4ID0gc3RhdGUucGFnZVNpemUgKiBzdGF0ZS5wYWdlSW5kZXhcbiAgICBjb25zdCBwYWdlSW5kZXggPSBNYXRoLmZsb29yKHRvcFJvd0luZGV4IC8gcGFnZVNpemUpXG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBwYWdlSW5kZXgsXG4gICAgICBwYWdlU2l6ZSxcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdXNlSW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgY29uc3Qge1xuICAgIHJvd3MsXG4gICAgYXV0b1Jlc2V0UGFnZSA9IHRydWUsXG4gICAgbWFudWFsRXhwYW5kZWRLZXkgPSAnZXhwYW5kZWQnLFxuICAgIHBsdWdpbnMsXG4gICAgcGFnZUNvdW50OiB1c2VyUGFnZUNvdW50LFxuICAgIHBhZ2luYXRlRXhwYW5kZWRSb3dzID0gdHJ1ZSxcbiAgICBleHBhbmRTdWJSb3dzID0gdHJ1ZSxcbiAgICBzdGF0ZTogeyBwYWdlU2l6ZSwgcGFnZUluZGV4LCBleHBhbmRlZCwgZmlsdGVycywgZ3JvdXBCeSwgc29ydEJ5IH0sXG4gICAgZGlzcGF0Y2gsXG4gICAgZGF0YSxcbiAgICBtYW51YWxQYWdpbmF0aW9uLFxuICAgIG1hbnVhbEZpbHRlcnMsXG4gICAgbWFudWFsR3JvdXBCeSxcbiAgICBtYW51YWxTb3J0QnksXG4gIH0gPSBpbnN0YW5jZVxuXG4gIGVuc3VyZVBsdWdpbk9yZGVyKFxuICAgIHBsdWdpbnMsXG4gICAgWyd1c2VGaWx0ZXJzJywgJ3VzZUdyb3VwQnknLCAndXNlU29ydEJ5JywgJ3VzZUV4cGFuZGVkJ10sXG4gICAgJ3VzZVBhZ2luYXRpb24nLFxuICAgIFtdXG4gIClcblxuICBjb25zdCBnZXRBdXRvUmVzZXRQYWdlID0gdXNlR2V0TGF0ZXN0KGF1dG9SZXNldFBhZ2UpXG5cbiAgdXNlTW91bnRlZExheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGdldEF1dG9SZXNldFBhZ2UoKSkge1xuICAgICAgZGlzcGF0Y2goeyB0eXBlOiBhY3Rpb25zLnJlc2V0UGFnZSB9KVxuICAgIH1cbiAgfSwgW1xuICAgIGRpc3BhdGNoLFxuICAgIG1hbnVhbFBhZ2luYXRpb24gPyBudWxsIDogZGF0YSxcbiAgICBtYW51YWxQYWdpbmF0aW9uIHx8IG1hbnVhbEZpbHRlcnMgPyBudWxsIDogZmlsdGVycyxcbiAgICBtYW51YWxQYWdpbmF0aW9uIHx8IG1hbnVhbEdyb3VwQnkgPyBudWxsIDogZ3JvdXBCeSxcbiAgICBtYW51YWxQYWdpbmF0aW9uIHx8IG1hbnVhbFNvcnRCeSA/IG51bGwgOiBzb3J0QnksXG4gIF0pXG5cbiAgY29uc3QgcGFnZUNvdW50ID0gbWFudWFsUGFnaW5hdGlvblxuICAgID8gdXNlclBhZ2VDb3VudFxuICAgIDogTWF0aC5jZWlsKHJvd3MubGVuZ3RoIC8gcGFnZVNpemUpXG5cbiAgY29uc3QgcGFnZU9wdGlvbnMgPSBSZWFjdC51c2VNZW1vKFxuICAgICgpID0+IChwYWdlQ291bnQgPiAwID8gWy4uLm5ldyBBcnJheShwYWdlQ291bnQpXS5tYXAoKGQsIGkpID0+IGkpIDogW10pLFxuICAgIFtwYWdlQ291bnRdXG4gIClcblxuICBjb25zdCBwYWdlID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgbGV0IHBhZ2VcblxuICAgIGlmIChtYW51YWxQYWdpbmF0aW9uKSB7XG4gICAgICBwYWdlID0gcm93c1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBwYWdlU3RhcnQgPSBwYWdlU2l6ZSAqIHBhZ2VJbmRleFxuICAgICAgY29uc3QgcGFnZUVuZCA9IHBhZ2VTdGFydCArIHBhZ2VTaXplXG5cbiAgICAgIHBhZ2UgPSByb3dzLnNsaWNlKHBhZ2VTdGFydCwgcGFnZUVuZClcbiAgICB9XG5cbiAgICBpZiAocGFnaW5hdGVFeHBhbmRlZFJvd3MpIHtcbiAgICAgIHJldHVybiBwYWdlXG4gICAgfVxuXG4gICAgcmV0dXJuIGV4cGFuZFJvd3MocGFnZSwgeyBtYW51YWxFeHBhbmRlZEtleSwgZXhwYW5kZWQsIGV4cGFuZFN1YlJvd3MgfSlcbiAgfSwgW1xuICAgIGV4cGFuZFN1YlJvd3MsXG4gICAgZXhwYW5kZWQsXG4gICAgbWFudWFsRXhwYW5kZWRLZXksXG4gICAgbWFudWFsUGFnaW5hdGlvbixcbiAgICBwYWdlSW5kZXgsXG4gICAgcGFnZVNpemUsXG4gICAgcGFnaW5hdGVFeHBhbmRlZFJvd3MsXG4gICAgcm93cyxcbiAgXSlcblxuICBjb25zdCBjYW5QcmV2aW91c1BhZ2UgPSBwYWdlSW5kZXggPiAwXG4gIGNvbnN0IGNhbk5leHRQYWdlID0gcGFnZUNvdW50ID09PSAtMSB8fCBwYWdlSW5kZXggPCBwYWdlQ291bnQgLSAxXG5cbiAgY29uc3QgZ290b1BhZ2UgPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICBwYWdlSW5kZXggPT4ge1xuICAgICAgZGlzcGF0Y2goeyB0eXBlOiBhY3Rpb25zLmdvdG9QYWdlLCBwYWdlSW5kZXggfSlcbiAgICB9LFxuICAgIFtkaXNwYXRjaF1cbiAgKVxuXG4gIGNvbnN0IHByZXZpb3VzUGFnZSA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICByZXR1cm4gZ290b1BhZ2Uob2xkID0+IG9sZCAtIDEpXG4gIH0sIFtnb3RvUGFnZV0pXG5cbiAgY29uc3QgbmV4dFBhZ2UgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgcmV0dXJuIGdvdG9QYWdlKG9sZCA9PiBvbGQgKyAxKVxuICB9LCBbZ290b1BhZ2VdKVxuXG4gIGNvbnN0IHNldFBhZ2VTaXplID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgcGFnZVNpemUgPT4ge1xuICAgICAgZGlzcGF0Y2goeyB0eXBlOiBhY3Rpb25zLnNldFBhZ2VTaXplLCBwYWdlU2l6ZSB9KVxuICAgIH0sXG4gICAgW2Rpc3BhdGNoXVxuICApXG5cbiAgT2JqZWN0LmFzc2lnbihpbnN0YW5jZSwge1xuICAgIHBhZ2VPcHRpb25zLFxuICAgIHBhZ2VDb3VudCxcbiAgICBwYWdlLFxuICAgIGNhblByZXZpb3VzUGFnZSxcbiAgICBjYW5OZXh0UGFnZSxcbiAgICBnb3RvUGFnZSxcbiAgICBwcmV2aW91c1BhZ2UsXG4gICAgbmV4dFBhZ2UsXG4gICAgc2V0UGFnZVNpemUsXG4gIH0pXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5cbmltcG9ydCB7XG4gIGFjdGlvbnMsXG4gIG1ha2VQcm9wR2V0dGVyLFxuICBlbnN1cmVQbHVnaW5PcmRlcixcbiAgdXNlR2V0TGF0ZXN0LFxuICB1c2VNb3VudGVkTGF5b3V0RWZmZWN0LFxuICB1c2VDb25zdW1lSG9va0dldHRlcixcbn0gZnJvbSAnLi4vdXRpbHMnXG5cbmNvbnN0IHBsdWdpbk5hbWUgPSAndXNlUm93U2VsZWN0J1xuXG4vLyBBY3Rpb25zXG5hY3Rpb25zLnJlc2V0U2VsZWN0ZWRSb3dzID0gJ3Jlc2V0U2VsZWN0ZWRSb3dzJ1xuYWN0aW9ucy50b2dnbGVBbGxSb3dzU2VsZWN0ZWQgPSAndG9nZ2xlQWxsUm93c1NlbGVjdGVkJ1xuYWN0aW9ucy50b2dnbGVSb3dTZWxlY3RlZCA9ICd0b2dnbGVSb3dTZWxlY3RlZCdcblxuZXhwb3J0IGNvbnN0IHVzZVJvd1NlbGVjdCA9IGhvb2tzID0+IHtcbiAgaG9va3MuZ2V0VG9nZ2xlUm93U2VsZWN0ZWRQcm9wcyA9IFtkZWZhdWx0R2V0VG9nZ2xlUm93U2VsZWN0ZWRQcm9wc11cbiAgaG9va3MuZ2V0VG9nZ2xlQWxsUm93c1NlbGVjdGVkUHJvcHMgPSBbZGVmYXVsdEdldFRvZ2dsZUFsbFJvd3NTZWxlY3RlZFByb3BzXVxuICBob29rcy5zdGF0ZVJlZHVjZXJzLnB1c2gocmVkdWNlcilcbiAgaG9va3MudXNlUm93cy5wdXNoKHVzZVJvd3MpXG4gIGhvb2tzLnVzZUluc3RhbmNlLnB1c2godXNlSW5zdGFuY2UpXG59XG5cbnVzZVJvd1NlbGVjdC5wbHVnaW5OYW1lID0gcGx1Z2luTmFtZVxuXG5jb25zdCBkZWZhdWx0R2V0VG9nZ2xlUm93U2VsZWN0ZWRQcm9wcyA9IChwcm9wcywgeyBpbnN0YW5jZSwgcm93IH0pID0+IHtcbiAgY29uc3QgeyBtYW51YWxSb3dTZWxlY3RlZEtleSA9ICdpc1NlbGVjdGVkJyB9ID0gaW5zdGFuY2VcbiAgbGV0IGNoZWNrZWQgPSBmYWxzZVxuXG4gIGlmIChyb3cub3JpZ2luYWwgJiYgcm93Lm9yaWdpbmFsW21hbnVhbFJvd1NlbGVjdGVkS2V5XSkge1xuICAgIGNoZWNrZWQgPSB0cnVlXG4gIH0gZWxzZSB7XG4gICAgY2hlY2tlZCA9IHJvdy5pc1NlbGVjdGVkXG4gIH1cblxuICByZXR1cm4gW1xuICAgIHByb3BzLFxuICAgIHtcbiAgICAgIG9uQ2hhbmdlOiBlID0+IHtcbiAgICAgICAgcm93LnRvZ2dsZVJvd1NlbGVjdGVkKGUudGFyZ2V0LmNoZWNrZWQpXG4gICAgICB9LFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICB9LFxuICAgICAgY2hlY2tlZCxcbiAgICAgIHRpdGxlOiAnVG9nZ2xlIFJvdyBTZWxlY3RlZCcsXG4gICAgICBpbmRldGVybWluYXRlOiByb3cuaXNTb21lU2VsZWN0ZWQsXG4gICAgfSxcbiAgXVxufVxuXG5jb25zdCBkZWZhdWx0R2V0VG9nZ2xlQWxsUm93c1NlbGVjdGVkUHJvcHMgPSAocHJvcHMsIHsgaW5zdGFuY2UgfSkgPT4gW1xuICBwcm9wcyxcbiAge1xuICAgIG9uQ2hhbmdlOiBlID0+IHtcbiAgICAgIGluc3RhbmNlLnRvZ2dsZUFsbFJvd3NTZWxlY3RlZChlLnRhcmdldC5jaGVja2VkKVxuICAgIH0sXG4gICAgc3R5bGU6IHtcbiAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgIH0sXG4gICAgY2hlY2tlZDogaW5zdGFuY2UuaXNBbGxSb3dzU2VsZWN0ZWQsXG4gICAgdGl0bGU6ICdUb2dnbGUgQWxsIFJvd3MgU2VsZWN0ZWQnLFxuICAgIGluZGV0ZXJtaW5hdGU6IEJvb2xlYW4oXG4gICAgICAhaW5zdGFuY2UuaXNBbGxSb3dzU2VsZWN0ZWQgJiZcbiAgICAgICAgT2JqZWN0LmtleXMoaW5zdGFuY2Uuc3RhdGUuc2VsZWN0ZWRSb3dJZHMpLmxlbmd0aFxuICAgICksXG4gIH0sXG5dXG5cbmZ1bmN0aW9uIHJlZHVjZXIoc3RhdGUsIGFjdGlvbiwgcHJldmlvdXNTdGF0ZSwgaW5zdGFuY2UpIHtcbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLmluaXQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2VsZWN0ZWRSb3dJZHM6IHt9LFxuICAgICAgLi4uc3RhdGUsXG4gICAgfVxuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLnJlc2V0U2VsZWN0ZWRSb3dzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgc2VsZWN0ZWRSb3dJZHM6IGluc3RhbmNlLmluaXRpYWxTdGF0ZS5zZWxlY3RlZFJvd0lkcyB8fCB7fSxcbiAgICB9XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMudG9nZ2xlQWxsUm93c1NlbGVjdGVkKSB7XG4gICAgY29uc3QgeyBzZWxlY3RlZCB9ID0gYWN0aW9uXG4gICAgY29uc3QgeyBpc0FsbFJvd3NTZWxlY3RlZCwgZmxhdFJvd3NCeUlkIH0gPSBpbnN0YW5jZVxuXG4gICAgY29uc3Qgc2VsZWN0QWxsID1cbiAgICAgIHR5cGVvZiBzZWxlY3RlZCAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxlY3RlZCA6ICFpc0FsbFJvd3NTZWxlY3RlZFxuXG4gICAgaWYgKHNlbGVjdEFsbCkge1xuICAgICAgY29uc3Qgc2VsZWN0ZWRSb3dJZHMgPSB7fVxuXG4gICAgICBPYmplY3Qua2V5cyhmbGF0Um93c0J5SWQpLmZvckVhY2gocm93SWQgPT4ge1xuICAgICAgICBzZWxlY3RlZFJvd0lkc1tyb3dJZF0gPSB0cnVlXG4gICAgICB9KVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgc2VsZWN0ZWRSb3dJZHMsXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgc2VsZWN0ZWRSb3dJZHM6IHt9LFxuICAgIH1cbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy50b2dnbGVSb3dTZWxlY3RlZCkge1xuICAgIGNvbnN0IHsgaWQsIHNlbGVjdGVkIH0gPSBhY3Rpb25cbiAgICBjb25zdCB7IGZsYXRHcm91cGVkUm93c0J5SWQgfSA9IGluc3RhbmNlXG5cbiAgICAvLyBKb2luIHRoZSBpZHMgb2YgZGVlcCByb3dzXG4gICAgLy8gdG8gbWFrZSBhIGtleSwgdGhlbiBtYW5hZ2UgYWxsIG9mIHRoZSBrZXlzXG4gICAgLy8gaW4gYSBmbGF0IG9iamVjdFxuICAgIGNvbnN0IHJvdyA9IGZsYXRHcm91cGVkUm93c0J5SWRbaWRdXG4gICAgY29uc3QgaXNTZWxlY3RlZCA9IHJvdy5pc1NlbGVjdGVkXG4gICAgY29uc3Qgc2hvdWxkRXhpc3QgPSB0eXBlb2Ygc2VsZWN0ZWQgIT09ICd1bmRlZmluZWQnID8gc2VsZWN0ZWQgOiAhaXNTZWxlY3RlZFxuXG4gICAgaWYgKGlzU2VsZWN0ZWQgPT09IHNob3VsZEV4aXN0KSB7XG4gICAgICByZXR1cm4gc3RhdGVcbiAgICB9XG5cbiAgICBsZXQgbmV3U2VsZWN0ZWRSb3dJZHMgPSB7IC4uLnN0YXRlLnNlbGVjdGVkUm93SWRzIH1cblxuICAgIGNvbnN0IGhhbmRsZVJvd0J5SWQgPSBpZCA9PiB7XG4gICAgICBjb25zdCByb3cgPSBmbGF0R3JvdXBlZFJvd3NCeUlkW2lkXVxuXG4gICAgICBpZiAoIXJvdy5pc0dyb3VwZWQpIHtcbiAgICAgICAgaWYgKCFpc1NlbGVjdGVkICYmIHNob3VsZEV4aXN0KSB7XG4gICAgICAgICAgbmV3U2VsZWN0ZWRSb3dJZHNbaWRdID0gdHJ1ZVxuICAgICAgICB9IGVsc2UgaWYgKGlzU2VsZWN0ZWQgJiYgIXNob3VsZEV4aXN0KSB7XG4gICAgICAgICAgZGVsZXRlIG5ld1NlbGVjdGVkUm93SWRzW2lkXVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChyb3cuc3ViUm93cykge1xuICAgICAgICByZXR1cm4gcm93LnN1YlJvd3MuZm9yRWFjaChyb3cgPT4gaGFuZGxlUm93QnlJZChyb3cuaWQpKVxuICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZVJvd0J5SWQoaWQpXG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBzZWxlY3RlZFJvd0lkczogbmV3U2VsZWN0ZWRSb3dJZHMsXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHVzZVJvd3Mocm93cywgeyBpbnN0YW5jZSB9KSB7XG4gIGNvbnN0IHtcbiAgICBzdGF0ZTogeyBzZWxlY3RlZFJvd0lkcyB9LFxuICB9ID0gaW5zdGFuY2VcblxuICBpbnN0YW5jZS5zZWxlY3RlZEZsYXRSb3dzID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3Qgc2VsZWN0ZWRGbGF0Um93cyA9IFtdXG5cbiAgICByb3dzLmZvckVhY2gocm93ID0+IHtcbiAgICAgIGNvbnN0IGlzU2VsZWN0ZWQgPSBnZXRSb3dJc1NlbGVjdGVkKHJvdywgc2VsZWN0ZWRSb3dJZHMpXG4gICAgICByb3cuaXNTZWxlY3RlZCA9ICEhaXNTZWxlY3RlZFxuICAgICAgcm93LmlzU29tZVNlbGVjdGVkID0gaXNTZWxlY3RlZCA9PT0gbnVsbFxuXG4gICAgICBpZiAoaXNTZWxlY3RlZCkge1xuICAgICAgICBzZWxlY3RlZEZsYXRSb3dzLnB1c2gocm93KVxuICAgICAgfVxuICAgIH0pXG5cbiAgICByZXR1cm4gc2VsZWN0ZWRGbGF0Um93c1xuICB9LCBbcm93cywgc2VsZWN0ZWRSb3dJZHNdKVxuXG4gIHJldHVybiByb3dzXG59XG5cbmZ1bmN0aW9uIHVzZUluc3RhbmNlKGluc3RhbmNlKSB7XG4gIGNvbnN0IHtcbiAgICBkYXRhLFxuICAgIGhvb2tzLFxuICAgIHBsdWdpbnMsXG4gICAgZmxhdFJvd3MsXG4gICAgYXV0b1Jlc2V0U2VsZWN0ZWRSb3dzID0gdHJ1ZSxcbiAgICBzdGF0ZTogeyBzZWxlY3RlZFJvd0lkcyB9LFxuICAgIGRpc3BhdGNoLFxuICB9ID0gaW5zdGFuY2VcblxuICBlbnN1cmVQbHVnaW5PcmRlcihcbiAgICBwbHVnaW5zLFxuICAgIFsndXNlRmlsdGVycycsICd1c2VHcm91cEJ5JywgJ3VzZVNvcnRCeSddLFxuICAgICd1c2VSb3dTZWxlY3QnLFxuICAgIFtdXG4gIClcblxuICBjb25zdCBbZmxhdFJvd3NCeUlkLCBmbGF0R3JvdXBlZFJvd3NCeUlkXSA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IGFsbCA9IHt9XG4gICAgY29uc3QgZ3JvdXBlZCA9IHt9XG5cbiAgICBmbGF0Um93cy5mb3JFYWNoKHJvdyA9PiB7XG4gICAgICBpZiAoIXJvdy5pc0dyb3VwZWQpIHtcbiAgICAgICAgYWxsW3Jvdy5pZF0gPSByb3dcbiAgICAgIH1cbiAgICAgIGdyb3VwZWRbcm93LmlkXSA9IHJvd1xuICAgIH0pXG5cbiAgICByZXR1cm4gW2FsbCwgZ3JvdXBlZF1cbiAgfSwgW2ZsYXRSb3dzXSlcblxuICBsZXQgaXNBbGxSb3dzU2VsZWN0ZWQgPSBCb29sZWFuKFxuICAgIE9iamVjdC5rZXlzKGZsYXRSb3dzQnlJZCkubGVuZ3RoICYmIE9iamVjdC5rZXlzKHNlbGVjdGVkUm93SWRzKS5sZW5ndGhcbiAgKVxuXG4gIGlmIChpc0FsbFJvd3NTZWxlY3RlZCkge1xuICAgIGlmIChPYmplY3Qua2V5cyhmbGF0Um93c0J5SWQpLnNvbWUoaWQgPT4gIXNlbGVjdGVkUm93SWRzW2lkXSkpIHtcbiAgICAgIGlzQWxsUm93c1NlbGVjdGVkID0gZmFsc2VcbiAgICB9XG4gIH1cblxuICBjb25zdCBnZXRBdXRvUmVzZXRTZWxlY3RlZFJvd3MgPSB1c2VHZXRMYXRlc3QoYXV0b1Jlc2V0U2VsZWN0ZWRSb3dzKVxuXG4gIHVzZU1vdW50ZWRMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChnZXRBdXRvUmVzZXRTZWxlY3RlZFJvd3MoKSkge1xuICAgICAgZGlzcGF0Y2goeyB0eXBlOiBhY3Rpb25zLnJlc2V0U2VsZWN0ZWRSb3dzIH0pXG4gICAgfVxuICB9LCBbZGlzcGF0Y2gsIGRhdGFdKVxuXG4gIGNvbnN0IHRvZ2dsZUFsbFJvd3NTZWxlY3RlZCA9IHNlbGVjdGVkID0+XG4gICAgZGlzcGF0Y2goeyB0eXBlOiBhY3Rpb25zLnRvZ2dsZUFsbFJvd3NTZWxlY3RlZCwgc2VsZWN0ZWQgfSlcblxuICBjb25zdCB0b2dnbGVSb3dTZWxlY3RlZCA9IChpZCwgc2VsZWN0ZWQpID0+XG4gICAgZGlzcGF0Y2goeyB0eXBlOiBhY3Rpb25zLnRvZ2dsZVJvd1NlbGVjdGVkLCBpZCwgc2VsZWN0ZWQgfSlcblxuICBjb25zdCBnZXRJbnN0YW5jZSA9IHVzZUdldExhdGVzdChpbnN0YW5jZSlcblxuICBjb25zdCBnZXRUb2dnbGVBbGxSb3dzU2VsZWN0ZWRQcm9wc0hvb2tzID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoXG4gICAgZ2V0SW5zdGFuY2UoKS5ob29rcyxcbiAgICAnZ2V0VG9nZ2xlQWxsUm93c1NlbGVjdGVkUHJvcHMnXG4gIClcblxuICBjb25zdCBnZXRUb2dnbGVBbGxSb3dzU2VsZWN0ZWRQcm9wcyA9IG1ha2VQcm9wR2V0dGVyKFxuICAgIGdldFRvZ2dsZUFsbFJvd3NTZWxlY3RlZFByb3BzSG9va3MoKSxcbiAgICB7IGluc3RhbmNlOiBnZXRJbnN0YW5jZSgpIH1cbiAgKVxuXG4gIGNvbnN0IGdldFRvZ2dsZVJvd1NlbGVjdGVkUHJvcHNIb29rcyA9IHVzZUNvbnN1bWVIb29rR2V0dGVyKFxuICAgIGdldEluc3RhbmNlKCkuaG9va3MsXG4gICAgJ2dldFRvZ2dsZVJvd1NlbGVjdGVkUHJvcHMnXG4gIClcblxuICBob29rcy5wcmVwYXJlUm93LnB1c2gocm93ID0+IHtcbiAgICByb3cudG9nZ2xlUm93U2VsZWN0ZWQgPSBzZXQgPT4gdG9nZ2xlUm93U2VsZWN0ZWQocm93LmlkLCBzZXQpXG5cbiAgICByb3cuZ2V0VG9nZ2xlUm93U2VsZWN0ZWRQcm9wcyA9IG1ha2VQcm9wR2V0dGVyKFxuICAgICAgZ2V0VG9nZ2xlUm93U2VsZWN0ZWRQcm9wc0hvb2tzKCksXG4gICAgICB7IGluc3RhbmNlOiBnZXRJbnN0YW5jZSgpLCByb3cgfVxuICAgIClcbiAgfSlcblxuICBPYmplY3QuYXNzaWduKGluc3RhbmNlLCB7XG4gICAgZmxhdFJvd3NCeUlkLFxuICAgIGZsYXRHcm91cGVkUm93c0J5SWQsXG4gICAgdG9nZ2xlUm93U2VsZWN0ZWQsXG4gICAgdG9nZ2xlQWxsUm93c1NlbGVjdGVkLFxuICAgIGdldFRvZ2dsZUFsbFJvd3NTZWxlY3RlZFByb3BzLFxuICAgIGlzQWxsUm93c1NlbGVjdGVkLFxuICB9KVxufVxuXG5mdW5jdGlvbiBnZXRSb3dJc1NlbGVjdGVkKHJvdywgc2VsZWN0ZWRSb3dJZHMpIHtcbiAgaWYgKHNlbGVjdGVkUm93SWRzW3Jvdy5pZF0pIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgaWYgKHJvdy5zdWJSb3dzICYmIHJvdy5zdWJSb3dzLmxlbmd0aCkge1xuICAgIGxldCBhbGxDaGlsZHJlblNlbGVjdGVkID0gdHJ1ZVxuICAgIGxldCBzb21lU2VsZWN0ZWQgPSBmYWxzZVxuXG4gICAgcm93LnN1YlJvd3MuZm9yRWFjaChzdWJSb3cgPT4ge1xuICAgICAgLy8gQmFpbCBvdXQgZWFybHkgaWYgd2Uga25vdyBib3RoIG9mIHRoZXNlXG4gICAgICBpZiAoc29tZVNlbGVjdGVkICYmICFhbGxDaGlsZHJlblNlbGVjdGVkKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBpZiAoZ2V0Um93SXNTZWxlY3RlZChzdWJSb3csIHNlbGVjdGVkUm93SWRzKSkge1xuICAgICAgICBzb21lU2VsZWN0ZWQgPSB0cnVlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbGxDaGlsZHJlblNlbGVjdGVkID0gZmFsc2VcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBhbGxDaGlsZHJlblNlbGVjdGVkID8gdHJ1ZSA6IHNvbWVTZWxlY3RlZCA/IG51bGwgOiBmYWxzZVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5cbmltcG9ydCB7XG4gIGFjdGlvbnMsXG4gIGZ1bmN0aW9uYWxVcGRhdGUsXG4gIHVzZU1vdW50ZWRMYXlvdXRFZmZlY3QsXG4gIHVzZUdldExhdGVzdCxcbn0gZnJvbSAnLi4vdXRpbHMnXG5cbi8vIEFjdGlvbnNcbmFjdGlvbnMuc2V0Um93U3RhdGUgPSAnc2V0Um93U3RhdGUnXG5hY3Rpb25zLnJlc2V0Um93U3RhdGUgPSAncmVzZXRSb3dTdGF0ZSdcblxuZXhwb3J0IGNvbnN0IHVzZVJvd1N0YXRlID0gaG9va3MgPT4ge1xuICBob29rcy5zdGF0ZVJlZHVjZXJzLnB1c2gocmVkdWNlcilcbiAgaG9va3MudXNlSW5zdGFuY2UucHVzaCh1c2VJbnN0YW5jZSlcbn1cblxudXNlUm93U3RhdGUucGx1Z2luTmFtZSA9ICd1c2VSb3dTdGF0ZSdcblxuZnVuY3Rpb24gcmVkdWNlcihzdGF0ZSwgYWN0aW9uLCBwcmV2aW91c1N0YXRlLCBpbnN0YW5jZSkge1xuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMuaW5pdCkge1xuICAgIHJldHVybiB7XG4gICAgICByb3dTdGF0ZToge30sXG4gICAgICAuLi5zdGF0ZSxcbiAgICB9XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMucmVzZXRSb3dTdGF0ZSkge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIHJvd1N0YXRlOiBpbnN0YW5jZS5pbml0aWFsU3RhdGUucm93U3RhdGUgfHwge30sXG4gICAgfVxuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLnNldFJvd1N0YXRlKSB7XG4gICAgY29uc3QgeyBpZCwgdmFsdWUgfSA9IGFjdGlvblxuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgcm93U3RhdGU6IHtcbiAgICAgICAgLi4uc3RhdGUucm93U3RhdGUsXG4gICAgICAgIFtpZF06IGZ1bmN0aW9uYWxVcGRhdGUodmFsdWUsIHN0YXRlLnJvd1N0YXRlW2lkXSB8fCB7fSksXG4gICAgICB9LFxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB1c2VJbnN0YW5jZShpbnN0YW5jZSkge1xuICBjb25zdCB7XG4gICAgaG9va3MsXG4gICAgaW5pdGlhbFJvd1N0YXRlQWNjZXNzb3IsXG4gICAgYXV0b1Jlc2V0Um93U3RhdGUgPSB0cnVlLFxuICAgIHN0YXRlOiB7IHJvd1N0YXRlIH0sXG4gICAgZGF0YSxcbiAgICBkaXNwYXRjaCxcbiAgfSA9IGluc3RhbmNlXG5cbiAgY29uc3Qgc2V0Um93U3RhdGUgPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAoaWQsIHZhbHVlLCBjb2x1bW5JZCkgPT5cbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogYWN0aW9ucy5zZXRSb3dTdGF0ZSxcbiAgICAgICAgaWQsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBjb2x1bW5JZCxcbiAgICAgIH0pLFxuICAgIFtkaXNwYXRjaF1cbiAgKVxuXG4gIGNvbnN0IHNldENlbGxTdGF0ZSA9IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgIChyb3dQYXRoLCBjb2x1bW5JZCwgdmFsdWUpID0+IHtcbiAgICAgIHJldHVybiBzZXRSb3dTdGF0ZShcbiAgICAgICAgcm93UGF0aCxcbiAgICAgICAgb2xkID0+IHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4ub2xkLFxuICAgICAgICAgICAgY2VsbFN0YXRlOiB7XG4gICAgICAgICAgICAgIC4uLm9sZC5jZWxsU3RhdGUsXG4gICAgICAgICAgICAgIFtjb2x1bW5JZF06IGZ1bmN0aW9uYWxVcGRhdGUoXG4gICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgKG9sZC5jZWxsU3RhdGUgfHwge30pW2NvbHVtbklkXSB8fCB7fVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGNvbHVtbklkXG4gICAgICApXG4gICAgfSxcbiAgICBbc2V0Um93U3RhdGVdXG4gIClcblxuICBob29rcy5wcmVwYXJlUm93LnB1c2gocm93ID0+IHtcbiAgICBpZiAocm93Lm9yaWdpbmFsKSB7XG4gICAgICByb3cuc3RhdGUgPVxuICAgICAgICAodHlwZW9mIHJvd1N0YXRlW3Jvdy5pZF0gIT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgPyByb3dTdGF0ZVtyb3cuaWRdXG4gICAgICAgICAgOiBpbml0aWFsUm93U3RhdGVBY2Nlc3NvciAmJiBpbml0aWFsUm93U3RhdGVBY2Nlc3Nvcihyb3cpKSB8fCB7fVxuXG4gICAgICByb3cuc2V0U3RhdGUgPSB1cGRhdGVyID0+IHtcbiAgICAgICAgcmV0dXJuIHNldFJvd1N0YXRlKHJvdy5pZCwgdXBkYXRlcilcbiAgICAgIH1cblxuICAgICAgcm93LmNlbGxzLmZvckVhY2goY2VsbCA9PiB7XG4gICAgICAgIGNlbGwuc3RhdGUgPSByb3cuc3RhdGUuY2VsbFN0YXRlIHx8IHt9XG5cbiAgICAgICAgY2VsbC5zZXRTdGF0ZSA9IHVwZGF0ZXIgPT4ge1xuICAgICAgICAgIHJldHVybiBzZXRDZWxsU3RhdGUocm93LmlkLCBjZWxsLmNvbHVtbi5pZCwgdXBkYXRlcilcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH0pXG5cbiAgY29uc3QgZ2V0QXV0b1Jlc2V0Um93U3RhdGUgPSB1c2VHZXRMYXRlc3QoYXV0b1Jlc2V0Um93U3RhdGUpXG5cbiAgdXNlTW91bnRlZExheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGdldEF1dG9SZXNldFJvd1N0YXRlKCkpIHtcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogYWN0aW9ucy5yZXNldFJvd1N0YXRlIH0pXG4gICAgfVxuICB9LCBbZGF0YV0pXG5cbiAgT2JqZWN0LmFzc2lnbihpbnN0YW5jZSwge1xuICAgIHNldFJvd1N0YXRlLFxuICAgIHNldENlbGxTdGF0ZSxcbiAgfSlcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHsgZnVuY3Rpb25hbFVwZGF0ZSwgYWN0aW9ucyB9IGZyb20gJy4uL3V0aWxzJ1xuXG4vLyBBY3Rpb25zXG5hY3Rpb25zLnJlc2V0Q29sdW1uT3JkZXIgPSAncmVzZXRDb2x1bW5PcmRlcidcbmFjdGlvbnMuc2V0Q29sdW1uT3JkZXIgPSAnc2V0Q29sdW1uT3JkZXInXG5cbmV4cG9ydCBjb25zdCB1c2VDb2x1bW5PcmRlciA9IGhvb2tzID0+IHtcbiAgaG9va3Muc3RhdGVSZWR1Y2Vycy5wdXNoKHJlZHVjZXIpXG4gIGhvb2tzLmZsYXRDb2x1bW5zRGVwcy5wdXNoKChkZXBzLCB7IGluc3RhbmNlIH0pID0+IHtcbiAgICByZXR1cm4gWy4uLmRlcHMsIGluc3RhbmNlLnN0YXRlLmNvbHVtbk9yZGVyXVxuICB9KVxuICBob29rcy5mbGF0Q29sdW1ucy5wdXNoKGZsYXRDb2x1bW5zKVxuICBob29rcy51c2VJbnN0YW5jZS5wdXNoKHVzZUluc3RhbmNlKVxufVxuXG51c2VDb2x1bW5PcmRlci5wbHVnaW5OYW1lID0gJ3VzZUNvbHVtbk9yZGVyJ1xuXG5mdW5jdGlvbiByZWR1Y2VyKHN0YXRlLCBhY3Rpb24sIHByZXZpb3VzU3RhdGUsIGluc3RhbmNlKSB7XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5pbml0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbHVtbk9yZGVyOiBbXSxcbiAgICAgIC4uLnN0YXRlLFxuICAgIH1cbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5yZXNldENvbHVtbk9yZGVyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgY29sdW1uT3JkZXI6IGluc3RhbmNlLmluaXRpYWxTdGF0ZS5jb2x1bW5PcmRlciB8fCBbXSxcbiAgICB9XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMuc2V0Q29sdW1uT3JkZXIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBjb2x1bW5PcmRlcjogZnVuY3Rpb25hbFVwZGF0ZShhY3Rpb24uY29sdW1uT3JkZXIsIHN0YXRlLmNvbHVtbk9yZGVyKSxcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZmxhdENvbHVtbnMoXG4gIGNvbHVtbnMsXG4gIHtcbiAgICBpbnN0YW5jZToge1xuICAgICAgc3RhdGU6IHsgY29sdW1uT3JkZXIgfSxcbiAgICB9LFxuICB9XG4pIHtcbiAgLy8gSWYgdGhlcmUgaXMgbm8gb3JkZXIsIHJldHVybiB0aGUgbm9ybWFsIGNvbHVtbnNcbiAgaWYgKCFjb2x1bW5PcmRlciB8fCAhY29sdW1uT3JkZXIubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGNvbHVtbnNcbiAgfVxuXG4gIGNvbnN0IGNvbHVtbk9yZGVyQ29weSA9IFsuLi5jb2x1bW5PcmRlcl1cblxuICAvLyBJZiB0aGVyZSBpcyBhbiBvcmRlciwgbWFrZSBhIGNvcHkgb2YgdGhlIGNvbHVtbnNcbiAgY29uc3QgY29sdW1uc0NvcHkgPSBbLi4uY29sdW1uc11cblxuICAvLyBBbmQgbWFrZSBhIG5ldyBvcmRlcmVkIGFycmF5IG9mIHRoZSBjb2x1bW5zXG4gIGNvbnN0IGNvbHVtbnNJbk9yZGVyID0gW11cblxuICAvLyBMb29wIG92ZXIgdGhlIGNvbHVtbnMgYW5kIHBsYWNlIHRoZW0gaW4gb3JkZXIgaW50byB0aGUgbmV3IGFycmF5XG4gIHdoaWxlIChjb2x1bW5zQ29weS5sZW5ndGggJiYgY29sdW1uT3JkZXJDb3B5Lmxlbmd0aCkge1xuICAgIGNvbnN0IHRhcmdldENvbHVtbklkID0gY29sdW1uT3JkZXJDb3B5LnNoaWZ0KClcbiAgICBjb25zdCBmb3VuZEluZGV4ID0gY29sdW1uc0NvcHkuZmluZEluZGV4KGQgPT4gZC5pZCA9PT0gdGFyZ2V0Q29sdW1uSWQpXG4gICAgaWYgKGZvdW5kSW5kZXggPiAtMSkge1xuICAgICAgY29sdW1uc0luT3JkZXIucHVzaChjb2x1bW5zQ29weS5zcGxpY2UoZm91bmRJbmRleCwgMSlbMF0pXG4gICAgfVxuICB9XG5cbiAgLy8gSWYgdGhlcmUgYXJlIGFueSBjb2x1bW5zIGxlZnQsIGFkZCB0aGVtIHRvIHRoZSBlbmRcbiAgcmV0dXJuIFsuLi5jb2x1bW5zSW5PcmRlciwgLi4uY29sdW1uc0NvcHldXG59XG5cbmZ1bmN0aW9uIHVzZUluc3RhbmNlKGluc3RhbmNlKSB7XG4gIGNvbnN0IHsgZGlzcGF0Y2ggfSA9IGluc3RhbmNlXG5cbiAgaW5zdGFuY2Uuc2V0Q29sdW1uT3JkZXIgPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICBjb2x1bW5PcmRlciA9PiB7XG4gICAgICByZXR1cm4gZGlzcGF0Y2goeyB0eXBlOiBhY3Rpb25zLnNldENvbHVtbk9yZGVyLCBjb2x1bW5PcmRlciB9KVxuICAgIH0sXG4gICAgW2Rpc3BhdGNoXVxuICApXG59XG4iLCJpbXBvcnQge1xuICBhY3Rpb25zLFxuICBkZWZhdWx0Q29sdW1uLFxuICBnZXRGaXJzdERlZmluZWQsXG4gIG1ha2VQcm9wR2V0dGVyLFxuICB1c2VHZXRMYXRlc3QsXG59IGZyb20gJy4uL3V0aWxzJ1xuaW1wb3J0IHsgdXNlQ29uc3VtZUhvb2tHZXR0ZXIgfSBmcm9tICcuLi9wdWJsaWNVdGlscydcblxuLy8gRGVmYXVsdCBDb2x1bW5cbmRlZmF1bHRDb2x1bW4uY2FuUmVzaXplID0gdHJ1ZVxuXG4vLyBBY3Rpb25zXG5hY3Rpb25zLmNvbHVtblN0YXJ0UmVzaXppbmcgPSAnY29sdW1uU3RhcnRSZXNpemluZydcbmFjdGlvbnMuY29sdW1uUmVzaXppbmcgPSAnY29sdW1uUmVzaXppbmcnXG5hY3Rpb25zLmNvbHVtbkRvbmVSZXNpemluZyA9ICdjb2x1bW5Eb25lUmVzaXppbmcnXG5cbmV4cG9ydCBjb25zdCB1c2VSZXNpemVDb2x1bW5zID0gaG9va3MgPT4ge1xuICBob29rcy5nZXRSZXNpemVyUHJvcHMgPSBbZGVmYXVsdEdldFJlc2l6ZXJQcm9wc11cbiAgaG9va3MuZ2V0SGVhZGVyUHJvcHMucHVzaCh7XG4gICAgc3R5bGU6IHtcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgIH0sXG4gIH0pXG4gIGhvb2tzLnN0YXRlUmVkdWNlcnMucHVzaChyZWR1Y2VyKVxuICBob29rcy51c2VJbnN0YW5jZUJlZm9yZURpbWVuc2lvbnMucHVzaCh1c2VJbnN0YW5jZUJlZm9yZURpbWVuc2lvbnMpXG59XG5cbmNvbnN0IGRlZmF1bHRHZXRSZXNpemVyUHJvcHMgPSAocHJvcHMsIHsgaW5zdGFuY2UsIGhlYWRlciB9KSA9PiB7XG4gIGNvbnN0IHsgZGlzcGF0Y2ggfSA9IGluc3RhbmNlXG5cbiAgY29uc3Qgb25SZXNpemVTdGFydCA9IChlLCBoZWFkZXIpID0+IHtcbiAgICBsZXQgaXNUb3VjaEV2ZW50ID0gZmFsc2VcbiAgICBpZiAoZS50eXBlID09PSAndG91Y2hzdGFydCcpIHtcbiAgICAgIC8vIGxldHMgbm90IHJlc3BvbmQgdG8gbXVsdGlwbGUgdG91Y2hlcyAoZS5nLiAyIG9yIDMgZmluZ2VycylcbiAgICAgIGlmIChlLnRvdWNoZXMgJiYgZS50b3VjaGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBpc1RvdWNoRXZlbnQgPSB0cnVlXG4gICAgfVxuICAgIGNvbnN0IGhlYWRlcnNUb1Jlc2l6ZSA9IGdldExlYWZIZWFkZXJzKGhlYWRlcilcbiAgICBjb25zdCBoZWFkZXJJZFdpZHRocyA9IGhlYWRlcnNUb1Jlc2l6ZS5tYXAoZCA9PiBbZC5pZCwgZC50b3RhbFdpZHRoXSlcblxuICAgIGNvbnN0IGNsaWVudFggPSBpc1RvdWNoRXZlbnQgPyBNYXRoLnJvdW5kKGUudG91Y2hlc1swXS5jbGllbnRYKSA6IGUuY2xpZW50WFxuXG4gICAgY29uc3QgZGlzcGF0Y2hNb3ZlID0gY2xpZW50WFBvcyA9PiB7XG4gICAgICBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvbnMuY29sdW1uUmVzaXppbmcsIGNsaWVudFg6IGNsaWVudFhQb3MgfSlcbiAgICB9XG4gICAgY29uc3QgZGlzcGF0Y2hFbmQgPSAoKSA9PiBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvbnMuY29sdW1uRG9uZVJlc2l6aW5nIH0pXG5cbiAgICBjb25zdCBoYW5kbGVyc0FuZEV2ZW50cyA9IHtcbiAgICAgIG1vdXNlOiB7XG4gICAgICAgIG1vdmVFdmVudDogJ21vdXNlbW92ZScsXG4gICAgICAgIG1vdmVIYW5kbGVyOiBlID0+IGRpc3BhdGNoTW92ZShlLmNsaWVudFgpLFxuICAgICAgICB1cEV2ZW50OiAnbW91c2V1cCcsXG4gICAgICAgIHVwSGFuZGxlcjogZSA9PiB7XG4gICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICdtb3VzZW1vdmUnLFxuICAgICAgICAgICAgaGFuZGxlcnNBbmRFdmVudHMubW91c2UubW92ZUhhbmRsZXJcbiAgICAgICAgICApXG4gICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICdtb3VzZXVwJyxcbiAgICAgICAgICAgIGhhbmRsZXJzQW5kRXZlbnRzLm1vdXNlLnVwSGFuZGxlclxuICAgICAgICAgIClcbiAgICAgICAgICBkaXNwYXRjaEVuZCgpXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgdG91Y2g6IHtcbiAgICAgICAgbW92ZUV2ZW50OiAndG91Y2htb3ZlJyxcbiAgICAgICAgbW92ZUhhbmRsZXI6IGUgPT4ge1xuICAgICAgICAgIGlmIChlLmNhbmNlbGFibGUpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuICAgICAgICAgIH1cbiAgICAgICAgICBkaXNwYXRjaE1vdmUoZS50b3VjaGVzWzBdLmNsaWVudFgpXG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIHVwRXZlbnQ6ICd0b3VjaGVuZCcsXG4gICAgICAgIHVwSGFuZGxlcjogZSA9PiB7XG4gICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgIGhhbmRsZXJzQW5kRXZlbnRzLnRvdWNoLm1vdmVFdmVudCxcbiAgICAgICAgICAgIGhhbmRsZXJzQW5kRXZlbnRzLnRvdWNoLm1vdmVIYW5kbGVyXG4gICAgICAgICAgKVxuICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICBoYW5kbGVyc0FuZEV2ZW50cy50b3VjaC51cEV2ZW50LFxuICAgICAgICAgICAgaGFuZGxlcnNBbmRFdmVudHMudG91Y2gubW92ZUhhbmRsZXJcbiAgICAgICAgICApXG4gICAgICAgICAgZGlzcGF0Y2hFbmQoKVxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9XG5cbiAgICBjb25zdCBldmVudHMgPSBpc1RvdWNoRXZlbnRcbiAgICAgID8gaGFuZGxlcnNBbmRFdmVudHMudG91Y2hcbiAgICAgIDogaGFuZGxlcnNBbmRFdmVudHMubW91c2VcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50cy5tb3ZlRXZlbnQsIGV2ZW50cy5tb3ZlSGFuZGxlciwge1xuICAgICAgcGFzc2l2ZTogZmFsc2UsXG4gICAgfSlcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50cy51cEV2ZW50LCBldmVudHMudXBIYW5kbGVyLCB7XG4gICAgICBwYXNzaXZlOiBmYWxzZSxcbiAgICB9KVxuXG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogYWN0aW9ucy5jb2x1bW5TdGFydFJlc2l6aW5nLFxuICAgICAgY29sdW1uSWQ6IGhlYWRlci5pZCxcbiAgICAgIGNvbHVtbldpZHRoOiBoZWFkZXIudG90YWxXaWR0aCxcbiAgICAgIGhlYWRlcklkV2lkdGhzLFxuICAgICAgY2xpZW50WCxcbiAgICB9KVxuICB9XG5cbiAgcmV0dXJuIFtcbiAgICBwcm9wcyxcbiAgICB7XG4gICAgICBvbk1vdXNlRG93bjogZSA9PiBlLnBlcnNpc3QoKSB8fCBvblJlc2l6ZVN0YXJ0KGUsIGhlYWRlciksXG4gICAgICBvblRvdWNoU3RhcnQ6IGUgPT4gZS5wZXJzaXN0KCkgfHwgb25SZXNpemVTdGFydChlLCBoZWFkZXIpLFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgY3Vyc29yOiAnZXctcmVzaXplJyxcbiAgICAgIH0sXG4gICAgICBkcmFnZ2FibGU6IGZhbHNlLFxuICAgIH0sXG4gIF1cbn1cblxudXNlUmVzaXplQ29sdW1ucy5wbHVnaW5OYW1lID0gJ3VzZVJlc2l6ZUNvbHVtbnMnXG5cbmZ1bmN0aW9uIHJlZHVjZXIoc3RhdGUsIGFjdGlvbikge1xuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMuaW5pdCkge1xuICAgIHJldHVybiB7XG4gICAgICBjb2x1bW5SZXNpemluZzoge1xuICAgICAgICBjb2x1bW5XaWR0aHM6IHt9LFxuICAgICAgfSxcbiAgICAgIC4uLnN0YXRlLFxuICAgIH1cbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5jb2x1bW5TdGFydFJlc2l6aW5nKSB7XG4gICAgY29uc3QgeyBjbGllbnRYLCBjb2x1bW5JZCwgY29sdW1uV2lkdGgsIGhlYWRlcklkV2lkdGhzIH0gPSBhY3Rpb25cblxuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIGNvbHVtblJlc2l6aW5nOiB7XG4gICAgICAgIC4uLnN0YXRlLmNvbHVtblJlc2l6aW5nLFxuICAgICAgICBzdGFydFg6IGNsaWVudFgsXG4gICAgICAgIGhlYWRlcklkV2lkdGhzLFxuICAgICAgICBjb2x1bW5XaWR0aCxcbiAgICAgICAgaXNSZXNpemluZ0NvbHVtbjogY29sdW1uSWQsXG4gICAgICB9LFxuICAgIH1cbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5jb2x1bW5SZXNpemluZykge1xuICAgIGNvbnN0IHsgY2xpZW50WCB9ID0gYWN0aW9uXG4gICAgY29uc3QgeyBzdGFydFgsIGNvbHVtbldpZHRoLCBoZWFkZXJJZFdpZHRocyB9ID0gc3RhdGUuY29sdW1uUmVzaXppbmdcblxuICAgIGNvbnN0IGRlbHRhWCA9IGNsaWVudFggLSBzdGFydFhcbiAgICBjb25zdCBwZXJjZW50YWdlRGVsdGFYID0gZGVsdGFYIC8gY29sdW1uV2lkdGhcblxuICAgIGNvbnN0IG5ld0NvbHVtbldpZHRocyA9IHt9XG5cbiAgICBoZWFkZXJJZFdpZHRocy5mb3JFYWNoKChbaGVhZGVySWQsIGhlYWRlcldpZHRoXSkgPT4ge1xuICAgICAgbmV3Q29sdW1uV2lkdGhzW2hlYWRlcklkXSA9IE1hdGgubWF4KFxuICAgICAgICBoZWFkZXJXaWR0aCArIGhlYWRlcldpZHRoICogcGVyY2VudGFnZURlbHRhWCxcbiAgICAgICAgMFxuICAgICAgKVxuICAgIH0pXG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBjb2x1bW5SZXNpemluZzoge1xuICAgICAgICAuLi5zdGF0ZS5jb2x1bW5SZXNpemluZyxcbiAgICAgICAgY29sdW1uV2lkdGhzOiB7XG4gICAgICAgICAgLi4uc3RhdGUuY29sdW1uUmVzaXppbmcuY29sdW1uV2lkdGhzLFxuICAgICAgICAgIC4uLm5ld0NvbHVtbldpZHRocyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfVxuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLmNvbHVtbkRvbmVSZXNpemluZykge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIGNvbHVtblJlc2l6aW5nOiB7XG4gICAgICAgIC4uLnN0YXRlLmNvbHVtblJlc2l6aW5nLFxuICAgICAgICBzdGFydFg6IG51bGwsXG4gICAgICAgIGlzUmVzaXppbmdDb2x1bW46IG51bGwsXG4gICAgICB9LFxuICAgIH1cbiAgfVxufVxuXG5jb25zdCB1c2VJbnN0YW5jZUJlZm9yZURpbWVuc2lvbnMgPSBpbnN0YW5jZSA9PiB7XG4gIGNvbnN0IHtcbiAgICBmbGF0SGVhZGVycyxcbiAgICBkaXNhYmxlUmVzaXppbmcsXG4gICAgc3RhdGU6IHsgY29sdW1uUmVzaXppbmcgfSxcbiAgfSA9IGluc3RhbmNlXG5cbiAgY29uc3QgZ2V0SW5zdGFuY2UgPSB1c2VHZXRMYXRlc3QoaW5zdGFuY2UpXG5cbiAgY29uc3QgZ2V0UmVzaXplclByb3BzSG9va3MgPSB1c2VDb25zdW1lSG9va0dldHRlcihcbiAgICBnZXRJbnN0YW5jZSgpLmhvb2tzLFxuICAgICdnZXRSZXNpemVyUHJvcHMnXG4gIClcblxuICBmbGF0SGVhZGVycy5mb3JFYWNoKGhlYWRlciA9PiB7XG4gICAgY29uc3QgY2FuUmVzaXplID0gZ2V0Rmlyc3REZWZpbmVkKFxuICAgICAgaGVhZGVyLmRpc2FibGVSZXNpemluZyA9PT0gdHJ1ZSA/IGZhbHNlIDogdW5kZWZpbmVkLFxuICAgICAgZGlzYWJsZVJlc2l6aW5nID09PSB0cnVlID8gZmFsc2UgOiB1bmRlZmluZWQsXG4gICAgICB0cnVlXG4gICAgKVxuXG4gICAgaGVhZGVyLmNhblJlc2l6ZSA9IGNhblJlc2l6ZVxuICAgIGhlYWRlci53aWR0aCA9IGNvbHVtblJlc2l6aW5nLmNvbHVtbldpZHRoc1toZWFkZXIuaWRdIHx8IGhlYWRlci53aWR0aFxuICAgIGhlYWRlci5pc1Jlc2l6aW5nID0gY29sdW1uUmVzaXppbmcuaXNSZXNpemluZ0NvbHVtbiA9PT0gaGVhZGVyLmlkXG5cbiAgICBpZiAoY2FuUmVzaXplKSB7XG4gICAgICBoZWFkZXIuZ2V0UmVzaXplclByb3BzID0gbWFrZVByb3BHZXR0ZXIoZ2V0UmVzaXplclByb3BzSG9va3MoKSwge1xuICAgICAgICBpbnN0YW5jZTogZ2V0SW5zdGFuY2UoKSxcbiAgICAgICAgaGVhZGVyLFxuICAgICAgfSlcbiAgICB9XG4gIH0pXG59XG5cbmZ1bmN0aW9uIGdldExlYWZIZWFkZXJzKGhlYWRlcikge1xuICBjb25zdCBsZWFmSGVhZGVycyA9IFtdXG4gIGNvbnN0IHJlY3Vyc2VIZWFkZXIgPSBoZWFkZXIgPT4ge1xuICAgIGlmIChoZWFkZXIuY29sdW1ucyAmJiBoZWFkZXIuY29sdW1ucy5sZW5ndGgpIHtcbiAgICAgIGhlYWRlci5jb2x1bW5zLm1hcChyZWN1cnNlSGVhZGVyKVxuICAgIH1cbiAgICBsZWFmSGVhZGVycy5wdXNoKGhlYWRlcilcbiAgfVxuICByZWN1cnNlSGVhZGVyKGhlYWRlcilcbiAgcmV0dXJuIGxlYWZIZWFkZXJzXG59XG4iLCJpbXBvcnQgeyBlbnN1cmVQbHVnaW5PcmRlciB9IGZyb20gJy4uL3V0aWxzJ1xuXG5jb25zdCBjZWxsU3R5bGVzID0ge1xuICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgdG9wOiAwLFxufVxuXG5leHBvcnQgY29uc3QgdXNlQWJzb2x1dGVMYXlvdXQgPSBob29rcyA9PiB7XG4gIGhvb2tzLmdldFRhYmxlQm9keVByb3BzLnB1c2goZ2V0Um93U3R5bGVzKVxuICBob29rcy5nZXRSb3dQcm9wcy5wdXNoKGdldFJvd1N0eWxlcylcbiAgaG9va3MuZ2V0SGVhZGVyR3JvdXBQcm9wcy5wdXNoKGdldFJvd1N0eWxlcylcbiAgaG9va3MudXNlSW5zdGFuY2UucHVzaCh1c2VJbnN0YW5jZSlcblxuICBob29rcy5nZXRIZWFkZXJQcm9wcy5wdXNoKChwcm9wcywgeyBjb2x1bW4gfSkgPT4gW1xuICAgIHByb3BzLFxuICAgIHtcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIC4uLmNlbGxTdHlsZXMsXG4gICAgICAgIGxlZnQ6IGAke2NvbHVtbi50b3RhbExlZnR9cHhgLFxuICAgICAgICB3aWR0aDogYCR7Y29sdW1uLnRvdGFsV2lkdGh9cHhgLFxuICAgICAgfSxcbiAgICB9LFxuICBdKVxuXG4gIGhvb2tzLmdldENlbGxQcm9wcy5wdXNoKChwcm9wcywgeyBjZWxsIH0pID0+IFtcbiAgICBwcm9wcyxcbiAgICB7XG4gICAgICBzdHlsZToge1xuICAgICAgICAuLi5jZWxsU3R5bGVzLFxuICAgICAgICBsZWZ0OiBgJHtjZWxsLmNvbHVtbi50b3RhbExlZnR9cHhgLFxuICAgICAgICB3aWR0aDogYCR7Y2VsbC5jb2x1bW4udG90YWxXaWR0aH1weGAsXG4gICAgICB9LFxuICAgIH0sXG4gIF0pXG59XG5cbnVzZUFic29sdXRlTGF5b3V0LnBsdWdpbk5hbWUgPSAndXNlQWJzb2x1dGVMYXlvdXQnXG5cbmNvbnN0IGdldFJvd1N0eWxlcyA9IChwcm9wcywgeyBpbnN0YW5jZSB9KSA9PiBbXG4gIHByb3BzLFxuICB7XG4gICAgc3R5bGU6IHtcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgd2lkdGg6IGAke2luc3RhbmNlLnRvdGFsQ29sdW1uc1dpZHRofXB4YCxcbiAgICB9LFxuICB9LFxuXVxuXG5mdW5jdGlvbiB1c2VJbnN0YW5jZSh7IHBsdWdpbnMgfSkge1xuICBlbnN1cmVQbHVnaW5PcmRlcihwbHVnaW5zLCBbXSwgdXNlQWJzb2x1dGVMYXlvdXQucGx1Z2luTmFtZSwgW1xuICAgICd1c2VSZXNpemVDb2x1bW5zJyxcbiAgXSlcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiB1c2VGbGV4TGF5b3V0KGhvb2tzKSB7XG4gIGhvb2tzLmdldFRhYmxlQm9keVByb3BzLnB1c2goZ2V0VGFibGVCb2R5UHJvcHMpXG4gIGhvb2tzLmdldFJvd1Byb3BzLnB1c2goZ2V0Um93U3R5bGVzKVxuICBob29rcy5nZXRIZWFkZXJHcm91cFByb3BzLnB1c2goZ2V0Um93U3R5bGVzKVxuICBob29rcy5nZXRIZWFkZXJQcm9wcy5wdXNoKGdldEhlYWRlclByb3BzKVxuICBob29rcy5nZXRDZWxsUHJvcHMucHVzaChnZXRDZWxsUHJvcHMpXG59XG5cbnVzZUZsZXhMYXlvdXQucGx1Z2luTmFtZSA9ICd1c2VGbGV4TGF5b3V0J1xuXG5jb25zdCBnZXRUYWJsZUJvZHlQcm9wcyA9IChwcm9wcywgeyBpbnN0YW5jZSB9KSA9PiBbXG4gIHByb3BzLFxuICB7XG4gICAgc3R5bGU6IHtcbiAgICAgIG1pbldpZHRoOiBgJHtpbnN0YW5jZS50b3RhbENvbHVtbnNXaWR0aH1weGAsXG4gICAgfSxcbiAgfSxcbl1cblxuY29uc3QgZ2V0Um93U3R5bGVzID0gKHByb3BzLCB7IGluc3RhbmNlIH0pID0+IFtcbiAgcHJvcHMsXG4gIHtcbiAgICBzdHlsZToge1xuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgZmxleDogJzEgMCBhdXRvJyxcbiAgICAgIG1pbldpZHRoOiBgJHtpbnN0YW5jZS50b3RhbENvbHVtbnNNaW5XaWR0aH1weGAsXG4gICAgfSxcbiAgfSxcbl1cblxuY29uc3QgZ2V0SGVhZGVyUHJvcHMgPSAocHJvcHMsIHsgY29sdW1uIH0pID0+IFtcbiAgcHJvcHMsXG4gIHtcbiAgICBzdHlsZToge1xuICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgICBmbGV4OiBgJHtjb2x1bW4udG90YWxXaWR0aH0gMCBhdXRvYCxcbiAgICAgIG1pbldpZHRoOiBgJHtjb2x1bW4udG90YWxNaW5XaWR0aH1weGAsXG4gICAgICB3aWR0aDogYCR7Y29sdW1uLnRvdGFsV2lkdGh9cHhgLFxuICAgIH0sXG4gIH0sXG5dXG5cbmNvbnN0IGdldENlbGxQcm9wcyA9IChwcm9wcywgeyBjZWxsIH0pID0+IFtcbiAgcHJvcHMsXG4gIHtcbiAgICBzdHlsZToge1xuICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgICBmbGV4OiBgJHtjZWxsLmNvbHVtbi50b3RhbFdpZHRofSAwIGF1dG9gLFxuICAgICAgbWluV2lkdGg6IGAke2NlbGwuY29sdW1uLnRvdGFsTWluV2lkdGh9cHhgLFxuICAgICAgd2lkdGg6IGAke2NlbGwuY29sdW1uLnRvdGFsV2lkdGh9cHhgLFxuICAgIH0sXG4gIH0sXG5dXG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBqc3gtYTExeS9uby1zdGF0aWMtZWxlbWVudC1pbnRlcmFjdGlvbnMgKi9cbi8qIGVzbGludC1kaXNhYmxlIGpzeC1hMTF5L2NsaWNrLWV2ZW50cy1oYXZlLWtleS1ldmVudHMgKi9cbi8qIGVzbGludC1kaXNhYmxlIHJlYWN0L2pzeC1wcm9wcy1uby1zcHJlYWRpbmcgKi9cbmltcG9ydCB7IGgsIEZ1bmN0aW9uQ29tcG9uZW50IH0gZnJvbSAncHJlYWN0JztcbmltcG9ydCB7XG4gdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VNZW1vLFxufSBmcm9tICdwcmVhY3QvaG9va3MnO1xuaW1wb3J0IHsgc3R5bGVkIH0gZnJvbSBcIkBua3NhcmFmL2dvb2JlclwiXG5pbXBvcnQgcmVnaXN0ZXIgZnJvbSAncHJlYWN0LWN1c3RvbS1lbGVtZW50JztcbmltcG9ydCB7IHVzZVRhYmxlLCBDb2x1bW4sIHVzZUJsb2NrTGF5b3V0IH0gZnJvbSAncmVhY3QtdGFibGUnXG5pbXBvcnQgQXBwIGZyb20gJy4uLy4uL0FwcCc7XG5pbXBvcnQgdXNlQ3VzdG9tRXZlbnQgZnJvbSAnLi4vLi4vdXRpbHMvdXNlQ3VzdG9tRXZlbnQnO1xuXG5cbmNvbnN0IFRhYmxlOiBGdW5jdGlvbkNvbXBvbmVudDx7IGRhdGE6IHN0cmluZywgY29sdW1uczogc3RyaW5nfT4gPSAoeyBkYXRhLCBjb2x1bW5zIH0pID0+IHtcbiAgICBjb25zdCBbZGF0YVN0YXRlLCBzZXREYXRhXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFtjb2x1bW5zU3RhdGUsIHNldENvbHVtbnNdID0gdXNlU3RhdGUobnVsbCk7XG5cbiAgICBjb25zdCBjb21wb25lbnRSZWYgPSB1c2VSZWY8SFRNTFRhYmxlRWxlbWVudD4oKTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChkYXRhICYmIGNvbHVtbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZERhdGE6IEFycmF5PGFueT4gPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkQ29sdW1uczogQXJyYXk8Q29sdW1uPiA9IEpTT04ucGFyc2UoY29sdW1ucyk7XG5cbiAgICAgICAgICAgIHNldERhdGEocGFyc2VkRGF0YSk7XG4gICAgICAgICAgICBzZXRDb2x1bW5zKHBhcnNlZENvbHVtbnMpO1xuICAgICAgIH1cbiAgICB9LCBbZGF0YSwgY29sdW1uc10pO1xuXG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhkYXRhU3RhdGUsIGNvbHVtbnNTdGF0ZSk7XG4gICAgfSwgW2RhdGFTdGF0ZSwgY29sdW1uc1N0YXRlXSk7XG5cblxuICAgIGNvbnN0IGRpc3BhdGNoRXZlbnQgPSB1c2VDdXN0b21FdmVudCh7XG4gICAgICAgIHJlZjogY29tcG9uZW50UmVmLFxuICAgICAgICBldmVudE5hbWU6ICd0YWJsZVJvd0NsaWNrZWQnLFxuICAgIH0pO1xuXG5cbiAgICBpZiAoIWRhdGFTdGF0ZSB8fCAhY29sdW1uc1N0YXRlKSByZXR1cm4gPGRpdj5Mb2FkaW5nLi4uLjwvZGl2PlxuXG4gICAgY29uc3Qge1xuICAgICAgICBnZXRUYWJsZVByb3BzLFxuICAgICAgICBnZXRUYWJsZUJvZHlQcm9wcyxcbiAgICAgICAgaGVhZGVyR3JvdXBzLFxuICAgICAgICByb3dzLFxuICAgICAgICBwcmVwYXJlUm93LFxuICAgIH0gPSB1c2VUYWJsZSh7XG4gICAgICAgIGNvbHVtbnM6IGNvbHVtbnNTdGF0ZSxcbiAgICAgICAgZGF0YTogZGF0YVN0YXRlLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxBcHA+XG4gICAgICAgIDxTdHlsZXM+XG4gICAgICAgICAgPGRpdiByZWY9e2NvbXBvbmVudFJlZn0gey4uLmdldFRhYmxlUHJvcHMoKX0gY2xhc3NOYW1lPVwidGFibGVcIj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIHtoZWFkZXJHcm91cHMubWFwKChoZWFkZXJHcm91cCkgPT4gKFxuICAgICAgICAgICAgICAgIDxkaXYga2V5PXtoZWFkZXJHcm91cC5pZH0gey4uLmhlYWRlckdyb3VwLmdldEhlYWRlckdyb3VwUHJvcHMoKX0gY2xhc3NOYW1lPVwidHIgaGVhZGVyXCI+XG4gICAgICAgICAgICAgICAgICB7aGVhZGVyR3JvdXAuaGVhZGVycy5tYXAoKGNvbHVtbikgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17Y29sdW1uLmlkfSB7Li4uY29sdW1uLmdldEhlYWRlclByb3BzKCl9IGNsYXNzTmFtZT1cInRoXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2NvbHVtbi5yZW5kZXIoJ0hlYWRlcicpfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IHsuLi5nZXRUYWJsZUJvZHlQcm9wcygpfT5cbiAgICAgICAgICAgICAge3Jvd3MubWFwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChyb3csIGkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlcGFyZVJvdyhyb3cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgb25DbGljaz17KCkgPT4gZGlzcGF0Y2hFdmVudChyb3cudmFsdWVzKX0ga2V5PXtyb3cuaWR9IHsuLi5yb3cuZ2V0Um93UHJvcHMoKX0gY2xhc3NOYW1lPVwidHJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtyb3cuY2VsbHMubWFwKChjZWxsKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtjZWxsLnZhbHVlfSB7Li4uY2VsbC5nZXRDZWxsUHJvcHMoKX0gY2xhc3NOYW1lPVwidGRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2VsbC5yZW5kZXIoJ0NlbGwnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9TdHlsZXM+XG4gICAgICA8L0FwcD5cbiAgICApXG4gICAgfVxuXG5cbmNvbnN0IFN0eWxlcyA9IHN0eWxlZChcImRpdlwiKWBcbiAgLnRhYmxlIHtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gICAgYmFja2dyb3VuZDogJHsocHJvcHMpID0+IHByb3BzLnRoZW1lLmNvbG9ycy4kRDgwfTtcbiAgICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiA4cHg7XG4gICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDhweDtcbiAgICBib3gtc2hhZG93OiAwIDFweCAycHggMCByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcblxuICAgIC50ci5oZWFkZXIge1xuICAgICAgYmFja2dyb3VuZDogJHsocHJvcHMpID0+IHByb3BzLnRoZW1lLmNvbG9ycy4kQjQwfTtcbiAgICAgIGhlaWdodDogNDJweDtcbiAgICAgICY6aG92ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiAkeyhwcm9wcykgPT4gcHJvcHMudGhlbWUuY29sb3JzLiRCNDB9O1xuICAgICAgICBjdXJzb3I6IGRlZmF1bHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLnRyIHtcbiAgICAgIGhlaWdodDogNTRweDtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICR7KHByb3BzKSA9PiBwcm9wcy50aGVtZS5jb2xvcnMuJEQ2MH07XG5cbiAgICAgICY6aG92ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiAkeyhwcm9wcykgPT4gcHJvcHMudGhlbWUuY29sb3JzLiRCNTB9O1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIHRyYW5zaXRpb246IGFsbCAxMjBtcyBlYXNlO1xuICAgICAgfVxuXG4gICAgICAudGgsXG4gICAgICAudGQge1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgZmxleDogMTtcbiAgICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICAgICAgb3ZlcmZsb3cteDogaGlkZGVuO1xuICAgICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgICAgICAgcGFkZGluZzogMCAzMHB4IDAgMDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIH1cblxuICAgICAgLnRoOmZpcnN0LWNoaWxkLFxuICAgICAgLnRkOmZpcnN0LWNoaWxkIHtcbiAgICAgICAgcGFkZGluZzogMCAwIDAgMzBweDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbmA7XG5cbnJlZ2lzdGVyKFRhYmxlLCAneC10YWJsZScsIFsnY29sdW1ucycsICdkYXRhJ10pO1xuXG5leHBvcnQgZGVmYXVsdCBUYWJsZTtcbiJdLCJzb3VyY2VSb290IjoiIn0=