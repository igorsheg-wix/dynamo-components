!function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=17)}([function(e,n,t){"use strict";t.r(n),t.d(n,"render",(function(){return D})),t.d(n,"hydrate",(function(){return T})),t.d(n,"createElement",(function(){return h})),t.d(n,"h",(function(){return h})),t.d(n,"Fragment",(function(){return g})),t.d(n,"createRef",(function(){return v})),t.d(n,"isValidElement",(function(){return o})),t.d(n,"Component",(function(){return b})),t.d(n,"cloneElement",(function(){return B})),t.d(n,"createContext",(function(){return M})),t.d(n,"toChildArray",(function(){return N})),t.d(n,"_unmount",(function(){return A})),t.d(n,"options",(function(){return r}));var r,o,i,u,l,a,c,s={},f=[],d=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function p(e,n){for(var t in n)e[t]=n[t];return e}function _(e){var n=e.parentNode;n&&n.removeChild(e)}function h(e,n,t){var r,o=arguments,i={};for(r in n)"key"!==r&&"ref"!==r&&(i[r]=n[r]);if(arguments.length>3)for(t=[t],r=3;r<arguments.length;r++)t.push(o[r]);if(null!=t&&(i.children=t),"function"==typeof e&&null!=e.defaultProps)for(r in e.defaultProps)void 0===i[r]&&(i[r]=e.defaultProps[r]);return m(e,i,n&&n.key,n&&n.ref)}function m(e,n,t,o){var i={type:e,props:n,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__d:null,__c:null,constructor:void 0};return r.vnode&&r.vnode(i),i}function v(){return{}}function g(e){return e.children}function b(e,n){this.props=e,this.context=n}function y(e,n){if(null==n)return e.__?y(e.__,e.__.__k.indexOf(e)+1):null;for(var t;n<e.__k.length;n++)if(null!=(t=e.__k[n])&&null!=t.__e)return t.__e;return"function"==typeof e.type?y(e):null}function C(e){var n,t;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if(null!=(t=e.__k[n])&&null!=t.__e){e.__e=e.__c.base=t.__e;break}return C(e)}}function k(e){(!e.__d&&(e.__d=!0)&&1===i.push(e)||l!==r.debounceRendering)&&((l=r.debounceRendering)||u)(w)}function w(){var e,n,t,r,o,u,l;for(i.sort((function(e,n){return n.__v.__b-e.__v.__b}));e=i.pop();)e.__d&&(t=void 0,r=void 0,u=(o=(n=e).__v).__e,(l=n.__P)&&(t=[],r=j(l,o,p({},o),n.__n,void 0!==l.ownerSVGElement,null,t,null==u?y(o):u),P(t,o),r!=u&&C(o)))}function x(e,n,t,r,o,i,u,l,a){var c,d,p,h,m,v,g,b=t&&t.__k||f,C=b.length;if(l==s&&(l=null!=i?i[0]:C?y(t,0):null),c=0,n.__k=N(n.__k,(function(t){if(null!=t){if(t.__=n,t.__b=n.__b+1,null===(p=b[c])||p&&t.key==p.key&&t.type===p.type)b[c]=void 0;else for(d=0;d<C;d++){if((p=b[d])&&t.key==p.key&&t.type===p.type){b[d]=void 0;break}p=null}if(h=j(e,t,p=p||s,r,o,i,u,l,a),(d=t.ref)&&p.ref!=d&&(g||(g=[]),p.ref&&g.push(p.ref,null,t),g.push(d,t.__c||h,t)),null!=h){if(null==v&&(v=h),null!=t.__d)h=t.__d,t.__d=null;else if(i==p||h!=l||null==h.parentNode){e:if(null==l||l.parentNode!==e)e.appendChild(h);else{for(m=l,d=0;(m=m.nextSibling)&&d<C;d+=2)if(m==h)break e;e.insertBefore(h,l)}"option"==n.type&&(e.value="")}l=h.nextSibling,"function"==typeof n.type&&(n.__d=h)}}return c++,t})),n.__e=v,null!=i&&"function"!=typeof n.type)for(c=i.length;c--;)null!=i[c]&&_(i[c]);for(c=C;c--;)null!=b[c]&&A(b[c],b[c]);if(g)for(c=0;c<g.length;c++)H(g[c],g[++c],g[++c])}function N(e,n,t){if(null==t&&(t=[]),null==e||"boolean"==typeof e)n&&t.push(n(null));else if(Array.isArray(e))for(var r=0;r<e.length;r++)N(e[r],n,t);else t.push(n?n("string"==typeof e||"number"==typeof e?m(null,e,null,null):null!=e.__e||null!=e.__c?m(e.type,e.props,e.key,null):e):e);return t}function O(e,n,t){"-"===n[0]?e.setProperty(n,t):e[n]="number"==typeof t&&!1===d.test(n)?t+"px":null==t?"":t}function E(e,n,t,r,o){var i,u,l,a,c;if(o?"className"===n&&(n="class"):"class"===n&&(n="className"),"key"===n||"children"===n);else if("style"===n)if(i=e.style,"string"==typeof t)i.cssText=t;else{if("string"==typeof r&&(i.cssText="",r=null),r)for(u in r)t&&u in t||O(i,u,"");if(t)for(l in t)r&&t[l]===r[l]||O(i,l,t[l])}else"o"===n[0]&&"n"===n[1]?(a=n!==(n=n.replace(/Capture$/,"")),c=n.toLowerCase(),n=(c in e?c:n).slice(2),t?(r||e.addEventListener(n,S,a),(e.l||(e.l={}))[n]=t):e.removeEventListener(n,S,a)):"list"!==n&&"tagName"!==n&&"form"!==n&&"type"!==n&&!o&&n in e?e[n]=null==t?"":t:"function"!=typeof t&&"dangerouslySetInnerHTML"!==n&&(n!==(n=n.replace(/^xlink:?/,""))?null==t||!1===t?e.removeAttributeNS("http://www.w3.org/1999/xlink",n.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",n.toLowerCase(),t):null==t||!1===t?e.removeAttribute(n):e.setAttribute(n,t))}function S(e){this.l[e.type](r.event?r.event(e):e)}function j(e,n,t,o,i,u,l,a,c){var s,f,d,_,h,m,v,y,C,k,w=n.type;if(void 0!==n.constructor)return null;(s=r.__b)&&s(n);try{e:if("function"==typeof w){if(y=n.props,C=(s=w.contextType)&&o[s.__c],k=s?C?C.props.value:s.__:o,t.__c?v=(f=n.__c=t.__c).__=f.__E:("prototype"in w&&w.prototype.render?n.__c=f=new w(y,k):(n.__c=f=new b(y,k),f.constructor=w,f.render=F),C&&C.sub(f),f.props=y,f.state||(f.state={}),f.context=k,f.__n=o,d=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=w.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=p({},f.__s)),p(f.__s,w.getDerivedStateFromProps(y,f.__s))),_=f.props,h=f.state,d)null==w.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==w.getDerivedStateFromProps&&y!==_&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(y,k),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(y,f.__s,k)){for(f.props=y,f.state=f.__s,f.__d=!1,f.__v=n,n.__e=t.__e,n.__k=t.__k,f.__h.length&&l.push(f),s=0;s<n.__k.length;s++)n.__k[s]&&(n.__k[s].__=n);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(y,f.__s,k),null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(_,h,m)}))}f.context=k,f.props=y,f.state=f.__s,(s=r.__r)&&s(n),f.__d=!1,f.__v=n,f.__P=e,s=f.render(f.props,f.state,f.context),n.__k=N(null!=s&&s.type==g&&null==s.key?s.props.children:s),null!=f.getChildContext&&(o=p(p({},o),f.getChildContext())),d||null==f.getSnapshotBeforeUpdate||(m=f.getSnapshotBeforeUpdate(_,h)),x(e,n,t,o,i,u,l,a,c),f.base=n.__e,f.__h.length&&l.push(f),v&&(f.__E=f.__=null),f.__e=null}else n.__e=R(t.__e,n,t,o,i,u,l,c);(s=r.diffed)&&s(n)}catch(e){r.__e(e,n,t)}return n.__e}function P(e,n){r.__c&&r.__c(n,e),e.some((function(n){try{e=n.__h,n.__h=[],e.some((function(e){e.call(n)}))}catch(e){r.__e(e,n.__v)}}))}function R(e,n,t,r,o,i,u,l){var a,c,d,p,_,h=t.props,m=n.props;if(o="svg"===n.type||o,null==e&&null!=i)for(a=0;a<i.length;a++)if(null!=(c=i[a])&&(null===n.type?3===c.nodeType:c.localName===n.type)){e=c,i[a]=null;break}if(null==e){if(null===n.type)return document.createTextNode(m);e=o?document.createElementNS("http://www.w3.org/2000/svg",n.type):document.createElement(n.type),i=null}if(null===n.type)null!=i&&(i[i.indexOf(e)]=null),h!==m&&e.data!=m&&(e.data=m);else if(n!==t){if(null!=i&&(i=f.slice.call(e.childNodes)),d=(h=t.props||s).dangerouslySetInnerHTML,p=m.dangerouslySetInnerHTML,!l){if(h===s)for(h={},_=0;_<e.attributes.length;_++)h[e.attributes[_].name]=e.attributes[_].value;(p||d)&&(p&&d&&p.__html==d.__html||(e.innerHTML=p&&p.__html||""))}(function(e,n,t,r,o){var i;for(i in t)i in n||E(e,i,null,t[i],r);for(i in n)o&&"function"!=typeof n[i]||"value"===i||"checked"===i||t[i]===n[i]||E(e,i,n[i],t[i],r)})(e,m,h,o,l),n.__k=n.props.children,p||x(e,n,t,r,"foreignObject"!==n.type&&o,i,u,s,l),l||("value"in m&&void 0!==m.value&&m.value!==e.value&&(e.value=null==m.value?"":m.value),"checked"in m&&void 0!==m.checked&&m.checked!==e.checked&&(e.checked=m.checked))}return e}function H(e,n,t){try{"function"==typeof e?e(n):e.current=n}catch(e){r.__e(e,t)}}function A(e,n,t){var o,i,u;if(r.unmount&&r.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||H(o,null,n)),t||"function"==typeof e.type||(t=null!=(i=e.__e)),e.__e=e.__d=null,null!=(o=e.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(e){r.__e(e,n)}o.base=o.__P=null}if(o=e.__k)for(u=0;u<o.length;u++)o[u]&&A(o[u],n,t);null!=i&&_(i)}function F(e,n,t){return this.constructor(e,t)}function D(e,n,t){var o,i,u;r.__&&r.__(e,n),i=(o=t===a)?null:t&&t.__k||n.__k,e=h(g,null,[e]),u=[],j(n,(o?n:t||n).__k=e,i||s,s,void 0!==n.ownerSVGElement,t&&!o?[t]:i?null:f.slice.call(n.childNodes),u,t||s,o),P(u,e)}function T(e,n){D(e,n,a)}function B(e,n){return n=p(p({},e.props),n),arguments.length>2&&(n.children=f.slice.call(arguments,2)),m(e.type,n,n.key||e.key,n.ref||e.ref)}function M(e){var n={},t={__c:"__cC"+c++,__:e,Consumer:function(e,n){return e.children(n)},Provider:function(e){var r,o=this;return this.getChildContext||(r=[],this.getChildContext=function(){return n[t.__c]=o,n},this.shouldComponentUpdate=function(n){e.value!==n.value&&r.some((function(e){e.context=n.value,k(e)}))},this.sub=function(e){r.push(e);var n=e.componentWillUnmount;e.componentWillUnmount=function(){r.splice(r.indexOf(e),1),n&&n.call(e)}}),e.children}};return t.Consumer.contextType=t,t}r={__e:function(e,n){for(var t,r;n=n.__;)if((t=n.__c)&&!t.__)try{if(t.constructor&&null!=t.constructor.getDerivedStateFromError&&(r=!0,t.setState(t.constructor.getDerivedStateFromError(e))),null!=t.componentDidCatch&&(r=!0,t.componentDidCatch(e)),r)return k(t.__E=t)}catch(n){e=n}throw e}},o=function(e){return null!=e&&void 0===e.constructor},b.prototype.setState=function(e,n){var t;t=this.__s!==this.state?this.__s:this.__s=p({},this.state),"function"==typeof e&&(e=e(t,this.props)),e&&p(t,e),null!=e&&this.__v&&(this.__e=!1,n&&this.__h.push(n),k(this))},b.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),k(this))},b.prototype.render=g,i=[],u="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,a=s,c=0},function(e,n,t){"use strict";t.d(n,"j",(function(){return p})),t.d(n,"h",(function(){return _})),t.d(n,"d",(function(){return h})),t.d(n,"f",(function(){return m})),t.d(n,"i",(function(){return v})),t.d(n,"e",(function(){return g})),t.d(n,"g",(function(){return b})),t.d(n,"a",(function(){return y})),t.d(n,"b",(function(){return C})),t.d(n,"c",(function(){return k}));var r,o,i,u=t(0),l=[],a=u.options.__r,c=u.options.diffed,s=u.options.__c,f=u.options.unmount;function d(e){u.options.__h&&u.options.__h(o);var n=o.__H||(o.__H={t:[],u:[]});return e>=n.t.length&&n.t.push({}),n.t[e]}function p(e){return _(E,e)}function _(e,n,t){var i=d(r++);return i.__c||(i.__c=o,i.i=[t?t(n):E(void 0,n),function(n){var t=e(i.i[0],n);i.i[0]!==t&&(i.i[0]=t,i.__c.setState({}))}]),i.i}function h(e,n){var t=d(r++);O(t.o,n)&&(t.i=e,t.o=n,o.__H.u.push(t))}function m(e,n){var t=d(r++);O(t.o,n)&&(t.i=e,t.o=n,o.__h.push(t))}function v(e){return b((function(){return{current:e}}),[])}function g(e,n,t){m((function(){"function"==typeof e?e(n()):e&&(e.current=n())}),null==t?t:t.concat(e))}function b(e,n){var t=d(r++);return O(t.o,n)?(t.o=n,t.v=e,t.i=e()):t.i}function y(e,n){return b((function(){return e}),n)}function C(e){var n=o.context[e.__c];if(!n)return e.__;var t=d(r++);return null==t.i&&(t.i=!0,n.sub(o)),n.props.value}function k(e,n){u.options.useDebugValue&&u.options.useDebugValue(n?n(e):e)}function w(){l.some((function(e){e.__P&&(e.__H.u.forEach(x),e.__H.u.forEach(N),e.__H.u=[])})),l=[]}function x(e){e.m&&e.m()}function N(e){var n=e.i();"function"==typeof n&&(e.m=n)}function O(e,n){return!e||n.some((function(n,t){return n!==e[t]}))}function E(e,n){return"function"==typeof n?n(e):n}u.options.__r=function(e){a&&a(e),r=0,(o=e.__c).__H&&(o.__H.u.forEach(x),o.__H.u.forEach(N),o.__H.u=[])},u.options.diffed=function(e){c&&c(e);var n=e.__c;if(n){var t=n.__H;t&&t.u.length&&(1!==l.push(n)&&i===u.options.requestAnimationFrame||((i=u.options.requestAnimationFrame)||function(e){var n,t=function(){clearTimeout(r),cancelAnimationFrame(n),setTimeout(e)},r=setTimeout(t,100);"undefined"!=typeof window&&(n=requestAnimationFrame(t))})(w))}},u.options.__c=function(e,n){n.some((function(e){e.__h.forEach(x),e.__h=e.__h.filter((function(e){return!e.i||N(e)}))})),s&&s(e,n)},u.options.unmount=function(e){f&&f(e);var n=e.__c;if(n){var t=n.__H;t&&t.t.forEach((function(e){return e.m&&e.m()}))}}},function(e,n,t){"use strict";t.d(n,"b",(function(){return c}));var r=t(1);t.d(n,"c",(function(){return r.b})),t.d(n,"d",(function(){return r.d})),t.d(n,"e",(function(){return r.i}));var o=t(0);function i(e,n){for(var t in n)e[t]=n[t];return e}function u(e,n){for(var t in e)if("__source"!==t&&!(t in n))return!0;for(var r in n)if("__source"!==r&&e[r]!==n[r])return!0;return!1}var l=function(e){var n,t;function r(n){var t;return(t=e.call(this,n)||this).isPureReactComponent=!0,t}return t=e,(n=r).prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t,r.prototype.shouldComponentUpdate=function(e,n){return u(this.props,e)||u(this.state,n)},r}(o.Component);var a=o.options.vnode;function c(e){function n(n){var t=i({},n);return delete t.ref,e(t,n.ref)}return n.prototype.isReactComponent=!0,n.t=!0,n.displayName="ForwardRef("+(e.displayName||e.name)+")",n}o.options.vnode=function(e){e.type&&e.type.t&&e.ref&&(e.props.ref=e.ref,e.ref=null),a&&a(e)};var s=function(e,n){return e?Object(o.toChildArray)(e).map(n):null},f={map:s,forEach:s,count:function(e){return e?Object(o.toChildArray)(e).length:0},only:function(e){if(1!==(e=Object(o.toChildArray)(e)).length)throw new Error("Children.only() expects only one child.");return e[0]},toArray:o.toChildArray},d=o.options.__e;function p(e){return e&&((e=i({},e)).__c=null,e.__k=e.__k&&e.__k.map(p)),e}function _(e){this.__u=0,this.__b=null}function h(e){var n=e.__.__c;return n&&n.o&&n.o(e)}function m(){this.u=null,this.i=null}o.options.__e=function(e,n,t){if(e.then)for(var r,o=n;o=o.__;)if((r=o.__c)&&r.l)return r.l(e,n.__c);d(e,n,t)},(_.prototype=new o.Component).l=function(e,n){var t=this,r=h(t.__v),o=!1,i=function(){o||(o=!0,r?r(u):u())};n.__c=n.componentWillUnmount,n.componentWillUnmount=function(){i(),n.__c&&n.__c()};var u=function(){--t.__u||(t.__v.__k[0]=t.state.o,t.setState({o:t.__b=null}))};t.__u++||t.setState({o:t.__b=t.__v.__k[0]}),e.then(i,i)},_.prototype.render=function(e,n){return this.__b&&(this.__v.__k[0]=p(this.__b),this.__b=null),[Object(o.createElement)(o.Component,null,n.o?null:e.children),n.o&&e.fallback]};var v=function(e,n,t){if(++t[1]===t[0]&&e.i.delete(n),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.i.size))for(t=e.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;e.u=t=t[2]}};(m.prototype=new o.Component).o=function(e){var n=this,t=h(n.__v),r=n.i.get(e);return r[0]++,function(o){var i=function(){n.props.revealOrder?(r.push(o),v(n,e,r)):o()};t?t(i):i()}},m.prototype.render=function(e){this.u=null,this.i=new Map;var n=Object(o.toChildArray)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&n.reverse();for(var t=n.length;t--;)this.i.set(n[t],this.u=[1,0,this.u]);return e.children},m.prototype.componentDidUpdate=m.prototype.componentDidMount=function(){var e=this;e.i.forEach((function(n,t){v(e,t,n)}))};var g=function(){function e(){}var n=e.prototype;return n.getChildContext=function(){return this.props.context},n.render=function(e){return e.children},e}();function b(e){var n=this,t=e.container,r=Object(o.createElement)(g,{context:n.context},e.vnode);return n.s&&n.s!==t&&(n.h.parentNode&&n.s.removeChild(n.h),Object(o._unmount)(n.v),n.p=!1),e.vnode?n.p?(t.__k=n.__k,Object(o.render)(r,t),n.__k=t.__k):(n.h=document.createTextNode(""),Object(o.hydrate)("",t),t.appendChild(n.h),n.p=!0,n.s=t,Object(o.render)(r,t,n.h),n.__k=this.h.__k):n.p&&(n.h.parentNode&&n.s.removeChild(n.h),Object(o._unmount)(n.v)),n.v=r,n.componentWillUnmount=function(){n.h.parentNode&&n.s.removeChild(n.h),Object(o._unmount)(n.v)},null}var y=/^(?:accent|alignment|arabic|baseline|cap|clip|color|fill|flood|font|glyph|horiz|marker|overline|paint|stop|strikethrough|stroke|text|underline|unicode|units|v|vector|vert|word|writing|x)[A-Z]/;o.Component.prototype.isReactComponent={};var C="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;function k(e,n,t){if(null==n.__k)for(;n.firstChild;)n.removeChild(n.firstChild);return function(e,n,t){return Object(o.render)(e,n),"function"==typeof t&&t(),e?e.__c:null}(e,n,t)}var w=o.options.event;function x(e,n){e["UNSAFE_"+n]&&!e[n]&&Object.defineProperty(e,n,{configurable:!1,get:function(){return this["UNSAFE_"+n]},set:function(e){this["UNSAFE_"+n]=e}})}o.options.event=function(e){return w&&(e=w(e)),e.persist=function(){},e.nativeEvent=e};var N={configurable:!0,get:function(){return this.class}},O=o.options.vnode;o.options.vnode=function(e){e.$$typeof=C;var n=e.type,t=e.props;if("function"!=typeof n){var r,i,u;for(u in t.defaultValue&&(t.value||0===t.value||(t.value=t.defaultValue),delete t.defaultValue),Array.isArray(t.value)&&t.multiple&&"select"===n&&(Object(o.toChildArray)(t.children).forEach((function(e){-1!=t.value.indexOf(e.props.value)&&(e.props.selected=!0)})),delete t.value),t)if(r=y.test(u))break;if(r)for(u in i=e.props={},t)i[y.test(u)?u.replace(/([A-Z0-9])/,"-$1").toLowerCase():u]=t[u]}(t.class||t.className)&&(N.enumerable="className"in t,t.className&&(t.class=t.className),Object.defineProperty(t,"className",N)),function(n){var t=e.type,r=e.props;if(r&&"string"==typeof t){var o={};for(var i in r)/^on(Ani|Tra|Tou)/.test(i)&&(r[i.toLowerCase()]=r[i],delete r[i]),o[i.toLowerCase()]=i;if(o.ondoubleclick&&(r.ondblclick=r[o.ondoubleclick],delete r[o.ondoubleclick]),o.onbeforeinput&&(r.onbeforeinput=r[o.onbeforeinput],delete r[o.onbeforeinput]),o.onchange&&("textarea"===t||"input"===t.toLowerCase()&&!/^fil|che|ra/i.test(r.type))){var u=o.oninput||"oninput";r[u]||(r[u]=r[o.onchange],delete r[o.onchange])}}}(),"function"==typeof n&&!n.m&&n.prototype&&(x(n.prototype,"componentWillMount"),x(n.prototype,"componentWillReceiveProps"),x(n.prototype,"componentWillUpdate"),n.m=!0),O&&O(e)};function E(e){return!!e&&e.$$typeof===C}n.a={useState:r.j,useReducer:r.h,useEffect:r.d,useLayoutEffect:r.f,useRef:r.i,useImperativeHandle:r.e,useMemo:r.g,useCallback:r.a,useContext:r.b,useDebugValue:r.c,version:"16.8.0",Children:f,render:k,hydrate:k,unmountComponentAtNode:function(e){return!!e.__k&&(Object(o.render)(null,e),!0)},createPortal:function(e,n){return Object(o.createElement)(b,{vnode:e,container:n})},createElement:o.createElement,createContext:o.createContext,createFactory:function(e){return o.createElement.bind(null,e)},cloneElement:function(e){return E(e)?o.cloneElement.apply(null,arguments):e},createRef:o.createRef,Fragment:o.Fragment,isValidElement:E,findDOMNode:function(e){return e&&(e.base||1===e.nodeType&&e)||null},Component:o.Component,PureComponent:l,memo:function(e,n){function t(e){var t=this.props.ref,r=t==e.ref;return!r&&t&&(t.call?t(null):t.current=null),n?!n(this.props,e)||!r:u(this.props,e)}function r(n){return this.shouldComponentUpdate=t,Object(o.createElement)(e,i({},n))}return r.prototype.isReactComponent=!0,r.displayName="Memo("+(e.displayName||e.name)+")",r.t=!0,r},forwardRef:c,unstable_batchedUpdates:function(e,n){return e(n)},Suspense:_,SuspenseList:m,lazy:function(e){var n,t,r;function i(i){if(n||(n=e()).then((function(e){t=e.default||e}),(function(e){r=e})),r)throw r;if(!t)throw n;return Object(o.createElement)(t,i)}return i.displayName="Lazy",i.t=!0,i}}},function(e,n,t){"use strict";t.d(n,"b",(function(){return h})),t.d(n,"a",(function(){return _}));var r={data:""},o=function(e){try{var n=e?e.querySelector("#_goober"):self._goober;return n||((n=(e||document.head).appendChild(document.createElement("style"))).innerHTML=" ",n.id="_goober"),n.firstChild}catch(e){}return r},i=/(?:([a-z0-9-%@]+) *:? *([^{;]+?);|([^;}{]*?) +{)|(})/gi,u=/\/\*.*?\*\/|\s{2,}|\n/gm,l={c:0},a=function(e,n,t,r){var o=JSON.stringify(e),a=l[o]||(l[o]=t?"":".go"+o.split("").reduce((function(e,n){return e+n.charCodeAt(0)|8}),4));return function(e,n,t){n.data.indexOf(e)<0&&(n.data=t?e+n.data:n.data+e)}(l[a]||(l[a]=function e(n,t,r){var o="",i="",u="";if(/^@[k|f]/.test(r))return r+JSON.stringify(n).replace(/","/g,";").replace(/"|,"/g,"").replace(/:{/g,"{");for(var l in n){var a=n[l];if("object"==typeof a){var c=t+" "+l;/&/g.test(l)&&(c=l.replace(/&/g,t)),"@"==l[0]&&(c=t),i+=e(a,c,c==t?l:r||"")}else/^@i/.test(l)?u=l+" "+a+";":o+=l.replace(/[A-Z]/g,"-$&").toLowerCase()+":"+a+";"}if(o.charCodeAt(0)){var s=t+"{"+o+"}";return r?i+r+"{"+s+"}":u+s+i}return u+i}(e[0]?function(e){for(var n,t=[{}];n=i.exec(e.replace(u,""));)n[4]&&t.shift(),n[3]?t.unshift(t[0][n[3]]={}):n[4]||(t[0][n[1]]=n[2]);return t[0]}(e):e,a)),n,r),a.slice(1)},c=function(e,n,t){return e.reduce((function(e,r,o){var i=n[o];if(i&&i.call){var u=i(t),l=u&&u.props&&u.props.className||/^go/.test(u)&&u;i=l?"."+l:u&&u.props?"":u}return e+r+(i||"")}),"")};function s(e){var n=this||{},t=e.call?e(n.p):e;return a(t.map?c(t,[].slice.call(arguments,1),n.p):t,o(n.target),n.g,n.o)}s.bind({g:1});var f,d,p,_=function(e,n,t){f=e,d=n,p=t};function h(e){var n=this||{};return function(){var t=arguments;function r(r,o){var i=n.p=Object.assign(p?{theme:p()}:{},r),u=i.className;return n.o=/\s*go[0-9]+/g.test(u),i.className=s.apply(n,t)+(u?" "+u:""),i.ref=o,f(e,i)}return d?d(r):r}}},function(e,n){e.exports=function(e,n){return n||(n=e.slice(0)),e.raw=n,e}},function(e,n,t){var r;e.exports=(r=t(0),function(e){function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){"use strict";function r(){this._root=(0,u.render)(function e(n,t){if(3===n.nodeType)return n.nodeValue;if(1!==n.nodeType)return null;var r=[],o={},i=0,l=n.attributes,a=n.childNodes;for(i=l.length;i--;)o[l[i].name]=l[i].value;for(i=a.length;i--;)r[i]=e(a[i]);return(0,u.h)(t||n.nodeName.toLowerCase(),o,r)}(this,this._vdomComponent),this,this._root)}function o(){(0,u.render)((0,u.h)(l),this,this._root)}Object.defineProperty(n,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.default=function(e,n,t){var u=function(n){function u(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,u);var n=Reflect.construct(HTMLElement,[],u);return n._vdomComponent=e,n}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+(void 0===n?"undefined":i(n)));e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(u,HTMLElement),a(u,[{key:"connectedCallback",value:function(){r.apply(this)}},{key:"attributeChangedCallback",value:function(){r.apply(this)}},{key:"detachedCallback",value:function(){o.apply(this)}}],[{key:"observedAttributes",get:function(){return t}}]),u}();return window.customElements.define(n||e.displayName||e.name,u)};var u=t(1),l=function(){return null},a=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}()},function(e,n){e.exports=r}]))},function(e,n,t){"use strict";var r=t(4),o=t.n(r),i=t(0),u=t(2),l=t(3),a={colors:{$D10:"#162D3D",$D20:"#32536A",$D30:"#577083",$D40:"#7A92A5",$D50:"#B6C1CD",$D55:"#CBD3DC",$D60:"#DFE5EB",$D70:"#F0F4F7",$D80:"#FFFFFF",$B00:"#2B81CB",$B05:"#308DDD",$B10:"#3899EC",$B20:"#4EB7F5",$B25:"#A1D7FB",$B27:"#B3E0FB",$B30:"#C1E4FE",$B40:"#DAEFFE",$B50:"#EAF7FF",$B60:"#F4FAFE"},sidebar:{colors:{$bg:"#23263e",$divider:"#434567",$bgHover:"#2e3249",$bgActive:"#393f59"}}};function c(){var e=o()(["\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  box-sizing: border-box;\n"]);return c=function(){return e},e}var s=Object(i.createContext)(a);Object(l.a)(i.h,u.b,(function(){return Object(u.c)(s)}));var f=Object(l.b)("div")(c());n.a=function(e){var n=e.children;return Object(i.h)(f,{__source:{fileName:"/Users/igors/Development/pc-comonents/src/App.tsx",lineNumber:13}},n)}},function(e,n){function t(){return e.exports=t=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},t.apply(this,arguments)}e.exports=t},function(e,n,t){"use strict";n.a=function(e){var n=e.ref,t=e.eventName;return function(e){n.current&&n.current.dispatchEvent(new CustomEvent(t,{detail:e,bubbles:!0}))}}},,,,,,,,,function(e,n,t){"use strict";t.r(n);var r=t(4),o=t.n(r),i=t(7),u=t.n(i),l=t(0),a=t(1),c=t(3),s=t(5),f=t.n(s),d=t(2);function p(){return(p=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function _(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}var h={init:"init"},m={Cell:function(e){var n=e.cell.value;return void 0===n?"":n},width:150,minWidth:0,maxWidth:Number.MAX_SAFE_INTEGER};function v(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.reduce((function(e,n){var t=n.style,r=n.className;return e=p({},e,{},_(n,["style","className"])),t&&(e.style=e.style?p({},e.style||{},{},t||{}):t),r&&(e.className=e.className?e.className+" "+r:r),""===e.className&&delete e.className,e}),{})}var g=function(e,n){return void 0===n&&(n={}),function(t){return void 0===t&&(t={}),[].concat(e,[t]).reduce((function(e,r){return function e(n,t,r){return"function"==typeof t?e({},t(n,r)):Array.isArray(t)?v.apply(void 0,[n].concat(t)):v(n,t)}(e,r,p({},n,{userProps:t}))}),{})}},b=function(e,n,t){return void 0===t&&(t={}),e.reduce((function(e,n){return n(e,t)}),n)},y=function(e,n){return void 0===n&&(n={}),e.forEach((function(e){e(n)}))};function C(e,n,t,r){e.findIndex((function(e){return e.pluginName===t}));n.forEach((function(n){e.findIndex((function(e){return e.pluginName===n}))})),r.forEach((function(n){e.findIndex((function(e){return e.pluginName===n}))}))}function k(e,n){return"function"==typeof e?e(n):e}function w(e){var n=d.a.useRef();return n.current=e,d.a.useCallback((function(){return n.current}),[])}"undefined"!=typeof document?d.a.useLayoutEffect:d.a.useEffect;function x(e,n){var t=w(e[n]);return e[n]=void 0,t}function N(e,n,t){return void 0===t&&(t={}),function(r,o){void 0===o&&(o={});var i="string"==typeof r?n[r]:r;if(void 0===i)throw new Error("Renderer Error");return function(e,n){return t=e,function(e){return"function"==typeof e&&!(!(n=Object.getPrototypeOf(e)).prototype||!n.prototype.isReactComponent);var n}(t)||function(e){return"function"==typeof e}(t)||function(e){return"object"==typeof e&&"symbol"==typeof e.$$typeof&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}(t)?d.a.createElement(e,n):e;var t}(i,p({},e,{column:n},t,{},o))}}function O(e,n,t,r,o){var i=e=p({},m,{},n,{},e),u=i.id,l=i.accessor,a=i.Header;if("string"==typeof l){u=u||l;var c=l.split(".");l=function(e){return function(e,n,t){if(!n)return e;var r,o="function"==typeof n?n:JSON.stringify(n),i=j.get(o)||function(){var e=function(e){return function e(n,t){void 0===t&&(t=[]);if(Array.isArray(n))for(var r=0;r<n.length;r+=1)e(n[r],t);else t.push(n);return t}(e).map((function(e){return String(e).replace(".","_")})).join(".").replace(R,".").replace(H,"").split(".")}(n);return j.set(o,e),e}();try{r=i.reduce((function(e,n){return e[n]}),e)}catch(e){}return void 0!==r?r:t}(e,c)}}if(!u&&"string"==typeof a&&a&&(u=a),!u&&e.columns)throw console.error(e),new Error('A column ID (or unique "Header" value) is required!');if(!u)throw console.error(e),new Error("A column ID (or string accessor) is required!");return e=p({Header:function(){return d.a.createElement(d.a.Fragment,null," ")},Footer:function(){return d.a.createElement(d.a.Fragment,null," ")}},e,{id:u,accessor:l,parent:t,depth:r,index:o})}function E(e,n,t,r){return void 0===r&&(r=0),e.map((function(e,o){return(e=O(e,n,t,r,o)).columns&&(e.columns=E(e.columns,n,e,r+1)),e}))}function S(e,n){var t=[];return function e(r,o){var i={headers:[]},u=[],l=r.some((function(e){return e.parent}));r.forEach((function(e){var t=!u.length,r=[].concat(u).reverse()[0];if(e.parent){var o=u.filter((function(n){return n.originalId===e.parent.id}));(t||r.originalId!==e.parent.id)&&u.push(p({},e.parent,{originalId:e.parent.id,id:[e.parent.id,o.length].join("_")}))}else if(l){var a=[e.id,"placeholder"].join("_"),c=u.filter((function(e){return e.originalId===a})),s=O({originalId:a,id:[e.id,"placeholder",c.length].join("_"),placeholderOf:e},n);(t||r.originalId!==s.originalId)&&u.push(s)}(e.parent||l)&&((r=[].concat(u).reverse()[0]).headers=r.headers||[],r.headers.includes(e)||r.headers.push(e)),e.totalHeaderCount=e.headers?e.headers.reduce((function(e,n){return e+n.totalHeaderCount}),0):1,i.headers.push(e)})),t.push(i),u.length&&e(u)}(e),t.reverse()}var j=new Map;function P(e,n){var t=[];return function e(r){r.forEach((function(r){r[n]?e(r[n]):t.push(r)}))}(e),t}var R=/\[/g,H=/\]/g;var A=function(e){return e.filter((function(e){return e.column.isVisible}))},F=function(e,n){var t=n.column;return p({key:"header_"+t.id,colSpan:t.totalVisibleHeaderCount},e)},D=function(e,n){var t=n.column;return p({key:"footer_"+t.id,colSpan:t.totalVisibleHeaderCount},e)},T=function(e,n){return p({key:"headerGroup_"+n.index},e)},B=function(e,n){return p({key:"footerGroup_"+n.index},e)},M=function(e,n){return p({key:"row_"+n.row.id},e)},$=function(e,n){var t=n.cell;return p({},e,{key:"cell_"+t.row.id+"_"+t.column.id})};function W(){return{useOptions:[],stateReducers:[],useControlledState:[],columns:[],columnsDeps:[],flatColumns:[],flatColumnsDeps:[],headerGroups:[],headerGroupsDeps:[],useInstanceBeforeDimensions:[],useInstance:[],useRows:[],cells:[A],prepareRow:[],getTableProps:[],getTableBodyProps:[],getHeaderGroupProps:[T],getFooterGroupProps:[B],getHeaderProps:[F],getFooterProps:[D],getRowProps:[M],getCellProps:[$],useFinalInstance:[]}}h.resetHiddenColumns="resetHiddenColumns",h.toggleHideColumn="toggleHideColumn",h.setHiddenColumns="setHiddenColumns",h.toggleHideAllColumns="toggleHideAllColumns";var G=function(e){e.getToggleHiddenProps=[I],e.getToggleHideAllColumnsProps=[L],e.stateReducers.push(U),e.useInstanceBeforeDimensions.push(V),e.headerGroupsDeps.push((function(e,n){var t=n.instance;return[].concat(e,[t.state.hiddenColumns])})),e.useInstance.push(z)};G.pluginName="useColumnVisibility";var I=function(e,n){var t=n.column;return[e,{onChange:function(e){t.toggleHidden(!e.target.checked)},style:{cursor:"pointer"},checked:t.isVisible,title:"Toggle Column Visible"}]},L=function(e,n){var t=n.instance;return[e,{onChange:function(e){t.toggleHideAllColumns(!e.target.checked)},style:{cursor:"pointer"},checked:!t.allColumnsHidden&&!t.state.hiddenColumns.length,title:"Toggle All Columns Hidden",indeterminate:!t.allColumnsHidden&&t.state.hiddenColumns.length}]};function U(e,n,t,r){if(n.type===h.init)return p({hiddenColumns:[]},e);if(n.type===h.resetHiddenColumns)return p({},e,{hiddenColumns:r.initialState.hiddenColumns||[]});if(n.type===h.toggleHideColumn){var o=(void 0!==n.value?n.value:!e.hiddenColumns.includes(n.columnId))?[].concat(e.hiddenColumns,[n.columnId]):e.hiddenColumns.filter((function(e){return e!==n.columnId}));return p({},e,{hiddenColumns:o})}return n.type===h.setHiddenColumns?p({},e,{hiddenColumns:k(n.value,e.hiddenColumns)}):n.type===h.toggleHideAllColumns?p({},e,{hiddenColumns:(void 0!==n.value?n.value:!e.hiddenColumns.length)?r.flatColumns.map((function(e){return e.id})):[]}):void 0}function V(e){var n=e.headers,t=e.state.hiddenColumns;d.a.useRef(!1).current;var r=0;n.forEach((function(e){return r+=function e(n,r){n.isVisible=r&&!t.includes(n.id);var o=0;return n.headers&&n.headers.length?n.headers.forEach((function(t){return o+=e(t,n.isVisible)})):o=n.isVisible?1:0,n.totalVisibleHeaderCount=o,o}(e,!0)}))}function z(e){var n=e.flatHeaders,t=e.dispatch,r=e.flatColumns,o=e.state.hiddenColumns,i=w(e),u=r.length===o.length,l=d.a.useCallback((function(e,n){return t({type:h.toggleHideColumn,columnId:e,value:n})}),[t]),a=d.a.useCallback((function(e){return t({type:h.setHiddenColumns,value:e})}),[t]),c=d.a.useCallback((function(e){return t({type:h.toggleHideAllColumns,value:e})}),[t]),s=x(i().hooks,"getToggleHideAllColumnsProps"),f=g(s(),{instance:i()}),p=x(i().hooks,"getToggleHiddenProps");n.forEach((function(e){e.toggleHidden=function(n){t({type:h.toggleHideColumn,columnId:e.id,value:n})},e.getToggleHiddenProps=g(p(),{instance:i(),column:e})})),Object.assign(e,{allColumnsHidden:u,toggleHideColumn:l,setHiddenColumns:a,toggleHideAllColumns:c,getToggleHideAllColumnsProps:f})}var q={},J={},Z=function(e,n,t){return e},X=function(e,n){return e.subRows||[]},Y=function(e,n,t){return""+(t?[t.id,n].join("."):n)},K=function(e){return e};function Q(e){var n=e.initialState,t=void 0===n?q:n,r=e.defaultColumn,o=void 0===r?J:r,i=e.getSubRows,u=void 0===i?X:i,l=e.getRowId,a=void 0===l?Y:l,c=e.stateReducer,s=void 0===c?Z:c,f=e.useControlledState,d=void 0===f?K:f;return p({},_(e,["initialState","defaultColumn","getSubRows","getRowId","stateReducer","useControlledState"]),{initialState:t,defaultColumn:o,getSubRows:u,getRowId:a,stateReducer:s,useControlledState:d})}var ee=function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];e=Q(e),t=[G].concat(t);var o=d.a.useRef({}),i=w(o.current);Object.assign(i(),p({},e,{plugins:t,hooks:W()})),t.filter(Boolean).forEach((function(e){e(i().hooks)}));var u=x(i().hooks,"useOptions");Object.assign(i(),b(u(),Q(e)));var l=i(),a=l.data,c=l.columns,s=l.initialState,f=l.defaultColumn,_=l.getSubRows,m=l.getRowId,v=l.stateReducer,C=l.useControlledState,k=x(i().hooks,"stateReducers"),O=w(v),j=d.a.useCallback((function(e,n){if(!n.type)throw console.info({action:n}),new Error("Unknown Action 👆");return[].concat(k(),Array.isArray(O())?O():[O()]).reduce((function(t,r){return r(t,n,e,i())||t}),e)}),[k,O,i]),R=d.a.useReducer(j,void 0,(function(){return j(s,{type:h.init})})),H=R[0],A=R[1],F=x(i().hooks,"useControlledState"),D=b([].concat(F(),[C]),H,{instance:i()});Object.assign(i(),{state:D,dispatch:A});var T=x(i().hooks,"columns"),B=x(i().hooks,"columnsDeps"),M=d.a.useMemo((function(){return E(b(T(),c,{instance:i()}),f)}),[f,T,i,c].concat(b(B(),[],{instance:i()})));i().columns=M;var $=d.a.useMemo((function(){return P(M,"columns")}),[M]);i().flatColumns=$;var I=d.a.useMemo((function(){var e=[];return[a.map((function(n,t){return function n(t,r,o,i){void 0===o&&(o=0);var u=t,l={id:m(t,r,i),original:u,index:r,depth:o,cells:[{}]};e.push(l);var c=_(t,r);c&&(l.subRows=c.map((function(e,t){return n(e,t,o+1,l)})));var s=function(){throw new Error("React-Table: You have not called prepareRow(row) one or more rows you are attempting to render.")};return l.cells.map=s,l.cells.filter=s,l.cells.forEach=s,l.cells[0].getCellProps=s,l.values={},$.forEach((function(e){var n=e.id,i=e.accessor;l.values[n]=i?i(t,r,{subRows:c,depth:o,data:a}):void 0})),l}(n,t)})),e]}),[a,$,m,_]),L=I[0],U=I[1];i().rows=L,i().flatRows=U;var V=x(i().hooks,"flatColumns"),z=x(i().hooks,"flatColumnsDeps");$=d.a.useMemo((function(){return b(V(),$,{instance:i()})}),[$,V,i].concat(b(z(),[],{instance:i()}))),i().flatColumns=$;var q=x(i().hooks,"headerGroups"),J=x(i().hooks,"headerGroupsDeps"),Z=d.a.useMemo((function(){return b(q(),S($,f),i())}),[f,$,q,i].concat(b(J(),[],{instance:i()})));i().headerGroups=Z;var X=d.a.useMemo((function(){return Z.length?Z[0].headers:[]}),[Z]);i().headers=X,i().flatHeaders=Z.reduce((function(e,n){return[].concat(e,n.headers)}),[]);var Y=x(i().hooks,"useInstanceBeforeDimensions");y(Y(),i());var K=ne(X),ee=K[0],te=K[1],re=K[2];i().totalColumnsMinWidth=ee,i().totalColumnsWidth=te,i().totalColumnsMaxWidth=re;var oe=x(i().hooks,"useInstance");y(oe(),i());var ie=x(i().hooks,"getHeaderProps"),ue=x(i().hooks,"getFooterProps");[].concat(i().flatHeaders,i().flatColumns).forEach((function(e){e.render=N(i(),e),e.getHeaderProps=g(ie(),{instance:i(),column:e}),e.getFooterProps=g(ue(),{instance:i(),column:e})}));var le=x(i().hooks,"getHeaderGroupProps"),ae=x(i().hooks,"getFooterGroupProps");i().headerGroups=i().headerGroups.filter((function(e,n){return e.headers=e.headers.filter((function(e){return e.headers?function e(n){return n.filter((function(n){return n.headers?e(n.headers):n.isVisible})).length}(e.headers):e.isVisible})),!!e.headers.length&&(e.getHeaderGroupProps=g(le(),{instance:i(),headerGroup:e,index:n}),e.getFooterGroupProps=g(ae(),{instance:i(),headerGroup:e,index:n}),!0)})),i().footerGroups=[].concat(i().headerGroups).reverse();var ce=x(i().hooks,"useRows");i().rows=b(ce(),i().rows,{instance:i()});var se=x(i().hooks,"prepareRow"),fe=x(i().hooks,"getRowProps"),de=x(i().hooks,"getCellProps"),pe=x(i().hooks,"cells");i().prepareRow=d.a.useCallback((function(e){e.getRowProps=g(fe(),{instance:i(),row:e}),e.allCells=$.map((function(n){var t={column:n,row:e,value:e.values[n.id]};return t.getCellProps=g(de(),{instance:i(),cell:t}),t.render=N(i(),n,{row:e,cell:t}),t})),e.cells=b(pe(),e.allCells,{instance:i()}),y(se(),e,i())}),[fe,i,$,pe,se,de]);var _e=x(i().hooks,"getTableProps");i().getTableProps=g(_e(),{instance:i()});var he=x(i().hooks,"getTableBodyProps");i().getTableBodyProps=g(he(),{instance:i()});var me=x(i().hooks,"useFinalInstance");return y(me(),i()),i()};function ne(e,n){void 0===n&&(n=0);var t=0,r=0,o=0;return e.forEach((function(e){var i=e.headers;if(e.totalLeft=n,i&&i.length){var u=ne(i,n),l=u[0],a=u[1],c=u[2];e.totalMinWidth=l,e.totalWidth=a,e.totalMaxWidth=c}else e.totalMinWidth=e.minWidth,e.totalWidth=Math.min(Math.max(e.minWidth,e.width),e.maxWidth),e.totalMaxWidth=e.maxWidth;e.isVisible&&(n+=e.totalWidth,t+=e.totalMinWidth,r+=e.totalWidth,o+=e.totalMaxWidth)})),[t,r,o]}h.toggleExpanded="toggleExpanded",h.toggleAllExpanded="toggleAllExpanded",h.setExpanded="setExpanded",h.resetExpanded="resetExpanded";var te=function(e,n,t){return e=e.filter((function(e){return n.some((function(n){var r=e.values[n];return String(r).toLowerCase().includes(String(t).toLowerCase())}))}))};te.autoRemove=function(e){return!e};var re=function(e,n,t){return e.filter((function(e){return n.some((function(n){var r=e.values[n];return void 0===r||String(r).toLowerCase()===String(t).toLowerCase()}))}))};re.autoRemove=function(e){return!e};var oe=function(e,n,t){return e.filter((function(e){return n.some((function(n){var r=e.values[n];return void 0===r||String(r)===String(t)}))}))};oe.autoRemove=function(e){return!e};var ie=function(e,n,t){return e.filter((function(e){return n.some((function(n){var r=e.values[n];return t.includes(r)}))}))};ie.autoRemove=function(e){return!e||!e.length};var ue=function(e,n,t){return e.filter((function(e){return n.some((function(n){var r=e.values[n];return r&&r.length&&t.every((function(e){return r.includes(e)}))}))}))};ue.autoRemove=function(e){return!e||!e.length};var le=function(e,n,t){return e.filter((function(e){return n.some((function(n){return e.values[n]===t}))}))};le.autoRemove=function(e){return void 0===e};var ae=function(e,n,t){return e.filter((function(e){return n.some((function(n){return e.values[n]==t}))}))};ae.autoRemove=function(e){return null==e};var ce=function(e,n,t){var r=t||[],o=r[0],i=r[1];if((o="number"==typeof o?o:-1/0)>(i="number"==typeof i?i:1/0)){var u=o;o=i,i=u}return e.filter((function(e){return n.some((function(n){var t=e.values[n];return t>=o&&t<=i}))}))};ce.autoRemove=function(e){return!e||"number"!=typeof e[0]&&"number"!=typeof e[1]};h.resetFilters="resetFilters",h.setFilter="setFilter",h.setAllFilters="setAllFilters";h.resetGlobalFilter="resetGlobalFilter",h.setGlobalFilter="setGlobalFilter";h.resetGroupBy="resetGroupBy",h.toggleGroupBy="toggleGroupBy";h.resetSortBy="resetSortBy",h.toggleSortBy="toggleSortBy",h.clearSortBy="clearSortBy",m.sortType="alphanumeric",m.sortDescFirst=!1;h.resetPage="resetPage",h.gotoPage="gotoPage",h.setPageSize="setPageSize";h.resetSelectedRows="resetSelectedRows",h.toggleAllRowsSelected="toggleAllRowsSelected",h.toggleRowSelected="toggleRowSelected";h.setRowState="setRowState",h.resetRowState="resetRowState";h.resetColumnOrder="resetColumnOrder",h.setColumnOrder="setColumnOrder";m.canResize=!0,h.columnStartResizing="columnStartResizing",h.columnResizing="columnResizing",h.columnDoneResizing="columnDoneResizing";var se={position:"absolute",top:0},fe=function(e){e.getTableBodyProps.push(de),e.getRowProps.push(de),e.getHeaderGroupProps.push(de),e.useInstance.push(pe),e.getHeaderProps.push((function(e,n){var t=n.column;return[e,{style:p({},se,{left:t.totalLeft+"px",width:t.totalWidth+"px"})}]})),e.getCellProps.push((function(e,n){var t=n.cell;return[e,{style:p({},se,{left:t.column.totalLeft+"px",width:t.column.totalWidth+"px"})}]}))};fe.pluginName="useAbsoluteLayout";var de=function(e,n){return[e,{style:{position:"relative",width:n.instance.totalColumnsWidth+"px"}}]};function pe(e){C(e.plugins,[],fe.pluginName,["useResizeColumns"])}var _e=t(6),he=t(8);function me(){var e=o()(["\n\n@keyframes pulsate {\n  from {\n   background-position:200% 50%;\n  }\n\n  to {\n    background-position:-200% 50%;\n  }\n}\n\n  width: ","px;\n  background: linear-gradient(\n    270deg,\n    rgb(250, 250, 250),\n    rgb(234, 234, 234),\n    rgb(234, 234, 234),\n    rgb(250, 250, 250)\n  );\n  background-size: 400% 400%;\n  position: relative;\n  box-sizing: border-box;\n  display: block;\n  animation-timing-function: linear;\n  animation-direction: normal;\n  animation-duration: 3s;\n  animation-fill-mode: none;\n  border-radius: 0px;\n  animation-play-state: running;\n  animation-delay: initial;\n  animation-iteration-count: infinite;\n  animation-direction: initial;\n  animation-fill-mode: initial;\n  animation-play-state: initial;\n  height: ","px;\n  animation-name: pulsate;\n  &:last-child {\n    margin-bottom: 0;\n  }\n"]);return me=function(){return e},e}var ve=Object(c.b)("span")(me(),(function(e){return e.width}),(function(e){return e.height?e.height:16})),ge=function(e){var n=e.width,t=e.height,r=n||150,o=Object(a.j)(0),i=o[0],u=o[1];return Object(a.d)((function(){var e,t;return u((e=60,t=r,Math.floor(Math.random()*(t-e+1)+e))),function(){return n}}),[]),Object(l.h)(ve,{height:t,width:i,__source:{fileName:"/Users/igors/Development/pc-comonents/src/components/Skeleton/index.tsx",lineNumber:17}})},be="/Users/igors/Development/pc-comonents/src/components/Table/index.tsx";function ye(){var e=o()(["\n  .table {\n    font-size: 14px;\n    background: ",";\n    border-bottom-left-radius: 8px;\n    border-bottom-right-radius: 8px;\n    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.1);\n    width: 100%;\n    overflow: hidden;\n\n    .tr.header {\n      background: ",";\n      height: 42px;\n      &:hover {\n        background: ",";\n        cursor: default;\n      }\n    }\n\n    .tr {\n      height: 54px;\n      width: 100%;\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      border-bottom: 1px solid ",";\n\n      &:hover {\n        background: ",";\n        cursor: pointer;\n        transition: all 120ms ease;\n      }\n\n      .th,\n      .td {\n        display: block;\n        flex: 1;\n        text-align: left;\n        overflow-x: hidden;\n        text-overflow: ellipsis;\n        padding: 0 30px 0 0;\n        align-items: center;\n      }\n\n      .th:first-child,\n      .td:first-child {\n        padding: 0 0 0 30px;\n      }\n    }\n  }\n"]);return ye=function(){return e},e}var Ce=function(){var e=new Array(4).fill({}).map((function(e,n){return{accessor:""+n}})),n=new Array(4).fill({}),t=ee({columns:e,data:n}),r=t.getTableProps,o=t.getTableBodyProps,i=t.headerGroups,a=t.rows,c=t.prepareRow;return Object(l.h)(_e.a,{__source:{fileName:be,lineNumber:32}},Object(l.h)(we,{__source:{fileName:be,lineNumber:33}},Object(l.h)("div",u()({},r(),{className:"table",__source:{fileName:be,lineNumber:34}}),Object(l.h)("div",{__source:{fileName:be,lineNumber:35}},i.map((function(e){return Object(l.h)("div",u()({key:e.id},e.getHeaderGroupProps(),{className:"tr header",__source:{fileName:be,lineNumber:37}}),e.headers.map((function(e){return Object(l.h)("div",u()({key:e.id},e.getHeaderProps(),{className:"th",__source:{fileName:be,lineNumber:39}}))})))}))),Object(l.h)("div",u()({},o(),{__source:{fileName:be,lineNumber:48}}),a.map((function(e){return c(e),Object(l.h)("div",u()({key:e.id},e.getRowProps(),{className:"tr",__source:{fileName:be,lineNumber:53}}),e.cells.map((function(e){return Object(l.h)("div",u()({key:e.value},e.getCellProps(),{className:"td",__source:{fileName:be,lineNumber:55}}),Object(l.h)(ge,{height:16,__source:{fileName:be,lineNumber:56}}))})))}))))))},ke=function(e){var n=e.data,t=e.columns,r=Object(a.j)(null),o=r[0],i=r[1],c=Object(a.j)(null),s=c[0],f=c[1],d=Object(a.i)();Object(a.d)((function(){if(n&&t){var e=JSON.parse(n),r=JSON.parse(t);i(e),f(r)}}),[n,t]),Object(a.d)((function(){console.log(o,s)}),[o,s]);var p=Object(he.a)({ref:d,eventName:"tableRowClicked"});if(!o||!s)return Object(l.h)(Ce,{__source:{fileName:be,lineNumber:99}});var _=ee({columns:s,data:o}),h=_.getTableProps,m=_.getTableBodyProps,v=_.headerGroups,g=_.rows,b=_.prepareRow;return Object(l.h)(_e.a,{__source:{fileName:be,lineNumber:113}},Object(l.h)(we,{__source:{fileName:be,lineNumber:114}},Object(l.h)("div",u()({ref:d},h(),{className:"table",__source:{fileName:be,lineNumber:115}}),Object(l.h)("div",{__source:{fileName:be,lineNumber:116}},v.map((function(e){return Object(l.h)("div",u()({key:e.id},e.getHeaderGroupProps(),{className:"tr header",__source:{fileName:be,lineNumber:118}}),e.headers.map((function(e){return Object(l.h)("div",u()({key:e.id},e.getHeaderProps(),{className:"th",__source:{fileName:be,lineNumber:120}}),e.render("Header"))})))}))),Object(l.h)("div",u()({},m(),{__source:{fileName:be,lineNumber:129}}),g.map((function(e,n){return b(e),Object(l.h)("div",u()({onClick:function(){return p(e.values)},key:e.id},e.getRowProps(),{className:"tr",__source:{fileName:be,lineNumber:134}}),e.cells.map((function(e){return Object(l.h)("div",u()({key:e.value},e.getCellProps(),{className:"td",__source:{fileName:be,lineNumber:136}}),e.render("Cell"))})))}))))))},we=Object(c.b)("div")(ye(),(function(e){return e.theme.colors.$D80}),(function(e){return e.theme.colors.$B40}),(function(e){return e.theme.colors.$B40}),(function(e){return e.theme.colors.$D60}),(function(e){return e.theme.colors.$B50}));f()(ke,"x-table",["columns","data"]);n.default=ke}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9vcHRpb25zLmpzIiwid2VicGFjazovLy8uLi9zcmMvY3JlYXRlLWVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9yZW5kZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jcmVhdGUtY29udGV4dC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3V0aWwuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9kaWZmL2NoaWxkcmVuLmpzIiwid2VicGFjazovLy8uLi9zcmMvZGlmZi9wcm9wcy5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2RpZmYvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jbG9uZS1lbGVtZW50LmpzIiwid2VicGFjazovLy8uLi9zcmMvZGlmZi9jYXRjaC1lcnJvci5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uLi9zcmMvUHVyZUNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2ZvcndhcmRSZWYuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9DaGlsZHJlbi5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3N1c3BlbnNlLmpzIiwid2VicGFjazovLy8uLi9zcmMvc3VzcGVuc2UtbGlzdC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3BvcnRhbHMuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9ldmVudHMuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9tZW1vLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AbmtzYXJhZi9nb29iZXIvZGlzdC9nb29iZXIubW9kdWxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbExvb3NlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcmVhY3QtY3VzdG9tLWVsZW1lbnQvZGlzdC9idW5kbGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL2dsb2JhbFN0eWxlcy50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL0FwcC50c3giLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvdXNlQ3VzdG9tRXZlbnQudHN4Iiwid2VicGFjazovLy8uLi9zcmMvcHVibGljVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL21ha2VEZWZhdWx0UGx1Z2luSG9va3MuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9ob29rcy91c2VDb2x1bW5WaXNpYmlsaXR5LmpzIiwid2VicGFjazovLy8uLi9zcmMvaG9va3MvdXNlVGFibGUuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9wbHVnaW4taG9va3MvdXNlRXhwYW5kZWQuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9maWx0ZXJUeXBlcy5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3BsdWdpbi1ob29rcy91c2VGaWx0ZXJzLmpzIiwid2VicGFjazovLy8uLi9zcmMvcGx1Z2luLWhvb2tzL3VzZUdsb2JhbEZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3BsdWdpbi1ob29rcy91c2VHcm91cEJ5LmpzIiwid2VicGFjazovLy8uLi9zcmMvcGx1Z2luLWhvb2tzL3VzZVNvcnRCeS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3BsdWdpbi1ob29rcy91c2VQYWdpbmF0aW9uLmpzIiwid2VicGFjazovLy8uLi9zcmMvcGx1Z2luLWhvb2tzL3VzZVJvd1NlbGVjdC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3BsdWdpbi1ob29rcy91c2VSb3dTdGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3BsdWdpbi1ob29rcy91c2VDb2x1bW5PcmRlci5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3BsdWdpbi1ob29rcy91c2VSZXNpemVDb2x1bW5zLmpzIiwid2VicGFjazovLy8uLi9zcmMvcGx1Z2luLWhvb2tzL3VzZUFic29sdXRlTGF5b3V0LmpzIiwid2VicGFjazovLy8uLi9zcmMvcGx1Z2luLWhvb2tzL3VzZUZsZXhMYXlvdXQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvU2tlbGV0b24vaW5kZXgudHN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1RhYmxlL2luZGV4LnRzeCJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIm9wdGlvbnMiLCJpc1ZhbGlkRWxlbWVudCIsInEiLCJkZWZlciIsInByZXZEZWJvdW5jZSIsIklTX0hZRFJBVEUiLCJFTVBUWV9PQkoiLCJFTVBUWV9BUlIiLCJJU19OT05fRElNRU5TSU9OQUwiLCJhc3NpZ24iLCJvYmoiLCJwcm9wcyIsInJlbW92ZU5vZGUiLCJub2RlIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiY3JlYXRlRWxlbWVudCIsInR5cGUiLCJjaGlsZHJlbiIsIm5vcm1hbGl6ZWRQcm9wcyIsImFyZ3VtZW50cyIsImxlbmd0aCIsInB1c2giLCJkZWZhdWx0UHJvcHMiLCJjcmVhdGVWTm9kZSIsInJlZiIsInZub2RlIiwiX2NoaWxkcmVuIiwiX3BhcmVudCIsIl9kZXB0aCIsIl9kb20iLCJfbGFzdERvbUNoaWxkIiwiX2NvbXBvbmVudCIsImNvbnN0cnVjdG9yIiwidW5kZWZpbmVkIiwiY3JlYXRlUmVmIiwiRnJhZ21lbnQiLCJDb21wb25lbnQiLCJjb250ZXh0IiwiZ2V0RG9tU2libGluZyIsImNoaWxkSW5kZXgiLCJpbmRleE9mIiwic2libGluZyIsInVwZGF0ZVBhcmVudERvbVBvaW50ZXJzIiwiY2hpbGQiLCJiYXNlIiwiZW5xdWV1ZVJlbmRlciIsIl9kaXJ0eSIsImRlYm91bmNlUmVuZGVyaW5nIiwicHJvY2VzcyIsImNvbXBvbmVudCIsImNvbW1pdFF1ZXVlIiwibmV3RG9tIiwib2xkRG9tIiwicGFyZW50RG9tIiwic29ydCIsImEiLCJiIiwiX3Zub2RlIiwicG9wIiwiX3BhcmVudERvbSIsImRpZmYiLCJfY29udGV4dCIsIm93bmVyU1ZHRWxlbWVudCIsImNvbW1pdFJvb3QiLCJkaWZmQ2hpbGRyZW4iLCJuZXdQYXJlbnRWTm9kZSIsIm9sZFBhcmVudFZOb2RlIiwiaXNTdmciLCJleGNlc3NEb21DaGlsZHJlbiIsImlzSHlkcmF0aW5nIiwiaiIsIm9sZFZOb2RlIiwic2liRG9tIiwiZmlyc3RDaGlsZERvbSIsInJlZnMiLCJvbGRDaGlsZHJlbiIsIm9sZENoaWxkcmVuTGVuZ3RoIiwidG9DaGlsZEFycmF5IiwiY2hpbGRWTm9kZSIsIm91dGVyIiwiYXBwZW5kQ2hpbGQiLCJuZXh0U2libGluZyIsImluc2VydEJlZm9yZSIsInVubW91bnQiLCJhcHBseVJlZiIsImNhbGxiYWNrIiwiZmxhdHRlbmVkIiwiQXJyYXkiLCJpc0FycmF5Iiwic2V0U3R5bGUiLCJzdHlsZSIsInNldFByb3BlcnR5IiwidGVzdCIsImRvbSIsIm9sZFZhbHVlIiwidXNlQ2FwdHVyZSIsIm5hbWVMb3dlciIsImNzc1RleHQiLCJyZXBsYWNlIiwidG9Mb3dlckNhc2UiLCJzbGljZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudFByb3h5IiwiX2xpc3RlbmVycyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyZW1vdmVBdHRyaWJ1dGVOUyIsInNldEF0dHJpYnV0ZU5TIiwicmVtb3ZlQXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwiZSIsImV2ZW50IiwibmV3Vk5vZGUiLCJ0bXAiLCJpc05ldyIsIm9sZFByb3BzIiwib2xkU3RhdGUiLCJzbmFwc2hvdCIsImNsZWFyUHJvY2Vzc2luZ0V4Y2VwdGlvbiIsIm5ld1Byb3BzIiwicHJvdmlkZXIiLCJjY3R4IiwibmV3VHlwZSIsIl9kaWZmIiwiY29udGV4dFR5cGUiLCJfaWQiLCJfZGVmYXVsdFZhbHVlIiwiX3Byb2Nlc3NpbmdFeGNlcHRpb24iLCJfcGVuZGluZ0Vycm9yIiwicmVuZGVyIiwiZG9SZW5kZXIiLCJzdWIiLCJzdGF0ZSIsIl9yZW5kZXJDYWxsYmFja3MiLCJfbmV4dFN0YXRlIiwiZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIiwiY29tcG9uZW50V2lsbE1vdW50IiwiY29tcG9uZW50RGlkTW91bnQiLCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwiX2ZvcmNlIiwic2hvdWxkQ29tcG9uZW50VXBkYXRlIiwiY29tcG9uZW50V2lsbFVwZGF0ZSIsImNvbXBvbmVudERpZFVwZGF0ZSIsIl9yZW5kZXIiLCJnZXRDaGlsZENvbnRleHQiLCJnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSIsImRpZmZFbGVtZW50Tm9kZXMiLCJkaWZmZWQiLCJfY2F0Y2hFcnJvciIsInJvb3QiLCJfY29tbWl0Iiwic29tZSIsImNiIiwib2xkSHRtbCIsIm5ld0h0bWwiLCJub2RlVHlwZSIsImxvY2FsTmFtZSIsImRvY3VtZW50IiwiY3JlYXRlVGV4dE5vZGUiLCJjcmVhdGVFbGVtZW50TlMiLCJkYXRhIiwiY2hpbGROb2RlcyIsImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIiwiYXR0cmlidXRlcyIsIl9faHRtbCIsImlubmVySFRNTCIsImh5ZHJhdGUiLCJkaWZmUHJvcHMiLCJjaGVja2VkIiwiY3VycmVudCIsInBhcmVudFZOb2RlIiwic2tpcFJlbW92ZSIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwidGhpcyIsInJlcGxhY2VOb2RlIiwiX3Jvb3QiLCJjbG9uZUVsZW1lbnQiLCJjcmVhdGVDb250ZXh0IiwiZGVmYXVsdFZhbHVlIiwiY3R4IiwiQ29uc3VtZXIiLCJQcm92aWRlciIsInN1YnMiLCJfdGhpcyIsIl9wcm9wcyIsIm9sZCIsInNwbGljZSIsImVycm9yIiwiaGFzQ2F1Z2h0IiwiZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yIiwic2V0U3RhdGUiLCJjb21wb25lbnREaWRDYXRjaCIsInVwZGF0ZSIsImZvcmNlVXBkYXRlIiwiUHJvbWlzZSIsInRoZW4iLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImN1cnJlbnRJbmRleCIsImN1cnJlbnRDb21wb25lbnQiLCJwcmV2UmFmIiwiYWZ0ZXJQYWludEVmZmVjdHMiLCJvbGRCZWZvcmVSZW5kZXIiLCJvbGRBZnRlckRpZmYiLCJvbGRDb21taXQiLCJvbGRCZWZvcmVVbm1vdW50IiwiZ2V0SG9va1N0YXRlIiwiaW5kZXgiLCJfaG9vayIsImhvb2tzIiwiX19ob29rcyIsIl9saXN0IiwiX3BlbmRpbmdFZmZlY3RzIiwidXNlU3RhdGUiLCJpbml0aWFsU3RhdGUiLCJ1c2VSZWR1Y2VyIiwiaW52b2tlT3JSZXR1cm4iLCJyZWR1Y2VyIiwiaW5pdCIsImhvb2tTdGF0ZSIsIl92YWx1ZSIsIm5leHRWYWx1ZSIsImFjdGlvbiIsInVzZUVmZmVjdCIsImFyZ3MiLCJhcmdzQ2hhbmdlZCIsIl9hcmdzIiwidXNlTGF5b3V0RWZmZWN0IiwidXNlUmVmIiwiaW5pdGlhbFZhbHVlIiwidXNlTWVtbyIsInVzZUltcGVyYXRpdmVIYW5kbGUiLCJjcmVhdGVIYW5kbGUiLCJjb25jYXQiLCJmYWN0b3J5IiwiX2ZhY3RvcnkiLCJ1c2VDYWxsYmFjayIsInVzZUNvbnRleHQiLCJ1c2VEZWJ1Z1ZhbHVlIiwiZm9ybWF0dGVyIiwiZmx1c2hBZnRlclBhaW50RWZmZWN0cyIsImZvckVhY2giLCJpbnZva2VDbGVhbnVwIiwiaW52b2tlRWZmZWN0IiwiaG9vayIsIl9jbGVhbnVwIiwicmVzdWx0Iiwib2xkQXJncyIsIm5ld0FyZ3MiLCJhcmciLCJmIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwicmFmIiwiZG9uZSIsImNsZWFyVGltZW91dCIsInRpbWVvdXQiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsIndpbmRvdyIsImZpbHRlciIsInNoYWxsb3dEaWZmZXJzIiwiUHVyZUNvbXBvbmVudCIsImlzUHVyZVJlYWN0Q29tcG9uZW50Iiwib2xkVk5vZGVIb29rIiwiZm9yd2FyZFJlZiIsImZuIiwiRm9yd2FyZGVkIiwiY2xvbmUiLCJpc1JlYWN0Q29tcG9uZW50IiwiX2ZvcndhcmRlZCIsImRpc3BsYXlOYW1lIiwibWFwRm4iLCJtYXAiLCJDaGlsZHJlbiIsImNvdW50Iiwib25seSIsIkVycm9yIiwidG9BcnJheSIsIm9sZENhdGNoRXJyb3IiLCJkZXRhY2hlZENsb25lIiwiU3VzcGVuc2UiLCJfc3VzcGVuc2lvbnMiLCJfZGV0YWNoT25OZXh0UmVuZGVyIiwic3VzcGVuZGVkIiwiX3N1c3BlbmRlZCIsIlN1c3BlbnNlTGlzdCIsIl9uZXh0IiwiX21hcCIsIl9jaGlsZERpZFN1c3BlbmQiLCJwcm9taXNlIiwic3VzcGVuZGluZ0NvbXBvbmVudCIsInJlc29sdmVkIiwib25SZXNvbHZlZCIsIm9uU3VzcGVuc2lvbkNvbXBsZXRlIiwiX3N1c3BlbmRlZENvbXBvbmVudFdpbGxVbm1vdW50IiwiZmFsbGJhY2siLCJsaXN0IiwiZGVsZXRlIiwicmV2ZWFsT3JkZXIiLCJzaXplIiwiZGVsZWdhdGVkIiwid3JhcHBlZFVuc3VzcGVuZCIsInVuc3VzcGVuZCIsIk1hcCIsInJldmVyc2UiLCJzZXQiLCJDb250ZXh0UHJvdmlkZXIiLCJQb3J0YWwiLCJjb250YWluZXIiLCJ3cmFwIiwiX2NvbnRhaW5lciIsIl90ZW1wIiwiX3VubW91bnQiLCJfd3JhcCIsIl9oYXNNb3VudGVkIiwiQ0FNRUxfUFJPUFMiLCJSRUFDVF9FTEVNRU5UX1RZUEUiLCJmb3IiLCJwYXJlbnQiLCJmaXJzdENoaWxkIiwicHJlYWN0UmVuZGVyIiwib2xkRXZlbnRIb29rIiwic2V0U2FmZURlc2NyaXB0b3IiLCJwcm90byIsImNvbmZpZ3VyYWJsZSIsInYiLCJwZXJzaXN0IiwibmF0aXZlRXZlbnQiLCJjbGFzc05hbWVEZXNjcmlwdG9yIiwiY2xhc3MiLCIkJHR5cGVvZiIsInNob3VsZFNhbml0aXplIiwiYXR0cnMiLCJtdWx0aXBsZSIsInNlbGVjdGVkIiwiY2xhc3NOYW1lIiwib25kb3VibGVjbGljayIsIm9uZGJsY2xpY2siLCJvbmJlZm9yZWlucHV0Iiwib25jaGFuZ2UiLCJub3JtYWxpemVkIiwib25pbnB1dCIsIl9wYXRjaGVkTGlmZWN5Y2xlcyIsImVsZW1lbnQiLCJ2ZXJzaW9uIiwidW5tb3VudENvbXBvbmVudEF0Tm9kZSIsImNyZWF0ZVBvcnRhbCIsImNyZWF0ZUZhY3RvcnkiLCJwcmVhY3RDbG9uZUVsZW1lbnQiLCJhcHBseSIsImZpbmRET01Ob2RlIiwibWVtbyIsImNvbXBhcmVyIiwic2hvdWxkVXBkYXRlIiwibmV4dFByb3BzIiwidXBkYXRlUmVmIiwiTWVtb2VkIiwidW5zdGFibGVfYmF0Y2hlZFVwZGF0ZXMiLCJsYXp5IiwibG9hZGVyIiwicHJvbSIsIkxhenkiLCJkZWZhdWx0IiwicXVlcnlTZWxlY3RvciIsInNlbGYiLCJfZ29vYmVyIiwiaGVhZCIsImlkIiwidSIsIkpTT04iLCJzdHJpbmdpZnkiLCJzcGxpdCIsInJlZHVjZSIsImNoYXJDb2RlQXQiLCJleGVjIiwic2hpZnQiLCJ1bnNoaWZ0IiwidGFyZ2V0IiwiZyIsInRoZW1lIiwic3RyaW5ncyIsInJhdyIsInJlcXVpcmUiLCJsb2FkZWQiLCJub2RlVmFsdWUiLCJoIiwibm9kZU5hbWUiLCJfdmRvbUNvbXBvbmVudCIsIml0ZXJhdG9yIiwiVHlwZUVycm9yIiwiUmVmbGVjdCIsImNvbnN0cnVjdCIsIkhUTUxFbGVtZW50Iiwid3JpdGFibGUiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsImN1c3RvbUVsZW1lbnRzIiwiZGVmaW5lIiwiY29sb3JzIiwiJEQxMCIsIiREMjAiLCIkRDMwIiwiJEQ0MCIsIiRENTAiLCIkRDU1IiwiJEQ2MCIsIiRENzAiLCIkRDgwIiwiJEIwMCIsIiRCMDUiLCIkQjEwIiwiJEIyMCIsIiRCMjUiLCIkQjI3IiwiJEIzMCIsIiRCNDAiLCIkQjUwIiwiJEI2MCIsInNpZGViYXIiLCIkYmciLCIkZGl2aWRlciIsIiRiZ0hvdmVyIiwiJGJnQWN0aXZlIiwiVGhlbWVDb250ZXh0Iiwic2V0dXAiLCJTdHlsZWRCYXNlIiwic3R5bGVkIiwiQXBwIiwiX2V4dGVuZHMiLCJzb3VyY2UiLCJ1c2VDdXN0b21FdmVudCIsImV2ZW50TmFtZSIsImV2RGF0YSIsImRpc3BhdGNoRXZlbnQiLCJDdXN0b21FdmVudCIsImRldGFpbCIsImJ1YmJsZXMiLCJhY3Rpb25zIiwiZGVmYXVsdENvbHVtbiIsIkNlbGwiLCJ3aWR0aCIsIm1pbldpZHRoIiwibWF4V2lkdGgiLCJOdW1iZXIiLCJNQVhfU0FGRV9JTlRFR0VSIiwibWVyZ2VQcm9wcyIsInByb3BMaXN0IiwibmV4dCIsIm1ha2VQcm9wR2V0dGVyIiwibWV0YSIsInVzZXJQcm9wcyIsImhhbmRsZVByb3BHZXR0ZXIiLCJwcmV2UHJvcHMiLCJwcmV2IiwicmVkdWNlSG9va3MiLCJpbml0aWFsIiwibG9vcEhvb2tzIiwiZW5zdXJlUGx1Z2luT3JkZXIiLCJwbHVnaW5zIiwiYmVmb3JlcyIsInBsdWdpbk5hbWUiLCJhZnRlcnMiLCJwbHVnaW4iLCJiZWZvcmUiLCJhZnRlciIsImZ1bmN0aW9uYWxVcGRhdGUiLCJ1cGRhdGVyIiwidXNlR2V0TGF0ZXN0IiwiUmVhY3QiLCJ1c2VDb25zdW1lSG9va0dldHRlciIsImhvb2tOYW1lIiwibWFrZVJlbmRlcmVyIiwiaW5zdGFuY2UiLCJjb2x1bW4iLCJDb21wIiwiaXNDbGFzc0NvbXBvbmVudCIsImlzRnVuY3Rpb25Db21wb25lbnQiLCJpbmNsdWRlcyIsImlzRXhvdGljQ29tcG9uZW50IiwiZmxleFJlbmRlciIsImRlY29yYXRlQ29sdW1uIiwidXNlckRlZmF1bHRDb2x1bW4iLCJkZXB0aCIsImFjY2Vzc29yIiwiSGVhZGVyIiwiYWNjZXNzb3JQYXRoIiwicm93IiwicGF0aCIsImRlZiIsImNhY2hlS2V5IiwicGF0aE9iaiIsInBhdGhPYmpDYWNoZSIsImZsYXR0ZW5EZWVwIiwiYXJyIiwibmV3QXJyIiwiU3RyaW5nIiwibWFrZVBhdGhBcnJheSIsInZhbCIsImN1cnNvciIsImdldEJ5IiwiY29uc29sZSIsIkZvb3RlciIsImRlY29yYXRlQ29sdW1uVHJlZSIsImNvbHVtbnMiLCJtYWtlSGVhZGVyR3JvdXBzIiwiZmxhdENvbHVtbnMiLCJoZWFkZXJHcm91cHMiLCJidWlsZEdyb3VwIiwiaGVhZGVyR3JvdXAiLCJoZWFkZXJzIiwicGFyZW50Q29sdW1ucyIsImhhc1BhcmVudHMiLCJjb2wiLCJpc0ZpcnN0IiwibGF0ZXN0UGFyZW50Q29sdW1uIiwic2ltaWxhclBhcmVudENvbHVtbnMiLCJvcmlnaW5hbElkIiwicGxhY2Vob2xkZXJDb2x1bW4iLCJwbGFjZWhvbGRlck9mIiwic3VtIiwiaGVhZGVyIiwiZmxhdHRlbkJ5IiwiY2hpbGRLZXkiLCJyZWN1cnNlIiwicmVPcGVuQnJhY2tldCIsInJlQ2xvc2VCcmFja2V0IiwiZGVmYXVsdENlbGxzIiwiY2VsbCIsImRlZmF1bHRHZXRIZWFkZXJQcm9wcyIsImNvbFNwYW4iLCJ0b3RhbFZpc2libGVIZWFkZXJDb3VudCIsImRlZmF1bHRHZXRGb290ZXJQcm9wcyIsImRlZmF1bHRHZXRIZWFkZXJHcm91cFByb3BzIiwiZGVmYXVsdEdldEZvb3Rlckdyb3VwUHJvcHMiLCJkZWZhdWx0R2V0Um93UHJvcHMiLCJkZWZhdWx0R2V0Q2VsbFByb3BzIiwibWFrZURlZmF1bHRQbHVnaW5Ib29rcyIsInVzZU9wdGlvbnMiLCJzdGF0ZVJlZHVjZXJzIiwidXNlQ29udHJvbGxlZFN0YXRlIiwiY29sdW1uc0RlcHMiLCJmbGF0Q29sdW1uc0RlcHMiLCJoZWFkZXJHcm91cHNEZXBzIiwidXNlSW5zdGFuY2VCZWZvcmVEaW1lbnNpb25zIiwidXNlSW5zdGFuY2UiLCJ1c2VSb3dzIiwiY2VsbHMiLCJwcmVwYXJlUm93IiwiZ2V0VGFibGVQcm9wcyIsImdldFRhYmxlQm9keVByb3BzIiwiZ2V0SGVhZGVyR3JvdXBQcm9wcyIsImdldEZvb3Rlckdyb3VwUHJvcHMiLCJnZXRIZWFkZXJQcm9wcyIsImdldEZvb3RlclByb3BzIiwiZ2V0Um93UHJvcHMiLCJnZXRDZWxsUHJvcHMiLCJ1c2VGaW5hbEluc3RhbmNlIiwidXNlQ29sdW1uVmlzaWJpbGl0eSIsImRlZmF1bHRHZXRUb2dnbGVIaWRkZW5Qcm9wcyIsIm9uQ2hhbmdlIiwidGl0bGUiLCJkZWZhdWx0R2V0VG9nZ2xlSGlkZUFsbENvbHVtbnNQcm9wcyIsImluZGV0ZXJtaW5hdGUiLCJoaWRkZW5Db2x1bW5zIiwic3ViSGVhZGVyIiwiaGFuZGxlQ29sdW1uIiwicGFyZW50VmlzaWJsZSIsInN1YkNvbHVtbiIsImZsYXRIZWFkZXJzIiwiZGlzcGF0Y2giLCJnZXRJbnN0YW5jZSIsImFsbENvbHVtbnNIaWRkZW4iLCJ0b2dnbGVIaWRlQ29sdW1uIiwiY29sdW1uSWQiLCJzZXRIaWRkZW5Db2x1bW5zIiwidG9nZ2xlSGlkZUFsbENvbHVtbnMiLCJnZXRUb2dnbGVIaWRlQWxsQ29sdW1uc1Byb3BzSG9va3MiLCJnZXRUb2dnbGVIaWRlQWxsQ29sdW1uc1Byb3BzIiwiZ2V0VG9nZ2xlSGlkZGVuUHJvcHNIb29rcyIsImRlZmF1bHRJbml0aWFsU3RhdGUiLCJkZWZhdWx0Q29sdW1uSW5zdGFuY2UiLCJkZWZhdWx0UmVkdWNlciIsInByZXZTdGF0ZSIsImRlZmF1bHRHZXRTdWJSb3dzIiwiZGVmYXVsdEdldFJvd0lkIiwiZGVmYXVsdFVzZUNvbnRyb2xsZWRTdGF0ZSIsImFwcGx5RGVmYXVsdHMiLCJnZXRTdWJSb3dzIiwiZ2V0Um93SWQiLCJzdGF0ZVJlZHVjZXIiLCJ1c2VUYWJsZSIsImluc3RhbmNlUmVmIiwiZ2V0VXNlT3B0aW9uc0hvb2tzIiwidXNlckNvbHVtbnMiLCJnZXRTdGF0ZVJlZHVjZXJzIiwiZ2V0U3RhdGVSZWR1Y2VyIiwiaGFuZGxlciIsInJlZHVjZXJTdGF0ZSIsImdldFVzZUNvbnRyb2xsZWRTdGF0ZUhvb2tzIiwiZ2V0Q29sdW1uc0hvb2tzIiwiZ2V0Q29sdW1uc0RlcHNIb29rcyIsImZsYXRSb3dzIiwiYWNjZXNzUm93Iiwib3JpZ2luYWxSb3ciLCJvcmlnaW5hbCIsInN1YlJvd3MiLCJ1bnByZXBhcmVkQWNjZXNzV2FybmluZyIsInJvd3MiLCJmbGF0Q29sdW1uc0hvb2tzIiwiZmxhdENvbHVtbnNEZXBzSG9va3MiLCJnZXRIZWFkZXJHcm91cHMiLCJnZXRIZWFkZXJHcm91cHNEZXBzIiwiZ2V0VXNlSW5zdGFuY2VCZWZvcmVEaW1lbnNpb25zIiwiY2FsY3VsYXRlSGVhZGVyV2lkdGhzIiwidG90YWxDb2x1bW5zTWluV2lkdGgiLCJ0b3RhbENvbHVtbnNXaWR0aCIsInRvdGFsQ29sdW1uc01heFdpZHRoIiwiZ2V0VXNlSW5zdGFuY2UiLCJnZXRIZWFkZXJQcm9wc0hvb2tzIiwiZ2V0Rm9vdGVyUHJvcHNIb29rcyIsImdldEhlYWRlckdyb3VwUHJvcHNIb29rcyIsImdldEZvb3Rlckdyb3VwUHJvcHNIb29rcyIsImdldFVzZVJvd3NIb29rcyIsImdldFByZXBhcmVSb3dIb29rcyIsImdldFJvd1Byb3BzSG9va3MiLCJnZXRDZWxsUHJvcHNIb29rcyIsImNlbGxzSG9va3MiLCJnZXRUYWJsZVByb3BzSG9va3MiLCJnZXRUYWJsZUJvZHlQcm9wc0hvb2tzIiwiZ2V0VXNlRmluYWxJbnN0YW5jZUhvb2tzIiwibGVmdCIsInN1bVRvdGFsTWluV2lkdGgiLCJzdW1Ub3RhbFdpZHRoIiwic3VtVG90YWxNYXhXaWR0aCIsInN1YkhlYWRlcnMiLCJ0b3RhbE1pbldpZHRoIiwidG90YWxXaWR0aCIsInRvdGFsTWF4V2lkdGgiLCJNYXRoIiwidGV4dCIsImlkcyIsImZpbHRlclZhbHVlIiwicm93VmFsdWUiLCJleGFjdFRleHQiLCJleGFjdFRleHRDYXNlIiwiaW5jbHVkZXNBbGwiLCJleGFjdCIsImVxdWFscyIsImJldHdlZW4iLCJtaW4iLCJtYXgiLCJ0ZW1wIiwiY2VsbFN0eWxlcyIsInBvc2l0aW9uIiwidG9wIiwidXNlQWJzb2x1dGVMYXlvdXQiLCJnZXRSb3dTdHlsZXMiLCJSZWN0YW5nbGUiLCJoZWlnaHQiLCJTa2VsZXRvbiIsImN1cnJlbnRXaWR0aCIsInNldFdpZHRoIiwiZmxvb3IiLCJyYW5kb20iLCJMb2FkaW5nVGFibGUiLCJmaWxsIiwiaXRlbSIsIlN0eWxlcyIsIlRhYmxlIiwiZGF0YVN0YXRlIiwic2V0RGF0YSIsImNvbHVtbnNTdGF0ZSIsInNldENvbHVtbnMiLCJjb21wb25lbnRSZWYiLCJwYXJzZWREYXRhIiwicGFyc2UiLCJwYXJzZWRDb2x1bW5zIiwibG9nIiwib25DbGljayIsInZhbHVlcyIsInJlZ2lzdGVyIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixF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R0FBTyxVQUFXLENBQUMsVUFBVyxTQUV4QkEiLCJmaWxlIjoiVGFibGUvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTcpO1xuIiwiZXhwb3J0IGNvbnN0IEVNUFRZX09CSiA9IHt9O1xuZXhwb3J0IGNvbnN0IEVNUFRZX0FSUiA9IFtdO1xuZXhwb3J0IGNvbnN0IElTX05PTl9ESU1FTlNJT05BTCA9IC9hY2l0fGV4KD86c3xnfG58cHwkKXxycGh8Z3JpZHxvd3N8bW5jfG50d3xpbmVbY2hdfHpvb3xeb3JkL2k7XG4iLCJpbXBvcnQgeyBfY2F0Y2hFcnJvciB9IGZyb20gJy4vZGlmZi9jYXRjaC1lcnJvcic7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuL2ludGVybmFsJykuT3B0aW9uc30gICovXG5jb25zdCBvcHRpb25zID0ge1xuXHRfY2F0Y2hFcnJvclxufTtcblxuZXhwb3J0IGRlZmF1bHQgb3B0aW9ucztcbiIsImltcG9ydCBvcHRpb25zIGZyb20gJy4vb3B0aW9ucyc7XG5cbi8qKlxuICogQ3JlYXRlIGFuIHZpcnR1YWwgbm9kZSAodXNlZCBmb3IgSlNYKVxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZVtcInR5cGVcIl19IHR5cGUgVGhlIG5vZGUgbmFtZSBvciBDb21wb25lbnRcbiAqIGNvbnN0cnVjdG9yIGZvciB0aGlzIHZpcnR1YWwgbm9kZVxuICogQHBhcmFtIHtvYmplY3QgfCBudWxsIHwgdW5kZWZpbmVkfSBbcHJvcHNdIFRoZSBwcm9wZXJ0aWVzIG9mIHRoZSB2aXJ0dWFsIG5vZGVcbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KCcuJykuQ29tcG9uZW50Q2hpbGRyZW4+fSBbY2hpbGRyZW5dIFRoZSBjaGlsZHJlbiBvZiB0aGUgdmlydHVhbCBub2RlXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL2ludGVybmFsJykuVk5vZGV9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFbGVtZW50KHR5cGUsIHByb3BzLCBjaGlsZHJlbikge1xuXHRsZXQgbm9ybWFsaXplZFByb3BzID0ge30sXG5cdFx0aTtcblx0Zm9yIChpIGluIHByb3BzKSB7XG5cdFx0aWYgKGkgIT09ICdrZXknICYmIGkgIT09ICdyZWYnKSBub3JtYWxpemVkUHJvcHNbaV0gPSBwcm9wc1tpXTtcblx0fVxuXG5cdGlmIChhcmd1bWVudHMubGVuZ3RoID4gMykge1xuXHRcdGNoaWxkcmVuID0gW2NoaWxkcmVuXTtcblx0XHQvLyBodHRwczovL2dpdGh1Yi5jb20vcHJlYWN0anMvcHJlYWN0L2lzc3Vlcy8xOTE2XG5cdFx0Zm9yIChpID0gMzsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y2hpbGRyZW4ucHVzaChhcmd1bWVudHNbaV0pO1xuXHRcdH1cblx0fVxuXHRpZiAoY2hpbGRyZW4gIT0gbnVsbCkge1xuXHRcdG5vcm1hbGl6ZWRQcm9wcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuXHR9XG5cblx0Ly8gSWYgYSBDb21wb25lbnQgVk5vZGUsIGNoZWNrIGZvciBhbmQgYXBwbHkgZGVmYXVsdFByb3BzXG5cdC8vIE5vdGU6IHR5cGUgbWF5IGJlIHVuZGVmaW5lZCBpbiBkZXZlbG9wbWVudCwgbXVzdCBuZXZlciBlcnJvciBoZXJlLlxuXHRpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicgJiYgdHlwZS5kZWZhdWx0UHJvcHMgIT0gbnVsbCkge1xuXHRcdGZvciAoaSBpbiB0eXBlLmRlZmF1bHRQcm9wcykge1xuXHRcdFx0aWYgKG5vcm1hbGl6ZWRQcm9wc1tpXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdG5vcm1hbGl6ZWRQcm9wc1tpXSA9IHR5cGUuZGVmYXVsdFByb3BzW2ldO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBjcmVhdGVWTm9kZShcblx0XHR0eXBlLFxuXHRcdG5vcm1hbGl6ZWRQcm9wcyxcblx0XHRwcm9wcyAmJiBwcm9wcy5rZXksXG5cdFx0cHJvcHMgJiYgcHJvcHMucmVmXG5cdCk7XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgVk5vZGUgKHVzZWQgaW50ZXJuYWxseSBieSBQcmVhY3QpXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlZOb2RlW1widHlwZVwiXX0gdHlwZSBUaGUgbm9kZSBuYW1lIG9yIENvbXBvbmVudFxuICogQ29uc3RydWN0b3IgZm9yIHRoaXMgdmlydHVhbCBub2RlXG4gKiBAcGFyYW0ge29iamVjdCB8IHN0cmluZyB8IG51bWJlciB8IG51bGx9IHByb3BzIFRoZSBwcm9wZXJ0aWVzIG9mIHRoaXMgdmlydHVhbCBub2RlLlxuICogSWYgdGhpcyB2aXJ0dWFsIG5vZGUgcmVwcmVzZW50cyBhIHRleHQgbm9kZSwgdGhpcyBpcyB0aGUgdGV4dCBvZiB0aGUgbm9kZSAoc3RyaW5nIG9yIG51bWJlcikuXG4gKiBAcGFyYW0ge3N0cmluZyB8IG51bWJlciB8IG51bGx9IGtleSBUaGUga2V5IGZvciB0aGlzIHZpcnR1YWwgbm9kZSwgdXNlZCB3aGVuXG4gKiBkaWZmaW5nIGl0IGFnYWluc3QgaXRzIGNoaWxkcmVuXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlZOb2RlW1wicmVmXCJdfSByZWYgVGhlIHJlZiBwcm9wZXJ0eSB0aGF0IHdpbGxcbiAqIHJlY2VpdmUgYSByZWZlcmVuY2UgdG8gaXRzIGNyZWF0ZWQgY2hpbGRcbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVZOb2RlKHR5cGUsIHByb3BzLCBrZXksIHJlZikge1xuXHQvLyBWOCBzZWVtcyB0byBiZSBiZXR0ZXIgYXQgZGV0ZWN0aW5nIHR5cGUgc2hhcGVzIGlmIHRoZSBvYmplY3QgaXMgYWxsb2NhdGVkIGZyb20gdGhlIHNhbWUgY2FsbCBzaXRlXG5cdC8vIERvIG5vdCBpbmxpbmUgaW50byBjcmVhdGVFbGVtZW50IGFuZCBjb2VyY2VUb1ZOb2RlIVxuXHRjb25zdCB2bm9kZSA9IHtcblx0XHR0eXBlLFxuXHRcdHByb3BzLFxuXHRcdGtleSxcblx0XHRyZWYsXG5cdFx0X2NoaWxkcmVuOiBudWxsLFxuXHRcdF9wYXJlbnQ6IG51bGwsXG5cdFx0X2RlcHRoOiAwLFxuXHRcdF9kb206IG51bGwsXG5cdFx0X2xhc3REb21DaGlsZDogbnVsbCxcblx0XHRfY29tcG9uZW50OiBudWxsLFxuXHRcdGNvbnN0cnVjdG9yOiB1bmRlZmluZWRcblx0fTtcblxuXHRpZiAob3B0aW9ucy52bm9kZSkgb3B0aW9ucy52bm9kZSh2bm9kZSk7XG5cblx0cmV0dXJuIHZub2RlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUmVmKCkge1xuXHRyZXR1cm4ge307XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBGcmFnbWVudChwcm9wcykge1xuXHRyZXR1cm4gcHJvcHMuY2hpbGRyZW47XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgYSB0aGUgYXJndW1lbnQgaXMgYSB2YWxpZCBQcmVhY3QgVk5vZGUuXG4gKiBAcGFyYW0geyp9IHZub2RlXG4gKiBAcmV0dXJucyB7dm5vZGUgaXMgaW1wb3J0KCcuL2ludGVybmFsJykuVk5vZGV9XG4gKi9cbmV4cG9ydCBjb25zdCBpc1ZhbGlkRWxlbWVudCA9IHZub2RlID0+XG5cdHZub2RlICE9IG51bGwgJiYgdm5vZGUuY29uc3RydWN0b3IgPT09IHVuZGVmaW5lZDtcbiIsImltcG9ydCB7IGFzc2lnbiB9IGZyb20gJy4vdXRpbCc7XG5pbXBvcnQgeyBkaWZmLCBjb21taXRSb290IH0gZnJvbSAnLi9kaWZmL2luZGV4JztcbmltcG9ydCBvcHRpb25zIGZyb20gJy4vb3B0aW9ucyc7XG5pbXBvcnQgeyBGcmFnbWVudCB9IGZyb20gJy4vY3JlYXRlLWVsZW1lbnQnO1xuXG4vKipcbiAqIEJhc2UgQ29tcG9uZW50IGNsYXNzLiBQcm92aWRlcyBgc2V0U3RhdGUoKWAgYW5kIGBmb3JjZVVwZGF0ZSgpYCwgd2hpY2hcbiAqIHRyaWdnZXIgcmVuZGVyaW5nXG4gKiBAcGFyYW0ge29iamVjdH0gcHJvcHMgVGhlIGluaXRpYWwgY29tcG9uZW50IHByb3BzXG4gKiBAcGFyYW0ge29iamVjdH0gY29udGV4dCBUaGUgaW5pdGlhbCBjb250ZXh0IGZyb20gcGFyZW50IGNvbXBvbmVudHMnXG4gKiBnZXRDaGlsZENvbnRleHRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIENvbXBvbmVudChwcm9wcywgY29udGV4dCkge1xuXHR0aGlzLnByb3BzID0gcHJvcHM7XG5cdHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG59XG5cbi8qKlxuICogVXBkYXRlIGNvbXBvbmVudCBzdGF0ZSBhbmQgc2NoZWR1bGUgYSByZS1yZW5kZXIuXG4gKiBAcGFyYW0ge29iamVjdCB8ICgoczogb2JqZWN0LCBwOiBvYmplY3QpID0+IG9iamVjdCl9IHVwZGF0ZSBBIGhhc2ggb2Ygc3RhdGVcbiAqIHByb3BlcnRpZXMgdG8gdXBkYXRlIHdpdGggbmV3IHZhbHVlcyBvciBhIGZ1bmN0aW9uIHRoYXQgZ2l2ZW4gdGhlIGN1cnJlbnRcbiAqIHN0YXRlIGFuZCBwcm9wcyByZXR1cm5zIGEgbmV3IHBhcnRpYWwgc3RhdGVcbiAqIEBwYXJhbSB7KCkgPT4gdm9pZH0gW2NhbGxiYWNrXSBBIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBvbmNlIGNvbXBvbmVudCBzdGF0ZSBpc1xuICogdXBkYXRlZFxuICovXG5Db21wb25lbnQucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24odXBkYXRlLCBjYWxsYmFjaykge1xuXHQvLyBvbmx5IGNsb25lIHN0YXRlIHdoZW4gY29weWluZyB0byBuZXh0U3RhdGUgdGhlIGZpcnN0IHRpbWUuXG5cdGxldCBzO1xuXHRpZiAodGhpcy5fbmV4dFN0YXRlICE9PSB0aGlzLnN0YXRlKSB7XG5cdFx0cyA9IHRoaXMuX25leHRTdGF0ZTtcblx0fSBlbHNlIHtcblx0XHRzID0gdGhpcy5fbmV4dFN0YXRlID0gYXNzaWduKHt9LCB0aGlzLnN0YXRlKTtcblx0fVxuXG5cdGlmICh0eXBlb2YgdXBkYXRlID09ICdmdW5jdGlvbicpIHtcblx0XHR1cGRhdGUgPSB1cGRhdGUocywgdGhpcy5wcm9wcyk7XG5cdH1cblxuXHRpZiAodXBkYXRlKSB7XG5cdFx0YXNzaWduKHMsIHVwZGF0ZSk7XG5cdH1cblxuXHQvLyBTa2lwIHVwZGF0ZSBpZiB1cGRhdGVyIGZ1bmN0aW9uIHJldHVybmVkIG51bGxcblx0aWYgKHVwZGF0ZSA9PSBudWxsKSByZXR1cm47XG5cblx0aWYgKHRoaXMuX3Zub2RlKSB7XG5cdFx0dGhpcy5fZm9yY2UgPSBmYWxzZTtcblx0XHRpZiAoY2FsbGJhY2spIHRoaXMuX3JlbmRlckNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcblx0XHRlbnF1ZXVlUmVuZGVyKHRoaXMpO1xuXHR9XG59O1xuXG4vKipcbiAqIEltbWVkaWF0ZWx5IHBlcmZvcm0gYSBzeW5jaHJvbm91cyByZS1yZW5kZXIgb2YgdGhlIGNvbXBvbmVudFxuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBbY2FsbGJhY2tdIEEgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIGFmdGVyIGNvbXBvbmVudCBpc1xuICogcmUtcmVuZGVyZWRcbiAqL1xuQ29tcG9uZW50LnByb3RvdHlwZS5mb3JjZVVwZGF0ZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdGlmICh0aGlzLl92bm9kZSkge1xuXHRcdC8vIFNldCByZW5kZXIgbW9kZSBzbyB0aGF0IHdlIGNhbiBkaWZmZXJlbnRpYXRlIHdoZXJlIHRoZSByZW5kZXIgcmVxdWVzdFxuXHRcdC8vIGlzIGNvbWluZyBmcm9tLiBXZSBuZWVkIHRoaXMgYmVjYXVzZSBmb3JjZVVwZGF0ZSBzaG91bGQgbmV2ZXIgY2FsbFxuXHRcdC8vIHNob3VsZENvbXBvbmVudFVwZGF0ZVxuXHRcdHRoaXMuX2ZvcmNlID0gdHJ1ZTtcblx0XHRpZiAoY2FsbGJhY2spIHRoaXMuX3JlbmRlckNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcblx0XHRlbnF1ZXVlUmVuZGVyKHRoaXMpO1xuXHR9XG59O1xuXG4vKipcbiAqIEFjY2VwdHMgYHByb3BzYCBhbmQgYHN0YXRlYCwgYW5kIHJldHVybnMgYSBuZXcgVmlydHVhbCBET00gdHJlZSB0byBidWlsZC5cbiAqIFZpcnR1YWwgRE9NIGlzIGdlbmVyYWxseSBjb25zdHJ1Y3RlZCB2aWEgW0pTWF0oaHR0cDovL2phc29uZm9ybWF0LmNvbS93dGYtaXMtanN4KS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wcyBQcm9wcyAoZWc6IEpTWCBhdHRyaWJ1dGVzKSByZWNlaXZlZCBmcm9tIHBhcmVudFxuICogZWxlbWVudC9jb21wb25lbnRcbiAqIEBwYXJhbSB7b2JqZWN0fSBzdGF0ZSBUaGUgY29tcG9uZW50J3MgY3VycmVudCBzdGF0ZVxuICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHQgQ29udGV4dCBvYmplY3QsIGFzIHJldHVybmVkIGJ5IHRoZSBuZWFyZXN0XG4gKiBhbmNlc3RvcidzIGBnZXRDaGlsZENvbnRleHQoKWBcbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vaW5kZXgnKS5Db21wb25lbnRDaGlsZHJlbiB8IHZvaWR9XG4gKi9cbkNvbXBvbmVudC5wcm90b3R5cGUucmVuZGVyID0gRnJhZ21lbnQ7XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZX0gdm5vZGVcbiAqIEBwYXJhbSB7bnVtYmVyIHwgbnVsbH0gW2NoaWxkSW5kZXhdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXREb21TaWJsaW5nKHZub2RlLCBjaGlsZEluZGV4KSB7XG5cdGlmIChjaGlsZEluZGV4ID09IG51bGwpIHtcblx0XHQvLyBVc2UgY2hpbGRJbmRleD09bnVsbCBhcyBhIHNpZ25hbCB0byByZXN1bWUgdGhlIHNlYXJjaCBmcm9tIHRoZSB2bm9kZSdzIHNpYmxpbmdcblx0XHRyZXR1cm4gdm5vZGUuX3BhcmVudFxuXHRcdFx0PyBnZXREb21TaWJsaW5nKHZub2RlLl9wYXJlbnQsIHZub2RlLl9wYXJlbnQuX2NoaWxkcmVuLmluZGV4T2Yodm5vZGUpICsgMSlcblx0XHRcdDogbnVsbDtcblx0fVxuXG5cdGxldCBzaWJsaW5nO1xuXHRmb3IgKDsgY2hpbGRJbmRleCA8IHZub2RlLl9jaGlsZHJlbi5sZW5ndGg7IGNoaWxkSW5kZXgrKykge1xuXHRcdHNpYmxpbmcgPSB2bm9kZS5fY2hpbGRyZW5bY2hpbGRJbmRleF07XG5cblx0XHRpZiAoc2libGluZyAhPSBudWxsICYmIHNpYmxpbmcuX2RvbSAhPSBudWxsKSB7XG5cdFx0XHQvLyBTaW5jZSB1cGRhdGVQYXJlbnREb21Qb2ludGVycyBrZWVwcyBfZG9tIHBvaW50ZXIgY29ycmVjdCxcblx0XHRcdC8vIHdlIGNhbiByZWx5IG9uIF9kb20gdG8gdGVsbCB1cyBpZiB0aGlzIHN1YnRyZWUgY29udGFpbnMgYVxuXHRcdFx0Ly8gcmVuZGVyZWQgRE9NIG5vZGUsIGFuZCB3aGF0IHRoZSBmaXJzdCByZW5kZXJlZCBET00gbm9kZSBpc1xuXHRcdFx0cmV0dXJuIHNpYmxpbmcuX2RvbTtcblx0XHR9XG5cdH1cblxuXHQvLyBJZiB3ZSBnZXQgaGVyZSwgd2UgaGF2ZSBub3QgZm91bmQgYSBET00gbm9kZSBpbiB0aGlzIHZub2RlJ3MgY2hpbGRyZW4uXG5cdC8vIFdlIG11c3QgcmVzdW1lIGZyb20gdGhpcyB2bm9kZSdzIHNpYmxpbmcgKGluIGl0J3MgcGFyZW50IF9jaGlsZHJlbiBhcnJheSlcblx0Ly8gT25seSBjbGltYiB1cCBhbmQgc2VhcmNoIHRoZSBwYXJlbnQgaWYgd2UgYXJlbid0IHNlYXJjaGluZyB0aHJvdWdoIGEgRE9NXG5cdC8vIFZOb2RlIChtZWFuaW5nIHdlIHJlYWNoZWQgdGhlIERPTSBwYXJlbnQgb2YgdGhlIG9yaWdpbmFsIHZub2RlIHRoYXQgYmVnYW5cblx0Ly8gdGhlIHNlYXJjaClcblx0cmV0dXJuIHR5cGVvZiB2bm9kZS50eXBlID09PSAnZnVuY3Rpb24nID8gZ2V0RG9tU2libGluZyh2bm9kZSkgOiBudWxsO1xufVxuXG4vKipcbiAqIFRyaWdnZXIgaW4tcGxhY2UgcmUtcmVuZGVyaW5nIG9mIGEgY29tcG9uZW50LlxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5Db21wb25lbnR9IGNvbXBvbmVudCBUaGUgY29tcG9uZW50IHRvIHJlcmVuZGVyXG4gKi9cbmZ1bmN0aW9uIHJlbmRlckNvbXBvbmVudChjb21wb25lbnQpIHtcblx0bGV0IHZub2RlID0gY29tcG9uZW50Ll92bm9kZSxcblx0XHRvbGREb20gPSB2bm9kZS5fZG9tLFxuXHRcdHBhcmVudERvbSA9IGNvbXBvbmVudC5fcGFyZW50RG9tO1xuXG5cdGlmIChwYXJlbnREb20pIHtcblx0XHRsZXQgY29tbWl0UXVldWUgPSBbXTtcblx0XHRsZXQgbmV3RG9tID0gZGlmZihcblx0XHRcdHBhcmVudERvbSxcblx0XHRcdHZub2RlLFxuXHRcdFx0YXNzaWduKHt9LCB2bm9kZSksXG5cdFx0XHRjb21wb25lbnQuX2NvbnRleHQsXG5cdFx0XHRwYXJlbnREb20ub3duZXJTVkdFbGVtZW50ICE9PSB1bmRlZmluZWQsXG5cdFx0XHRudWxsLFxuXHRcdFx0Y29tbWl0UXVldWUsXG5cdFx0XHRvbGREb20gPT0gbnVsbCA/IGdldERvbVNpYmxpbmcodm5vZGUpIDogb2xkRG9tXG5cdFx0KTtcblx0XHRjb21taXRSb290KGNvbW1pdFF1ZXVlLCB2bm9kZSk7XG5cblx0XHRpZiAobmV3RG9tICE9IG9sZERvbSkge1xuXHRcdFx0dXBkYXRlUGFyZW50RG9tUG9pbnRlcnModm5vZGUpO1xuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuVk5vZGV9IHZub2RlXG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZVBhcmVudERvbVBvaW50ZXJzKHZub2RlKSB7XG5cdGlmICgodm5vZGUgPSB2bm9kZS5fcGFyZW50KSAhPSBudWxsICYmIHZub2RlLl9jb21wb25lbnQgIT0gbnVsbCkge1xuXHRcdHZub2RlLl9kb20gPSB2bm9kZS5fY29tcG9uZW50LmJhc2UgPSBudWxsO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdm5vZGUuX2NoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRsZXQgY2hpbGQgPSB2bm9kZS5fY2hpbGRyZW5baV07XG5cdFx0XHRpZiAoY2hpbGQgIT0gbnVsbCAmJiBjaGlsZC5fZG9tICE9IG51bGwpIHtcblx0XHRcdFx0dm5vZGUuX2RvbSA9IHZub2RlLl9jb21wb25lbnQuYmFzZSA9IGNoaWxkLl9kb207XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB1cGRhdGVQYXJlbnREb21Qb2ludGVycyh2bm9kZSk7XG5cdH1cbn1cblxuLyoqXG4gKiBUaGUgcmVuZGVyIHF1ZXVlXG4gKiBAdHlwZSB7QXJyYXk8aW1wb3J0KCcuL2ludGVybmFsJykuQ29tcG9uZW50Pn1cbiAqL1xubGV0IHEgPSBbXTtcblxuLyoqXG4gKiBBc3luY2hyb25vdXNseSBzY2hlZHVsZSBhIGNhbGxiYWNrXG4gKiBAdHlwZSB7KGNiOiAoKSA9PiB2b2lkKSA9PiB2b2lkfVxuICovXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuLy8gTm90ZSB0aGUgZm9sbG93aW5nIGxpbmUgaXNuJ3QgdHJlZS1zaGFrZW4gYnkgcm9sbHVwIGN1eiBvZiByb2xsdXAvcm9sbHVwIzI1NjZcbmNvbnN0IGRlZmVyID1cblx0dHlwZW9mIFByb21pc2UgPT0gJ2Z1bmN0aW9uJ1xuXHRcdD8gUHJvbWlzZS5wcm90b3R5cGUudGhlbi5iaW5kKFByb21pc2UucmVzb2x2ZSgpKVxuXHRcdDogc2V0VGltZW91dDtcblxuLypcbiAqIFRoZSB2YWx1ZSBvZiBgQ29tcG9uZW50LmRlYm91bmNlYCBtdXN0IGFzeW5jaHJvbm91c2x5IGludm9rZSB0aGUgcGFzc2VkIGluIGNhbGxiYWNrLiBJdCBpc1xuICogaW1wb3J0YW50IHRoYXQgY29udHJpYnV0b3JzIHRvIFByZWFjdCBjYW4gY29uc2lzdGVudGx5IHJlYXNvbiBhYm91dCB3aGF0IGNhbGxzIHRvIGBzZXRTdGF0ZWAsIGV0Yy5cbiAqIGRvLCBhbmQgd2hlbiB0aGVpciBlZmZlY3RzIHdpbGwgYmUgYXBwbGllZC4gU2VlIHRoZSBsaW5rcyBiZWxvdyBmb3Igc29tZSBmdXJ0aGVyIHJlYWRpbmcgb24gZGVzaWduaW5nXG4gKiBhc3luY2hyb25vdXMgQVBJcy5cbiAqICogW0Rlc2lnbmluZyBBUElzIGZvciBBc3luY2hyb255XShodHRwczovL2Jsb2cuaXpzLm1lLzIwMTMvMDgvZGVzaWduaW5nLWFwaXMtZm9yLWFzeW5jaHJvbnkpXG4gKiAqIFtDYWxsYmFja3Mgc3luY2hyb25vdXMgYW5kIGFzeW5jaHJvbm91c10oaHR0cHM6Ly9ibG9nLm9tZXRlci5jb20vMjAxMS8wNy8yNC9jYWxsYmFja3Mtc3luY2hyb25vdXMtYW5kLWFzeW5jaHJvbm91cy8pXG4gKi9cblxubGV0IHByZXZEZWJvdW5jZTtcblxuLyoqXG4gKiBFbnF1ZXVlIGEgcmVyZW5kZXIgb2YgYSBjb21wb25lbnRcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuQ29tcG9uZW50fSBjIFRoZSBjb21wb25lbnQgdG8gcmVyZW5kZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVucXVldWVSZW5kZXIoYykge1xuXHRpZiAoXG5cdFx0KCFjLl9kaXJ0eSAmJiAoYy5fZGlydHkgPSB0cnVlKSAmJiBxLnB1c2goYykgPT09IDEpIHx8XG5cdFx0cHJldkRlYm91bmNlICE9PSBvcHRpb25zLmRlYm91bmNlUmVuZGVyaW5nXG5cdCkge1xuXHRcdHByZXZEZWJvdW5jZSA9IG9wdGlvbnMuZGVib3VuY2VSZW5kZXJpbmc7XG5cdFx0KHByZXZEZWJvdW5jZSB8fCBkZWZlcikocHJvY2Vzcyk7XG5cdH1cbn1cblxuLyoqIEZsdXNoIHRoZSByZW5kZXIgcXVldWUgYnkgcmVyZW5kZXJpbmcgYWxsIHF1ZXVlZCBjb21wb25lbnRzICovXG5mdW5jdGlvbiBwcm9jZXNzKCkge1xuXHRsZXQgcDtcblx0cS5zb3J0KChhLCBiKSA9PiBiLl92bm9kZS5fZGVwdGggLSBhLl92bm9kZS5fZGVwdGgpO1xuXHR3aGlsZSAoKHAgPSBxLnBvcCgpKSkge1xuXHRcdC8vIGZvcmNlVXBkYXRlJ3MgY2FsbGJhY2sgYXJndW1lbnQgaXMgcmV1c2VkIGhlcmUgdG8gaW5kaWNhdGUgYSBub24tZm9yY2VkIHVwZGF0ZS5cblx0XHRpZiAocC5fZGlydHkpIHJlbmRlckNvbXBvbmVudChwKTtcblx0fVxufVxuIiwiaW1wb3J0IHtcblx0cmVuZGVyIGFzIHByZWFjdFJlbmRlcixcblx0b3B0aW9ucyxcblx0dG9DaGlsZEFycmF5LFxuXHRDb21wb25lbnRcbn0gZnJvbSAncHJlYWN0JztcbmltcG9ydCB7IGFwcGx5RXZlbnROb3JtYWxpemF0aW9uIH0gZnJvbSAnLi9ldmVudHMnO1xuXG5jb25zdCBDQU1FTF9QUk9QUyA9IC9eKD86YWNjZW50fGFsaWdubWVudHxhcmFiaWN8YmFzZWxpbmV8Y2FwfGNsaXB8Y29sb3J8ZmlsbHxmbG9vZHxmb250fGdseXBofGhvcml6fG1hcmtlcnxvdmVybGluZXxwYWludHxzdG9wfHN0cmlrZXRocm91Z2h8c3Ryb2tlfHRleHR8dW5kZXJsaW5lfHVuaWNvZGV8dW5pdHN8dnx2ZWN0b3J8dmVydHx3b3JkfHdyaXRpbmd8eClbQS1aXS87XG5cbi8vIFNvbWUgbGlicmFyaWVzIGxpa2UgYHJlYWN0LXZpcnR1YWxpemVkYCBleHBsaWNpdGx5IGNoZWNrIGZvciB0aGlzLlxuQ29tcG9uZW50LnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50ID0ge307XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5leHBvcnQgY29uc3QgUkVBQ1RfRUxFTUVOVF9UWVBFID1cblx0KHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmXG5cdFx0U3ltYm9sLmZvciAmJlxuXHRcdFN5bWJvbC5mb3IoJ3JlYWN0LmVsZW1lbnQnKSkgfHxcblx0MHhlYWM3O1xuXG4vKipcbiAqIFByb3h5IHJlbmRlcigpIHNpbmNlIFJlYWN0IHJldHVybnMgYSBDb21wb25lbnQgcmVmZXJlbmNlLlxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZX0gdm5vZGUgVk5vZGUgdHJlZSB0byByZW5kZXJcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuUHJlYWN0RWxlbWVudH0gcGFyZW50IERPTSBub2RlIHRvIHJlbmRlciB2bm9kZSB0cmVlIGludG9cbiAqIEBwYXJhbSB7KCkgPT4gdm9pZH0gW2NhbGxiYWNrXSBPcHRpb25hbCBjYWxsYmFjayB0aGF0IHdpbGwgYmUgY2FsbGVkIGFmdGVyIHJlbmRlcmluZ1xuICogQHJldHVybnMge2ltcG9ydCgnLi9pbnRlcm5hbCcpLkNvbXBvbmVudCB8IG51bGx9IFRoZSByb290IGNvbXBvbmVudCByZWZlcmVuY2Ugb3IgbnVsbFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyKHZub2RlLCBwYXJlbnQsIGNhbGxiYWNrKSB7XG5cdC8vIFJlYWN0IGRlc3Ryb3lzIGFueSBleGlzdGluZyBET00gbm9kZXMsIHNlZSAjMTcyN1xuXHQvLyAuLi5idXQgb25seSBvbiB0aGUgZmlyc3QgcmVuZGVyLCBzZWUgIzE4Mjhcblx0aWYgKHBhcmVudC5fY2hpbGRyZW4gPT0gbnVsbCkge1xuXHRcdHdoaWxlIChwYXJlbnQuZmlyc3RDaGlsZCkge1xuXHRcdFx0cGFyZW50LnJlbW92ZUNoaWxkKHBhcmVudC5maXJzdENoaWxkKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gaHlkcmF0ZSh2bm9kZSwgcGFyZW50LCBjYWxsYmFjayk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlKHZub2RlLCBwYXJlbnQsIGNhbGxiYWNrKSB7XG5cdHByZWFjdFJlbmRlcih2bm9kZSwgcGFyZW50KTtcblx0aWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgY2FsbGJhY2soKTtcblxuXHRyZXR1cm4gdm5vZGUgPyB2bm9kZS5fY29tcG9uZW50IDogbnVsbDtcbn1cblxubGV0IG9sZEV2ZW50SG9vayA9IG9wdGlvbnMuZXZlbnQ7XG5vcHRpb25zLmV2ZW50ID0gZSA9PiB7XG5cdGlmIChvbGRFdmVudEhvb2spIGUgPSBvbGRFdmVudEhvb2soZSk7XG5cdGUucGVyc2lzdCA9ICgpID0+IHt9O1xuXHRyZXR1cm4gKGUubmF0aXZlRXZlbnQgPSBlKTtcbn07XG5cbi8vIFBhdGNoIGluIGBVTlNBRkVfKmAgbGlmZWN5Y2xlIGhvb2tzXG5mdW5jdGlvbiBzZXRTYWZlRGVzY3JpcHRvcihwcm90bywga2V5KSB7XG5cdGlmIChwcm90b1snVU5TQUZFXycgKyBrZXldICYmICFwcm90b1trZXldKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvLCBrZXksIHtcblx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG5cdFx0XHRnZXQoKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzWydVTlNBRkVfJyArIGtleV07XG5cdFx0XHR9LFxuXHRcdFx0Ly8gVGhpcyBgc2V0YCBpcyBvbmx5IHVzZWQgaWYgYSB1c2VyIHNldHMgYSBsaWZlY3ljbGUgbGlrZSBjV1Vcblx0XHRcdC8vIGFmdGVyIHNldHRpbmcgYSBsaWZlY3ljbGUgbGlrZSBVTlNBRkVfY1dVLiBJIGRvdWJ0IGFueW9uZVxuXHRcdFx0Ly8gYWN0dWFsbHkgZG9lcyB0aGlzIGluIHByYWN0aWNlIHNvIG5vdCB0ZXN0aW5nIGl0XG5cdFx0XHQvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuXHRcdFx0c2V0KHYpIHtcblx0XHRcdFx0dGhpc1snVU5TQUZFXycgKyBrZXldID0gdjtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxufVxuXG5sZXQgY2xhc3NOYW1lRGVzY3JpcHRvciA9IHtcblx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRnZXQoKSB7XG5cdFx0cmV0dXJuIHRoaXMuY2xhc3M7XG5cdH1cbn07XG5cbmxldCBvbGRWTm9kZUhvb2sgPSBvcHRpb25zLnZub2RlO1xub3B0aW9ucy52bm9kZSA9IHZub2RlID0+IHtcblx0dm5vZGUuJCR0eXBlb2YgPSBSRUFDVF9FTEVNRU5UX1RZUEU7XG5cblx0bGV0IHR5cGUgPSB2bm9kZS50eXBlO1xuXHRsZXQgcHJvcHMgPSB2bm9kZS5wcm9wcztcblxuXHQvLyBBcHBseSBET00gVk5vZGUgY29tcGF0XG5cdGlmICh0eXBlb2YgdHlwZSAhPSAnZnVuY3Rpb24nKSB7XG5cdFx0Ly8gQXBwbHkgZGVmYXVsdFZhbHVlIHRvIHZhbHVlXG5cdFx0aWYgKHByb3BzLmRlZmF1bHRWYWx1ZSkge1xuXHRcdFx0aWYgKCFwcm9wcy52YWx1ZSAmJiBwcm9wcy52YWx1ZSAhPT0gMCkge1xuXHRcdFx0XHRwcm9wcy52YWx1ZSA9IHByb3BzLmRlZmF1bHRWYWx1ZTtcblx0XHRcdH1cblx0XHRcdGRlbGV0ZSBwcm9wcy5kZWZhdWx0VmFsdWU7XG5cdFx0fVxuXG5cdFx0Ly8gQWRkIHN1cHBvcnQgZm9yIGFycmF5IHNlbGVjdCB2YWx1ZXM6IDxzZWxlY3QgdmFsdWU9e1tdfSAvPlxuXHRcdGlmIChBcnJheS5pc0FycmF5KHByb3BzLnZhbHVlKSAmJiBwcm9wcy5tdWx0aXBsZSAmJiB0eXBlID09PSAnc2VsZWN0Jykge1xuXHRcdFx0dG9DaGlsZEFycmF5KHByb3BzLmNoaWxkcmVuKS5mb3JFYWNoKGNoaWxkID0+IHtcblx0XHRcdFx0aWYgKHByb3BzLnZhbHVlLmluZGV4T2YoY2hpbGQucHJvcHMudmFsdWUpICE9IC0xKSB7XG5cdFx0XHRcdFx0Y2hpbGQucHJvcHMuc2VsZWN0ZWQgPSB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdGRlbGV0ZSBwcm9wcy52YWx1ZTtcblx0XHR9XG5cblx0XHQvLyBOb3JtYWxpemUgRE9NIHZub2RlIHByb3BlcnRpZXMuXG5cdFx0bGV0IHNob3VsZFNhbml0aXplLCBhdHRycywgaTtcblx0XHRmb3IgKGkgaW4gcHJvcHMpIGlmICgoc2hvdWxkU2FuaXRpemUgPSBDQU1FTF9QUk9QUy50ZXN0KGkpKSkgYnJlYWs7XG5cdFx0aWYgKHNob3VsZFNhbml0aXplKSB7XG5cdFx0XHRhdHRycyA9IHZub2RlLnByb3BzID0ge307XG5cdFx0XHRmb3IgKGkgaW4gcHJvcHMpIHtcblx0XHRcdFx0YXR0cnNbXG5cdFx0XHRcdFx0Q0FNRUxfUFJPUFMudGVzdChpKSA/IGkucmVwbGFjZSgvKFtBLVowLTldKS8sICctJDEnKS50b0xvd2VyQ2FzZSgpIDogaVxuXHRcdFx0XHRdID0gcHJvcHNbaV07XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gQWxpYXMgYGNsYXNzYCBwcm9wIHRvIGBjbGFzc05hbWVgIGlmIGF2YWlsYWJsZVxuXHRpZiAocHJvcHMuY2xhc3MgfHwgcHJvcHMuY2xhc3NOYW1lKSB7XG5cdFx0Y2xhc3NOYW1lRGVzY3JpcHRvci5lbnVtZXJhYmxlID0gJ2NsYXNzTmFtZScgaW4gcHJvcHM7XG5cdFx0aWYgKHByb3BzLmNsYXNzTmFtZSkgcHJvcHMuY2xhc3MgPSBwcm9wcy5jbGFzc05hbWU7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3BzLCAnY2xhc3NOYW1lJywgY2xhc3NOYW1lRGVzY3JpcHRvcik7XG5cdH1cblxuXHQvLyBFdmVudHNcblx0YXBwbHlFdmVudE5vcm1hbGl6YXRpb24odm5vZGUpO1xuXG5cdC8vIENvbXBvbmVudCBiYXNlIGNsYXNzIGNvbXBhdFxuXHQvLyBXZSBjYW4ndCBqdXN0IHBhdGNoIHRoZSBiYXNlIGNvbXBvbmVudCBjbGFzcywgYmVjYXVzZSBjb21wb25lbnRzIHRoYXQgdXNlXG5cdC8vIGluaGVyaXRhbmNlIGFuZCBhcmUgdHJhbnNwaWxlZCBkb3duIHRvIEVTNSB3aWxsIG92ZXJ3cml0ZSBvdXIgcGF0Y2hlZFxuXHQvLyBnZXR0ZXJzIGFuZCBzZXR0ZXJzLiBTZWUgIzE5NDFcblx0aWYgKFxuXHRcdHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nICYmXG5cdFx0IXR5cGUuX3BhdGNoZWRMaWZlY3ljbGVzICYmXG5cdFx0dHlwZS5wcm90b3R5cGVcblx0KSB7XG5cdFx0c2V0U2FmZURlc2NyaXB0b3IodHlwZS5wcm90b3R5cGUsICdjb21wb25lbnRXaWxsTW91bnQnKTtcblx0XHRzZXRTYWZlRGVzY3JpcHRvcih0eXBlLnByb3RvdHlwZSwgJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnKTtcblx0XHRzZXRTYWZlRGVzY3JpcHRvcih0eXBlLnByb3RvdHlwZSwgJ2NvbXBvbmVudFdpbGxVcGRhdGUnKTtcblx0XHR0eXBlLl9wYXRjaGVkTGlmZWN5Y2xlcyA9IHRydWU7XG5cdH1cblxuXHRpZiAob2xkVk5vZGVIb29rKSBvbGRWTm9kZUhvb2sodm5vZGUpO1xufTtcbiIsImltcG9ydCB7IGVucXVldWVSZW5kZXIgfSBmcm9tICcuL2NvbXBvbmVudCc7XG5cbmV4cG9ydCBsZXQgaSA9IDA7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb250ZXh0KGRlZmF1bHRWYWx1ZSkge1xuXHRjb25zdCBjdHggPSB7fTtcblxuXHRjb25zdCBjb250ZXh0ID0ge1xuXHRcdF9pZDogJ19fY0MnICsgaSsrLFxuXHRcdF9kZWZhdWx0VmFsdWU6IGRlZmF1bHRWYWx1ZSxcblx0XHRDb25zdW1lcihwcm9wcywgY29udGV4dCkge1xuXHRcdFx0cmV0dXJuIHByb3BzLmNoaWxkcmVuKGNvbnRleHQpO1xuXHRcdH0sXG5cdFx0UHJvdmlkZXIocHJvcHMpIHtcblx0XHRcdGlmICghdGhpcy5nZXRDaGlsZENvbnRleHQpIHtcblx0XHRcdFx0Y29uc3Qgc3VicyA9IFtdO1xuXHRcdFx0XHR0aGlzLmdldENoaWxkQ29udGV4dCA9ICgpID0+IHtcblx0XHRcdFx0XHRjdHhbY29udGV4dC5faWRdID0gdGhpcztcblx0XHRcdFx0XHRyZXR1cm4gY3R4O1xuXHRcdFx0XHR9O1xuXHRcdFx0XHR0aGlzLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IF9wcm9wcyA9PiB7XG5cdFx0XHRcdFx0aWYgKHByb3BzLnZhbHVlICE9PSBfcHJvcHMudmFsdWUpIHtcblx0XHRcdFx0XHRcdHN1YnMuc29tZShjID0+IHtcblx0XHRcdFx0XHRcdFx0Yy5jb250ZXh0ID0gX3Byb3BzLnZhbHVlO1xuXHRcdFx0XHRcdFx0XHRlbnF1ZXVlUmVuZGVyKGMpO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0XHR0aGlzLnN1YiA9IGMgPT4ge1xuXHRcdFx0XHRcdHN1YnMucHVzaChjKTtcblx0XHRcdFx0XHRsZXQgb2xkID0gYy5jb21wb25lbnRXaWxsVW5tb3VudDtcblx0XHRcdFx0XHRjLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gKCkgPT4ge1xuXHRcdFx0XHRcdFx0c3Vicy5zcGxpY2Uoc3Vicy5pbmRleE9mKGMpLCAxKTtcblx0XHRcdFx0XHRcdG9sZCAmJiBvbGQuY2FsbChjKTtcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHByb3BzLmNoaWxkcmVuO1xuXHRcdH1cblx0fTtcblxuXHRjb250ZXh0LkNvbnN1bWVyLmNvbnRleHRUeXBlID0gY29udGV4dDtcblxuXHRyZXR1cm4gY29udGV4dDtcbn1cbiIsIi8qKlxuICogQXNzaWduIHByb3BlcnRpZXMgZnJvbSBgcHJvcHNgIHRvIGBvYmpgXG4gKiBAdGVtcGxhdGUgTywgUCBUaGUgb2JqIGFuZCBwcm9wcyB0eXBlc1xuICogQHBhcmFtIHtPfSBvYmogVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgdG9cbiAqIEBwYXJhbSB7UH0gcHJvcHMgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbVxuICogQHJldHVybnMge08gJiBQfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduKG9iaiwgcHJvcHMpIHtcblx0Zm9yIChsZXQgaSBpbiBwcm9wcykgb2JqW2ldID0gcHJvcHNbaV07XG5cdHJldHVybiAvKiogQHR5cGUge08gJiBQfSAqLyAob2JqKTtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB0d28gb2JqZWN0cyBoYXZlIGEgZGlmZmVyZW50IHNoYXBlXG4gKiBAcGFyYW0ge29iamVjdH0gYVxuICogQHBhcmFtIHtvYmplY3R9IGJcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2hhbGxvd0RpZmZlcnMoYSwgYikge1xuXHRmb3IgKGxldCBpIGluIGEpIGlmIChpICE9PSAnX19zb3VyY2UnICYmICEoaSBpbiBiKSkgcmV0dXJuIHRydWU7XG5cdGZvciAobGV0IGkgaW4gYikgaWYgKGkgIT09ICdfX3NvdXJjZScgJiYgYVtpXSAhPT0gYltpXSkgcmV0dXJuIHRydWU7XG5cdHJldHVybiBmYWxzZTtcbn1cbiIsImltcG9ydCB7IGRpZmYsIHVubW91bnQsIGFwcGx5UmVmIH0gZnJvbSAnLi9pbmRleCc7XG5pbXBvcnQgeyBjcmVhdGVWTm9kZSB9IGZyb20gJy4uL2NyZWF0ZS1lbGVtZW50JztcbmltcG9ydCB7IEVNUFRZX09CSiwgRU1QVFlfQVJSIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCB7IHJlbW92ZU5vZGUgfSBmcm9tICcuLi91dGlsJztcbmltcG9ydCB7IGdldERvbVNpYmxpbmcgfSBmcm9tICcuLi9jb21wb25lbnQnO1xuXG4vKipcbiAqIERpZmYgdGhlIGNoaWxkcmVuIG9mIGEgdmlydHVhbCBub2RlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5QcmVhY3RFbGVtZW50fSBwYXJlbnREb20gVGhlIERPTSBlbGVtZW50IHdob3NlXG4gKiBjaGlsZHJlbiBhcmUgYmVpbmcgZGlmZmVkXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5WTm9kZX0gbmV3UGFyZW50Vk5vZGUgVGhlIG5ldyB2aXJ0dWFsXG4gKiBub2RlIHdob3NlIGNoaWxkcmVuIHNob3VsZCBiZSBkaWZmJ2VkIGFnYWluc3Qgb2xkUGFyZW50Vk5vZGVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlZOb2RlfSBvbGRQYXJlbnRWTm9kZSBUaGUgb2xkIHZpcnR1YWxcbiAqIG5vZGUgd2hvc2UgY2hpbGRyZW4gc2hvdWxkIGJlIGRpZmYnZWQgYWdhaW5zdCBuZXdQYXJlbnRWTm9kZVxuICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHQgVGhlIGN1cnJlbnQgY29udGV4dCBvYmplY3RcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNTdmcgV2hldGhlciBvciBub3QgdGhpcyBET00gbm9kZSBpcyBhbiBTVkcgbm9kZVxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoJy4uL2ludGVybmFsJykuUHJlYWN0RWxlbWVudD59IGV4Y2Vzc0RvbUNoaWxkcmVuXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydCgnLi4vaW50ZXJuYWwnKS5Db21wb25lbnQ+fSBjb21taXRRdWV1ZSBMaXN0IG9mIGNvbXBvbmVudHNcbiAqIHdoaWNoIGhhdmUgY2FsbGJhY2tzIHRvIGludm9rZSBpbiBjb21taXRSb290XG4gKiBAcGFyYW0ge05vZGUgfCBUZXh0fSBvbGREb20gVGhlIGN1cnJlbnQgYXR0YWNoZWQgRE9NXG4gKiBlbGVtZW50IGFueSBuZXcgZG9tIGVsZW1lbnRzIHNob3VsZCBiZSBwbGFjZWQgYXJvdW5kLiBMaWtlbHkgYG51bGxgIG9uIGZpcnN0XG4gKiByZW5kZXIgKGV4Y2VwdCB3aGVuIGh5ZHJhdGluZykuIENhbiBiZSBhIHNpYmxpbmcgRE9NIGVsZW1lbnQgd2hlbiBkaWZmaW5nXG4gKiBGcmFnbWVudHMgdGhhdCBoYXZlIHNpYmxpbmdzLiBJbiBtb3N0IGNhc2VzLCBpdCBzdGFydHMgb3V0IGFzIGBvbGRDaGlsZHJlblswXS5fZG9tYC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNIeWRyYXRpbmcgV2hldGhlciBvciBub3Qgd2UgYXJlIGluIGh5ZHJhdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlmZkNoaWxkcmVuKFxuXHRwYXJlbnREb20sXG5cdG5ld1BhcmVudFZOb2RlLFxuXHRvbGRQYXJlbnRWTm9kZSxcblx0Y29udGV4dCxcblx0aXNTdmcsXG5cdGV4Y2Vzc0RvbUNoaWxkcmVuLFxuXHRjb21taXRRdWV1ZSxcblx0b2xkRG9tLFxuXHRpc0h5ZHJhdGluZ1xuKSB7XG5cdGxldCBpLCBqLCBvbGRWTm9kZSwgbmV3RG9tLCBzaWJEb20sIGZpcnN0Q2hpbGREb20sIHJlZnM7XG5cblx0Ly8gVGhpcyBpcyBhIGNvbXByZXNzaW9uIG9mIG9sZFBhcmVudFZOb2RlIT1udWxsICYmIG9sZFBhcmVudFZOb2RlICE9IEVNUFRZX09CSiAmJiBvbGRQYXJlbnRWTm9kZS5fY2hpbGRyZW4gfHwgRU1QVFlfQVJSXG5cdC8vIGFzIEVNUFRZX09CSi5fY2hpbGRyZW4gc2hvdWxkIGJlIGB1bmRlZmluZWRgLlxuXHRsZXQgb2xkQ2hpbGRyZW4gPSAob2xkUGFyZW50Vk5vZGUgJiYgb2xkUGFyZW50Vk5vZGUuX2NoaWxkcmVuKSB8fCBFTVBUWV9BUlI7XG5cblx0bGV0IG9sZENoaWxkcmVuTGVuZ3RoID0gb2xkQ2hpbGRyZW4ubGVuZ3RoO1xuXG5cdC8vIE9ubHkgaW4gdmVyeSBzcGVjaWZpYyBwbGFjZXMgc2hvdWxkIHRoaXMgbG9naWMgYmUgaW52b2tlZCAodG9wIGxldmVsIGByZW5kZXJgIGFuZCBgZGlmZkVsZW1lbnROb2Rlc2ApLlxuXHQvLyBJJ20gdXNpbmcgYEVNUFRZX09CSmAgdG8gc2lnbmFsIHdoZW4gYGRpZmZDaGlsZHJlbmAgaXMgaW52b2tlZCBpbiB0aGVzZSBzaXR1YXRpb25zLiBJIGNhbid0IHVzZSBgbnVsbGBcblx0Ly8gZm9yIHRoaXMgcHVycG9zZSwgYmVjYXVzZSBgbnVsbGAgaXMgYSB2YWxpZCB2YWx1ZSBmb3IgYG9sZERvbWAgd2hpY2ggY2FuIG1lYW4gdG8gc2tpcCB0byB0aGlzIGxvZ2ljXG5cdC8vIChlLmcuIGlmIG1vdW50aW5nIGEgbmV3IHRyZWUgaW4gd2hpY2ggdGhlIG9sZCBET00gc2hvdWxkIGJlIGlnbm9yZWQgKHVzdWFsbHkgZm9yIEZyYWdtZW50cykuXG5cdGlmIChvbGREb20gPT0gRU1QVFlfT0JKKSB7XG5cdFx0aWYgKGV4Y2Vzc0RvbUNoaWxkcmVuICE9IG51bGwpIHtcblx0XHRcdG9sZERvbSA9IGV4Y2Vzc0RvbUNoaWxkcmVuWzBdO1xuXHRcdH0gZWxzZSBpZiAob2xkQ2hpbGRyZW5MZW5ndGgpIHtcblx0XHRcdG9sZERvbSA9IGdldERvbVNpYmxpbmcob2xkUGFyZW50Vk5vZGUsIDApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRvbGREb20gPSBudWxsO1xuXHRcdH1cblx0fVxuXG5cdGkgPSAwO1xuXHRuZXdQYXJlbnRWTm9kZS5fY2hpbGRyZW4gPSB0b0NoaWxkQXJyYXkoXG5cdFx0bmV3UGFyZW50Vk5vZGUuX2NoaWxkcmVuLFxuXHRcdGNoaWxkVk5vZGUgPT4ge1xuXHRcdFx0aWYgKGNoaWxkVk5vZGUgIT0gbnVsbCkge1xuXHRcdFx0XHRjaGlsZFZOb2RlLl9wYXJlbnQgPSBuZXdQYXJlbnRWTm9kZTtcblx0XHRcdFx0Y2hpbGRWTm9kZS5fZGVwdGggPSBuZXdQYXJlbnRWTm9kZS5fZGVwdGggKyAxO1xuXG5cdFx0XHRcdC8vIENoZWNrIGlmIHdlIGZpbmQgYSBjb3JyZXNwb25kaW5nIGVsZW1lbnQgaW4gb2xkQ2hpbGRyZW4uXG5cdFx0XHRcdC8vIElmIGZvdW5kLCBkZWxldGUgdGhlIGFycmF5IGl0ZW0gYnkgc2V0dGluZyB0byBgdW5kZWZpbmVkYC5cblx0XHRcdFx0Ly8gV2UgdXNlIGB1bmRlZmluZWRgLCBhcyBgbnVsbGAgaXMgcmVzZXJ2ZWQgZm9yIGVtcHR5IHBsYWNlaG9sZGVyc1xuXHRcdFx0XHQvLyAoaG9sZXMpLlxuXHRcdFx0XHRvbGRWTm9kZSA9IG9sZENoaWxkcmVuW2ldO1xuXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRvbGRWTm9kZSA9PT0gbnVsbCB8fFxuXHRcdFx0XHRcdChvbGRWTm9kZSAmJlxuXHRcdFx0XHRcdFx0Y2hpbGRWTm9kZS5rZXkgPT0gb2xkVk5vZGUua2V5ICYmXG5cdFx0XHRcdFx0XHRjaGlsZFZOb2RlLnR5cGUgPT09IG9sZFZOb2RlLnR5cGUpXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdG9sZENoaWxkcmVuW2ldID0gdW5kZWZpbmVkO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIEVpdGhlciBvbGRWTm9kZSA9PT0gdW5kZWZpbmVkIG9yIG9sZENoaWxkcmVuTGVuZ3RoID4gMCxcblx0XHRcdFx0XHQvLyBzbyBhZnRlciB0aGlzIGxvb3Agb2xkVk5vZGUgPT0gbnVsbCBvciBvbGRWTm9kZSBpcyBhIHZhbGlkIHZhbHVlLlxuXHRcdFx0XHRcdGZvciAoaiA9IDA7IGogPCBvbGRDaGlsZHJlbkxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdFx0XHRvbGRWTm9kZSA9IG9sZENoaWxkcmVuW2pdO1xuXHRcdFx0XHRcdFx0Ly8gSWYgY2hpbGRWTm9kZSBpcyB1bmtleWVkLCB3ZSBvbmx5IG1hdGNoIHNpbWlsYXJseSB1bmtleWVkIG5vZGVzLCBvdGhlcndpc2Ugd2UgbWF0Y2ggYnkga2V5LlxuXHRcdFx0XHRcdFx0Ly8gV2UgYWx3YXlzIG1hdGNoIGJ5IHR5cGUgKGluIGVpdGhlciBjYXNlKS5cblx0XHRcdFx0XHRcdGlmIChcblx0XHRcdFx0XHRcdFx0b2xkVk5vZGUgJiZcblx0XHRcdFx0XHRcdFx0Y2hpbGRWTm9kZS5rZXkgPT0gb2xkVk5vZGUua2V5ICYmXG5cdFx0XHRcdFx0XHRcdGNoaWxkVk5vZGUudHlwZSA9PT0gb2xkVk5vZGUudHlwZVxuXHRcdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHRcdG9sZENoaWxkcmVuW2pdID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdG9sZFZOb2RlID0gbnVsbDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRvbGRWTm9kZSA9IG9sZFZOb2RlIHx8IEVNUFRZX09CSjtcblxuXHRcdFx0XHQvLyBNb3JwaCB0aGUgb2xkIGVsZW1lbnQgaW50byB0aGUgbmV3IG9uZSwgYnV0IGRvbid0IGFwcGVuZCBpdCB0byB0aGUgZG9tIHlldFxuXHRcdFx0XHRuZXdEb20gPSBkaWZmKFxuXHRcdFx0XHRcdHBhcmVudERvbSxcblx0XHRcdFx0XHRjaGlsZFZOb2RlLFxuXHRcdFx0XHRcdG9sZFZOb2RlLFxuXHRcdFx0XHRcdGNvbnRleHQsXG5cdFx0XHRcdFx0aXNTdmcsXG5cdFx0XHRcdFx0ZXhjZXNzRG9tQ2hpbGRyZW4sXG5cdFx0XHRcdFx0Y29tbWl0UXVldWUsXG5cdFx0XHRcdFx0b2xkRG9tLFxuXHRcdFx0XHRcdGlzSHlkcmF0aW5nXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0aWYgKChqID0gY2hpbGRWTm9kZS5yZWYpICYmIG9sZFZOb2RlLnJlZiAhPSBqKSB7XG5cdFx0XHRcdFx0aWYgKCFyZWZzKSByZWZzID0gW107XG5cdFx0XHRcdFx0aWYgKG9sZFZOb2RlLnJlZikgcmVmcy5wdXNoKG9sZFZOb2RlLnJlZiwgbnVsbCwgY2hpbGRWTm9kZSk7XG5cdFx0XHRcdFx0cmVmcy5wdXNoKGosIGNoaWxkVk5vZGUuX2NvbXBvbmVudCB8fCBuZXdEb20sIGNoaWxkVk5vZGUpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gT25seSBwcm9jZWVkIGlmIHRoZSB2bm9kZSBoYXMgbm90IGJlZW4gdW5tb3VudGVkIGJ5IGBkaWZmKClgIGFib3ZlLlxuXHRcdFx0XHRpZiAobmV3RG9tICE9IG51bGwpIHtcblx0XHRcdFx0XHRpZiAoZmlyc3RDaGlsZERvbSA9PSBudWxsKSB7XG5cdFx0XHRcdFx0XHRmaXJzdENoaWxkRG9tID0gbmV3RG9tO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmIChjaGlsZFZOb2RlLl9sYXN0RG9tQ2hpbGQgIT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0Ly8gT25seSBGcmFnbWVudHMgb3IgY29tcG9uZW50cyB0aGF0IHJldHVybiBGcmFnbWVudCBsaWtlIFZOb2RlcyB3aWxsXG5cdFx0XHRcdFx0XHQvLyBoYXZlIGEgbm9uLW51bGwgX2xhc3REb21DaGlsZC4gQ29udGludWUgdGhlIGRpZmYgZnJvbSB0aGUgZW5kIG9mXG5cdFx0XHRcdFx0XHQvLyB0aGlzIEZyYWdtZW50J3MgRE9NIHRyZWUuXG5cdFx0XHRcdFx0XHRuZXdEb20gPSBjaGlsZFZOb2RlLl9sYXN0RG9tQ2hpbGQ7XG5cblx0XHRcdFx0XHRcdC8vIEVhZ2VybHkgY2xlYW51cCBfbGFzdERvbUNoaWxkLiBXZSBkb24ndCBuZWVkIHRvIHBlcnNpc3QgdGhlIHZhbHVlIGJlY2F1c2Vcblx0XHRcdFx0XHRcdC8vIGl0IGlzIG9ubHkgdXNlZCBieSBgZGlmZkNoaWxkcmVuYCB0byBkZXRlcm1pbmUgd2hlcmUgdG8gcmVzdW1lIHRoZSBkaWZmIGFmdGVyXG5cdFx0XHRcdFx0XHQvLyBkaWZmaW5nIENvbXBvbmVudHMgYW5kIEZyYWdtZW50cy5cblx0XHRcdFx0XHRcdGNoaWxkVk5vZGUuX2xhc3REb21DaGlsZCA9IG51bGw7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChcblx0XHRcdFx0XHRcdGV4Y2Vzc0RvbUNoaWxkcmVuID09IG9sZFZOb2RlIHx8XG5cdFx0XHRcdFx0XHRuZXdEb20gIT0gb2xkRG9tIHx8XG5cdFx0XHRcdFx0XHRuZXdEb20ucGFyZW50Tm9kZSA9PSBudWxsXG5cdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHQvLyBOT1RFOiBleGNlc3NEb21DaGlsZHJlbj09b2xkVk5vZGUgYWJvdmU6XG5cdFx0XHRcdFx0XHQvLyBUaGlzIGlzIGEgY29tcHJlc3Npb24gb2YgZXhjZXNzRG9tQ2hpbGRyZW49PW51bGwgJiYgb2xkVk5vZGU9PW51bGwhXG5cdFx0XHRcdFx0XHQvLyBUaGUgdmFsdWVzIG9ubHkgaGF2ZSB0aGUgc2FtZSB0eXBlIHdoZW4gYG51bGxgLlxuXG5cdFx0XHRcdFx0XHRvdXRlcjogaWYgKG9sZERvbSA9PSBudWxsIHx8IG9sZERvbS5wYXJlbnROb2RlICE9PSBwYXJlbnREb20pIHtcblx0XHRcdFx0XHRcdFx0cGFyZW50RG9tLmFwcGVuZENoaWxkKG5ld0RvbSk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHQvLyBgajxvbGRDaGlsZHJlbkxlbmd0aDsgais9MmAgaXMgYW4gYWx0ZXJuYXRpdmUgdG8gYGorKzxvbGRDaGlsZHJlbkxlbmd0aC8yYFxuXHRcdFx0XHRcdFx0XHRmb3IgKFxuXHRcdFx0XHRcdFx0XHRcdHNpYkRvbSA9IG9sZERvbSwgaiA9IDA7XG5cdFx0XHRcdFx0XHRcdFx0KHNpYkRvbSA9IHNpYkRvbS5uZXh0U2libGluZykgJiYgaiA8IG9sZENoaWxkcmVuTGVuZ3RoO1xuXHRcdFx0XHRcdFx0XHRcdGogKz0gMlxuXHRcdFx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoc2liRG9tID09IG5ld0RvbSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWsgb3V0ZXI7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdHBhcmVudERvbS5pbnNlcnRCZWZvcmUobmV3RG9tLCBvbGREb20pO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBCcm93c2VycyB3aWxsIGluZmVyIGFuIG9wdGlvbidzIGB2YWx1ZWAgZnJvbSBgdGV4dENvbnRlbnRgIHdoZW5cblx0XHRcdFx0XHRcdC8vIG5vIHZhbHVlIGlzIHByZXNlbnQuIFRoaXMgZXNzZW50aWFsbHkgYnlwYXNzZXMgb3VyIGNvZGUgdG8gc2V0IGl0XG5cdFx0XHRcdFx0XHQvLyBsYXRlciBpbiBgZGlmZigpYC4gSXQgd29ya3MgZmluZSBpbiBhbGwgYnJvd3NlcnMgZXhjZXB0IGZvciBJRTExXG5cdFx0XHRcdFx0XHQvLyB3aGVyZSBpdCBicmVha3Mgc2V0dGluZyBgc2VsZWN0LnZhbHVlYC4gVGhlcmUgaXQgd2lsbCBiZSBhbHdheXMgc2V0XG5cdFx0XHRcdFx0XHQvLyB0byBhbiBlbXB0eSBzdHJpbmcuIFJlLWFwcGx5aW5nIGFuIG9wdGlvbnMgdmFsdWUgd2lsbCBmaXggdGhhdCwgc29cblx0XHRcdFx0XHRcdC8vIHRoZXJlIGFyZSBwcm9iYWJseSBzb21lIGludGVybmFsIGRhdGEgc3RydWN0dXJlcyB0aGF0IGFyZW4ndFxuXHRcdFx0XHRcdFx0Ly8gdXBkYXRlZCBwcm9wZXJseS5cblx0XHRcdFx0XHRcdC8vXG5cdFx0XHRcdFx0XHQvLyBUbyBmaXggaXQgd2UgbWFrZSBzdXJlIHRvIHJlc2V0IHRoZSBpbmZlcnJlZCB2YWx1ZSwgc28gdGhhdCBvdXIgb3duXG5cdFx0XHRcdFx0XHQvLyB2YWx1ZSBjaGVjayBpbiBgZGlmZigpYCB3b24ndCBiZSBza2lwcGVkLlxuXHRcdFx0XHRcdFx0aWYgKG5ld1BhcmVudFZOb2RlLnR5cGUgPT0gJ29wdGlvbicpIHtcblx0XHRcdFx0XHRcdFx0cGFyZW50RG9tLnZhbHVlID0gJyc7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0b2xkRG9tID0gbmV3RG9tLm5leHRTaWJsaW5nO1xuXG5cdFx0XHRcdFx0aWYgKHR5cGVvZiBuZXdQYXJlbnRWTm9kZS50eXBlID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdC8vIEF0IHRoaXMgcG9pbnQsIGlmIGNoaWxkVk5vZGUuX2xhc3REb21DaGlsZCBleGlzdGVkLCB0aGVuXG5cdFx0XHRcdFx0XHQvLyBuZXdEb20gPSBjaGlsZFZOb2RlLl9sYXN0RG9tQ2hpbGQgcGVyIGxpbmUgMTAxLiBFbHNlIGl0IGlzXG5cdFx0XHRcdFx0XHQvLyB0aGUgc2FtZSBhcyBjaGlsZFZOb2RlLl9kb20sIG1lYW5pbmcgdGhpcyBjb21wb25lbnQgcmV0dXJuZWRcblx0XHRcdFx0XHRcdC8vIG9ubHkgYSBzaW5nbGUgRE9NIG5vZGVcblx0XHRcdFx0XHRcdG5ld1BhcmVudFZOb2RlLl9sYXN0RG9tQ2hpbGQgPSBuZXdEb207XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGkrKztcblx0XHRcdHJldHVybiBjaGlsZFZOb2RlO1xuXHRcdH1cblx0KTtcblxuXHRuZXdQYXJlbnRWTm9kZS5fZG9tID0gZmlyc3RDaGlsZERvbTtcblxuXHQvLyBSZW1vdmUgY2hpbGRyZW4gdGhhdCBhcmUgbm90IHBhcnQgb2YgYW55IHZub2RlLlxuXHRpZiAoZXhjZXNzRG9tQ2hpbGRyZW4gIT0gbnVsbCAmJiB0eXBlb2YgbmV3UGFyZW50Vk5vZGUudHlwZSAhPT0gJ2Z1bmN0aW9uJykge1xuXHRcdGZvciAoaSA9IGV4Y2Vzc0RvbUNoaWxkcmVuLmxlbmd0aDsgaS0tOyApIHtcblx0XHRcdGlmIChleGNlc3NEb21DaGlsZHJlbltpXSAhPSBudWxsKSByZW1vdmVOb2RlKGV4Y2Vzc0RvbUNoaWxkcmVuW2ldKTtcblx0XHR9XG5cdH1cblxuXHQvLyBSZW1vdmUgcmVtYWluaW5nIG9sZENoaWxkcmVuIGlmIHRoZXJlIGFyZSBhbnkuXG5cdGZvciAoaSA9IG9sZENoaWxkcmVuTGVuZ3RoOyBpLS07ICkge1xuXHRcdGlmIChvbGRDaGlsZHJlbltpXSAhPSBudWxsKSB1bm1vdW50KG9sZENoaWxkcmVuW2ldLCBvbGRDaGlsZHJlbltpXSk7XG5cdH1cblxuXHQvLyBTZXQgcmVmcyBvbmx5IGFmdGVyIHVubW91bnRcblx0aWYgKHJlZnMpIHtcblx0XHRmb3IgKGkgPSAwOyBpIDwgcmVmcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0YXBwbHlSZWYocmVmc1tpXSwgcmVmc1srK2ldLCByZWZzWysraV0pO1xuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIEZsYXR0ZW4gYW5kIGxvb3AgdGhyb3VnaCB0aGUgY2hpbGRyZW4gb2YgYSB2aXJ0dWFsIG5vZGVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbmRleCcpLkNvbXBvbmVudENoaWxkcmVufSBjaGlsZHJlbiBUaGUgdW5mbGF0dGVuZWRcbiAqIGNoaWxkcmVuIG9mIGEgdmlydHVhbCBub2RlXG4gKiBAcGFyYW0geyh2bm9kZTogaW1wb3J0KCcuLi9pbnRlcm5hbCcpLlZOb2RlKSA9PiBpbXBvcnQoJy4uL2ludGVybmFsJykuVk5vZGV9IFtjYWxsYmFja11cbiAqIEEgZnVuY3Rpb24gdG8gaW52b2tlIGZvciBlYWNoIGNoaWxkIGJlZm9yZSBpdCBpcyBhZGRlZCB0byB0aGUgZmxhdHRlbmVkIGxpc3QuXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydCgnLi4vaW50ZXJuYWwnKS5WTm9kZSB8IHN0cmluZyB8IG51bWJlcj59IFtmbGF0dGVuZWRdIEFuIGZsYXQgYXJyYXkgb2YgY2hpbGRyZW4gdG8gbW9kaWZ5XG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlZOb2RlW119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0NoaWxkQXJyYXkoY2hpbGRyZW4sIGNhbGxiYWNrLCBmbGF0dGVuZWQpIHtcblx0aWYgKGZsYXR0ZW5lZCA9PSBudWxsKSBmbGF0dGVuZWQgPSBbXTtcblxuXHRpZiAoY2hpbGRyZW4gPT0gbnVsbCB8fCB0eXBlb2YgY2hpbGRyZW4gPT09ICdib29sZWFuJykge1xuXHRcdGlmIChjYWxsYmFjaykgZmxhdHRlbmVkLnB1c2goY2FsbGJhY2sobnVsbCkpO1xuXHR9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pKSB7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuXHRcdFx0dG9DaGlsZEFycmF5KGNoaWxkcmVuW2ldLCBjYWxsYmFjaywgZmxhdHRlbmVkKTtcblx0XHR9XG5cdH0gZWxzZSBpZiAoIWNhbGxiYWNrKSB7XG5cdFx0ZmxhdHRlbmVkLnB1c2goY2hpbGRyZW4pO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBjaGlsZHJlbiA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIGNoaWxkcmVuID09PSAnbnVtYmVyJykge1xuXHRcdGZsYXR0ZW5lZC5wdXNoKGNhbGxiYWNrKGNyZWF0ZVZOb2RlKG51bGwsIGNoaWxkcmVuLCBudWxsLCBudWxsKSkpO1xuXHR9IGVsc2UgaWYgKGNoaWxkcmVuLl9kb20gIT0gbnVsbCB8fCBjaGlsZHJlbi5fY29tcG9uZW50ICE9IG51bGwpIHtcblx0XHRmbGF0dGVuZWQucHVzaChcblx0XHRcdGNhbGxiYWNrKGNyZWF0ZVZOb2RlKGNoaWxkcmVuLnR5cGUsIGNoaWxkcmVuLnByb3BzLCBjaGlsZHJlbi5rZXksIG51bGwpKVxuXHRcdCk7XG5cdH0gZWxzZSB7XG5cdFx0ZmxhdHRlbmVkLnB1c2goY2FsbGJhY2soY2hpbGRyZW4pKTtcblx0fVxuXG5cdHJldHVybiBmbGF0dGVuZWQ7XG59XG4iLCJpbXBvcnQgeyBJU19OT05fRElNRU5TSU9OQUwgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IG9wdGlvbnMgZnJvbSAnLi4vb3B0aW9ucyc7XG5cbi8qKlxuICogRGlmZiB0aGUgb2xkIGFuZCBuZXcgcHJvcGVydGllcyBvZiBhIFZOb2RlIGFuZCBhcHBseSBjaGFuZ2VzIHRvIHRoZSBET00gbm9kZVxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuUHJlYWN0RWxlbWVudH0gZG9tIFRoZSBET00gbm9kZSB0byBhcHBseVxuICogY2hhbmdlcyB0b1xuICogQHBhcmFtIHtvYmplY3R9IG5ld1Byb3BzIFRoZSBuZXcgcHJvcHNcbiAqIEBwYXJhbSB7b2JqZWN0fSBvbGRQcm9wcyBUaGUgb2xkIHByb3BzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzU3ZnIFdoZXRoZXIgb3Igbm90IHRoaXMgbm9kZSBpcyBhbiBTVkcgbm9kZVxuICogQHBhcmFtIHtib29sZWFufSBoeWRyYXRlIFdoZXRoZXIgb3Igbm90IHdlIGFyZSBpbiBoeWRyYXRpb24gbW9kZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlmZlByb3BzKGRvbSwgbmV3UHJvcHMsIG9sZFByb3BzLCBpc1N2ZywgaHlkcmF0ZSkge1xuXHRsZXQgaTtcblxuXHRmb3IgKGkgaW4gb2xkUHJvcHMpIHtcblx0XHRpZiAoIShpIGluIG5ld1Byb3BzKSkge1xuXHRcdFx0c2V0UHJvcGVydHkoZG9tLCBpLCBudWxsLCBvbGRQcm9wc1tpXSwgaXNTdmcpO1xuXHRcdH1cblx0fVxuXG5cdGZvciAoaSBpbiBuZXdQcm9wcykge1xuXHRcdGlmIChcblx0XHRcdCghaHlkcmF0ZSB8fCB0eXBlb2YgbmV3UHJvcHNbaV0gPT0gJ2Z1bmN0aW9uJykgJiZcblx0XHRcdGkgIT09ICd2YWx1ZScgJiZcblx0XHRcdGkgIT09ICdjaGVja2VkJyAmJlxuXHRcdFx0b2xkUHJvcHNbaV0gIT09IG5ld1Byb3BzW2ldXG5cdFx0KSB7XG5cdFx0XHRzZXRQcm9wZXJ0eShkb20sIGksIG5ld1Byb3BzW2ldLCBvbGRQcm9wc1tpXSwgaXNTdmcpO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBzZXRTdHlsZShzdHlsZSwga2V5LCB2YWx1ZSkge1xuXHRpZiAoa2V5WzBdID09PSAnLScpIHtcblx0XHRzdHlsZS5zZXRQcm9wZXJ0eShrZXksIHZhbHVlKTtcblx0fSBlbHNlIGlmIChcblx0XHR0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmXG5cdFx0SVNfTk9OX0RJTUVOU0lPTkFMLnRlc3Qoa2V5KSA9PT0gZmFsc2Vcblx0KSB7XG5cdFx0c3R5bGVba2V5XSA9IHZhbHVlICsgJ3B4Jztcblx0fSBlbHNlIGlmICh2YWx1ZSA9PSBudWxsKSB7XG5cdFx0c3R5bGVba2V5XSA9ICcnO1xuXHR9IGVsc2Uge1xuXHRcdHN0eWxlW2tleV0gPSB2YWx1ZTtcblx0fVxufVxuXG4vKipcbiAqIFNldCBhIHByb3BlcnR5IHZhbHVlIG9uIGEgRE9NIG5vZGVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlByZWFjdEVsZW1lbnR9IGRvbSBUaGUgRE9NIG5vZGUgdG8gbW9kaWZ5XG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gc2V0XG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQgdGhlIHByb3BlcnR5IHRvXG4gKiBAcGFyYW0geyp9IG9sZFZhbHVlIFRoZSBvbGQgdmFsdWUgdGhlIHByb3BlcnR5IGhhZFxuICogQHBhcmFtIHtib29sZWFufSBpc1N2ZyBXaGV0aGVyIG9yIG5vdCB0aGlzIERPTSBub2RlIGlzIGFuIFNWRyBub2RlIG9yIG5vdFxuICovXG5mdW5jdGlvbiBzZXRQcm9wZXJ0eShkb20sIG5hbWUsIHZhbHVlLCBvbGRWYWx1ZSwgaXNTdmcpIHtcblx0aWYgKGlzU3ZnKSB7XG5cdFx0aWYgKG5hbWUgPT09ICdjbGFzc05hbWUnKSB7XG5cdFx0XHRuYW1lID0gJ2NsYXNzJztcblx0XHR9XG5cdH0gZWxzZSBpZiAobmFtZSA9PT0gJ2NsYXNzJykge1xuXHRcdG5hbWUgPSAnY2xhc3NOYW1lJztcblx0fVxuXG5cdGlmIChuYW1lID09PSAna2V5JyB8fCBuYW1lID09PSAnY2hpbGRyZW4nKSB7XG5cdH0gZWxzZSBpZiAobmFtZSA9PT0gJ3N0eWxlJykge1xuXHRcdGNvbnN0IHMgPSBkb20uc3R5bGU7XG5cblx0XHRpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuXHRcdFx0cy5jc3NUZXh0ID0gdmFsdWU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmICh0eXBlb2Ygb2xkVmFsdWUgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdHMuY3NzVGV4dCA9ICcnO1xuXHRcdFx0XHRvbGRWYWx1ZSA9IG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChvbGRWYWx1ZSkge1xuXHRcdFx0XHRmb3IgKGxldCBpIGluIG9sZFZhbHVlKSB7XG5cdFx0XHRcdFx0aWYgKCEodmFsdWUgJiYgaSBpbiB2YWx1ZSkpIHtcblx0XHRcdFx0XHRcdHNldFN0eWxlKHMsIGksICcnKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKHZhbHVlKSB7XG5cdFx0XHRcdGZvciAobGV0IGkgaW4gdmFsdWUpIHtcblx0XHRcdFx0XHRpZiAoIW9sZFZhbHVlIHx8IHZhbHVlW2ldICE9PSBvbGRWYWx1ZVtpXSkge1xuXHRcdFx0XHRcdFx0c2V0U3R5bGUocywgaSwgdmFsdWVbaV0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHQvLyBCZW5jaG1hcmsgZm9yIGNvbXBhcmlzb246IGh0dHBzOi8vZXNiZW5jaC5jb20vYmVuY2gvNTc0Yzk1NGJkYjk2NWI5YTAwOTY1YWM2XG5cdGVsc2UgaWYgKG5hbWVbMF0gPT09ICdvJyAmJiBuYW1lWzFdID09PSAnbicpIHtcblx0XHRsZXQgdXNlQ2FwdHVyZSA9IG5hbWUgIT09IChuYW1lID0gbmFtZS5yZXBsYWNlKC9DYXB0dXJlJC8sICcnKSk7XG5cdFx0bGV0IG5hbWVMb3dlciA9IG5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRuYW1lID0gKG5hbWVMb3dlciBpbiBkb20gPyBuYW1lTG93ZXIgOiBuYW1lKS5zbGljZSgyKTtcblxuXHRcdGlmICh2YWx1ZSkge1xuXHRcdFx0aWYgKCFvbGRWYWx1ZSkgZG9tLmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgZXZlbnRQcm94eSwgdXNlQ2FwdHVyZSk7XG5cdFx0XHQoZG9tLl9saXN0ZW5lcnMgfHwgKGRvbS5fbGlzdGVuZXJzID0ge30pKVtuYW1lXSA9IHZhbHVlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRkb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcihuYW1lLCBldmVudFByb3h5LCB1c2VDYXB0dXJlKTtcblx0XHR9XG5cdH0gZWxzZSBpZiAoXG5cdFx0bmFtZSAhPT0gJ2xpc3QnICYmXG5cdFx0bmFtZSAhPT0gJ3RhZ05hbWUnICYmXG5cdFx0Ly8gSFRNTEJ1dHRvbkVsZW1lbnQuZm9ybSBhbmQgSFRNTElucHV0RWxlbWVudC5mb3JtIGFyZSByZWFkLW9ubHkgYnV0IGNhbiBiZSBzZXQgdXNpbmdcblx0XHQvLyBzZXRBdHRyaWJ1dGVcblx0XHRuYW1lICE9PSAnZm9ybScgJiZcblx0XHRuYW1lICE9PSAndHlwZScgJiZcblx0XHQhaXNTdmcgJiZcblx0XHRuYW1lIGluIGRvbVxuXHQpIHtcblx0XHRkb21bbmFtZV0gPSB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcblx0fSBlbHNlIGlmIChcblx0XHR0eXBlb2YgdmFsdWUgIT09ICdmdW5jdGlvbicgJiZcblx0XHRuYW1lICE9PSAnZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwnXG5cdCkge1xuXHRcdGlmIChuYW1lICE9PSAobmFtZSA9IG5hbWUucmVwbGFjZSgvXnhsaW5rOj8vLCAnJykpKSB7XG5cdFx0XHRpZiAodmFsdWUgPT0gbnVsbCB8fCB2YWx1ZSA9PT0gZmFsc2UpIHtcblx0XHRcdFx0ZG9tLnJlbW92ZUF0dHJpYnV0ZU5TKFxuXHRcdFx0XHRcdCdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyxcblx0XHRcdFx0XHRuYW1lLnRvTG93ZXJDYXNlKClcblx0XHRcdFx0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRvbS5zZXRBdHRyaWJ1dGVOUyhcblx0XHRcdFx0XHQnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsXG5cdFx0XHRcdFx0bmFtZS50b0xvd2VyQ2FzZSgpLFxuXHRcdFx0XHRcdHZhbHVlXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmICh2YWx1ZSA9PSBudWxsIHx8IHZhbHVlID09PSBmYWxzZSkge1xuXHRcdFx0ZG9tLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZG9tLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogUHJveHkgYW4gZXZlbnQgdG8gaG9va2VkIGV2ZW50IGhhbmRsZXJzXG4gKiBAcGFyYW0ge0V2ZW50fSBlIFRoZSBldmVudCBvYmplY3QgZnJvbSB0aGUgYnJvd3NlclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZXZlbnRQcm94eShlKSB7XG5cdHRoaXMuX2xpc3RlbmVyc1tlLnR5cGVdKG9wdGlvbnMuZXZlbnQgPyBvcHRpb25zLmV2ZW50KGUpIDogZSk7XG59XG4iLCJpbXBvcnQgeyBFTVBUWV9PQkosIEVNUFRZX0FSUiB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICcuLi9jb21wb25lbnQnO1xuaW1wb3J0IHsgRnJhZ21lbnQgfSBmcm9tICcuLi9jcmVhdGUtZWxlbWVudCc7XG5pbXBvcnQgeyBkaWZmQ2hpbGRyZW4sIHRvQ2hpbGRBcnJheSB9IGZyb20gJy4vY2hpbGRyZW4nO1xuaW1wb3J0IHsgZGlmZlByb3BzIH0gZnJvbSAnLi9wcm9wcyc7XG5pbXBvcnQgeyBhc3NpZ24sIHJlbW92ZU5vZGUgfSBmcm9tICcuLi91dGlsJztcbmltcG9ydCBvcHRpb25zIGZyb20gJy4uL29wdGlvbnMnO1xuXG4vKipcbiAqIERpZmYgdHdvIHZpcnR1YWwgbm9kZXMgYW5kIGFwcGx5IHByb3BlciBjaGFuZ2VzIHRvIHRoZSBET01cbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlByZWFjdEVsZW1lbnR9IHBhcmVudERvbSBUaGUgcGFyZW50IG9mIHRoZSBET00gZWxlbWVudFxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuVk5vZGV9IG5ld1ZOb2RlIFRoZSBuZXcgdmlydHVhbCBub2RlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5WTm9kZX0gb2xkVk5vZGUgVGhlIG9sZCB2aXJ0dWFsIG5vZGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb250ZXh0IFRoZSBjdXJyZW50IGNvbnRleHQgb2JqZWN0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzU3ZnIFdoZXRoZXIgb3Igbm90IHRoaXMgZWxlbWVudCBpcyBhbiBTVkcgbm9kZVxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoJy4uL2ludGVybmFsJykuUHJlYWN0RWxlbWVudD59IGV4Y2Vzc0RvbUNoaWxkcmVuXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydCgnLi4vaW50ZXJuYWwnKS5Db21wb25lbnQ+fSBjb21taXRRdWV1ZSBMaXN0IG9mIGNvbXBvbmVudHNcbiAqIHdoaWNoIGhhdmUgY2FsbGJhY2tzIHRvIGludm9rZSBpbiBjb21taXRSb290XG4gKiBAcGFyYW0ge0VsZW1lbnQgfCBUZXh0fSBvbGREb20gVGhlIGN1cnJlbnQgYXR0YWNoZWQgRE9NXG4gKiBlbGVtZW50IGFueSBuZXcgZG9tIGVsZW1lbnRzIHNob3VsZCBiZSBwbGFjZWQgYXJvdW5kLiBMaWtlbHkgYG51bGxgIG9uIGZpcnN0XG4gKiByZW5kZXIgKGV4Y2VwdCB3aGVuIGh5ZHJhdGluZykuIENhbiBiZSBhIHNpYmxpbmcgRE9NIGVsZW1lbnQgd2hlbiBkaWZmaW5nXG4gKiBGcmFnbWVudHMgdGhhdCBoYXZlIHNpYmxpbmdzLiBJbiBtb3N0IGNhc2VzLCBpdCBzdGFydHMgb3V0IGFzIGBvbGRDaGlsZHJlblswXS5fZG9tYC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzSHlkcmF0aW5nXSBXaGV0aGVyIG9yIG5vdCB3ZSBhcmUgaW4gaHlkcmF0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaWZmKFxuXHRwYXJlbnREb20sXG5cdG5ld1ZOb2RlLFxuXHRvbGRWTm9kZSxcblx0Y29udGV4dCxcblx0aXNTdmcsXG5cdGV4Y2Vzc0RvbUNoaWxkcmVuLFxuXHRjb21taXRRdWV1ZSxcblx0b2xkRG9tLFxuXHRpc0h5ZHJhdGluZ1xuKSB7XG5cdGxldCB0bXAsXG5cdFx0bmV3VHlwZSA9IG5ld1ZOb2RlLnR5cGU7XG5cblx0Ly8gV2hlbiBwYXNzaW5nIHRocm91Z2ggY3JlYXRlRWxlbWVudCBpdCBhc3NpZ25zIHRoZSBvYmplY3Rcblx0Ly8gY29uc3RydWN0b3IgYXMgdW5kZWZpbmVkLiBUaGlzIHRvIHByZXZlbnQgSlNPTi1pbmplY3Rpb24uXG5cdGlmIChuZXdWTm9kZS5jb25zdHJ1Y3RvciAhPT0gdW5kZWZpbmVkKSByZXR1cm4gbnVsbDtcblxuXHRpZiAoKHRtcCA9IG9wdGlvbnMuX2RpZmYpKSB0bXAobmV3Vk5vZGUpO1xuXG5cdHRyeSB7XG5cdFx0b3V0ZXI6IGlmICh0eXBlb2YgbmV3VHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0bGV0IGMsIGlzTmV3LCBvbGRQcm9wcywgb2xkU3RhdGUsIHNuYXBzaG90LCBjbGVhclByb2Nlc3NpbmdFeGNlcHRpb247XG5cdFx0XHRsZXQgbmV3UHJvcHMgPSBuZXdWTm9kZS5wcm9wcztcblxuXHRcdFx0Ly8gTmVjZXNzYXJ5IGZvciBjcmVhdGVDb250ZXh0IGFwaS4gU2V0dGluZyB0aGlzIHByb3BlcnR5IHdpbGwgcGFzc1xuXHRcdFx0Ly8gdGhlIGNvbnRleHQgdmFsdWUgYXMgYHRoaXMuY29udGV4dGAganVzdCBmb3IgdGhpcyBjb21wb25lbnQuXG5cdFx0XHR0bXAgPSBuZXdUeXBlLmNvbnRleHRUeXBlO1xuXHRcdFx0bGV0IHByb3ZpZGVyID0gdG1wICYmIGNvbnRleHRbdG1wLl9pZF07XG5cdFx0XHRsZXQgY2N0eCA9IHRtcFxuXHRcdFx0XHQ/IHByb3ZpZGVyXG5cdFx0XHRcdFx0PyBwcm92aWRlci5wcm9wcy52YWx1ZVxuXHRcdFx0XHRcdDogdG1wLl9kZWZhdWx0VmFsdWVcblx0XHRcdFx0OiBjb250ZXh0O1xuXG5cdFx0XHQvLyBHZXQgY29tcG9uZW50IGFuZCBzZXQgaXQgdG8gYGNgXG5cdFx0XHRpZiAob2xkVk5vZGUuX2NvbXBvbmVudCkge1xuXHRcdFx0XHRjID0gbmV3Vk5vZGUuX2NvbXBvbmVudCA9IG9sZFZOb2RlLl9jb21wb25lbnQ7XG5cdFx0XHRcdGNsZWFyUHJvY2Vzc2luZ0V4Y2VwdGlvbiA9IGMuX3Byb2Nlc3NpbmdFeGNlcHRpb24gPSBjLl9wZW5kaW5nRXJyb3I7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBJbnN0YW50aWF0ZSB0aGUgbmV3IGNvbXBvbmVudFxuXHRcdFx0XHRpZiAoJ3Byb3RvdHlwZScgaW4gbmV3VHlwZSAmJiBuZXdUeXBlLnByb3RvdHlwZS5yZW5kZXIpIHtcblx0XHRcdFx0XHRuZXdWTm9kZS5fY29tcG9uZW50ID0gYyA9IG5ldyBuZXdUeXBlKG5ld1Byb3BzLCBjY3R4KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuZXctY2FwXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bmV3Vk5vZGUuX2NvbXBvbmVudCA9IGMgPSBuZXcgQ29tcG9uZW50KG5ld1Byb3BzLCBjY3R4KTtcblx0XHRcdFx0XHRjLmNvbnN0cnVjdG9yID0gbmV3VHlwZTtcblx0XHRcdFx0XHRjLnJlbmRlciA9IGRvUmVuZGVyO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChwcm92aWRlcikgcHJvdmlkZXIuc3ViKGMpO1xuXG5cdFx0XHRcdGMucHJvcHMgPSBuZXdQcm9wcztcblx0XHRcdFx0aWYgKCFjLnN0YXRlKSBjLnN0YXRlID0ge307XG5cdFx0XHRcdGMuY29udGV4dCA9IGNjdHg7XG5cdFx0XHRcdGMuX2NvbnRleHQgPSBjb250ZXh0O1xuXHRcdFx0XHRpc05ldyA9IGMuX2RpcnR5ID0gdHJ1ZTtcblx0XHRcdFx0Yy5fcmVuZGVyQ2FsbGJhY2tzID0gW107XG5cdFx0XHR9XG5cblx0XHRcdC8vIEludm9rZSBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHNcblx0XHRcdGlmIChjLl9uZXh0U3RhdGUgPT0gbnVsbCkge1xuXHRcdFx0XHRjLl9uZXh0U3RhdGUgPSBjLnN0YXRlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKG5ld1R5cGUuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzICE9IG51bGwpIHtcblx0XHRcdFx0aWYgKGMuX25leHRTdGF0ZSA9PSBjLnN0YXRlKSB7XG5cdFx0XHRcdFx0Yy5fbmV4dFN0YXRlID0gYXNzaWduKHt9LCBjLl9uZXh0U3RhdGUpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0YXNzaWduKFxuXHRcdFx0XHRcdGMuX25leHRTdGF0ZSxcblx0XHRcdFx0XHRuZXdUeXBlLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhuZXdQcm9wcywgYy5fbmV4dFN0YXRlKVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXG5cdFx0XHRvbGRQcm9wcyA9IGMucHJvcHM7XG5cdFx0XHRvbGRTdGF0ZSA9IGMuc3RhdGU7XG5cblx0XHRcdC8vIEludm9rZSBwcmUtcmVuZGVyIGxpZmVjeWNsZSBtZXRob2RzXG5cdFx0XHRpZiAoaXNOZXcpIHtcblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdG5ld1R5cGUuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID09IG51bGwgJiZcblx0XHRcdFx0XHRjLmNvbXBvbmVudFdpbGxNb3VudCAhPSBudWxsXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdGMuY29tcG9uZW50V2lsbE1vdW50KCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoYy5jb21wb25lbnREaWRNb3VudCAhPSBudWxsKSB7XG5cdFx0XHRcdFx0Yy5fcmVuZGVyQ2FsbGJhY2tzLnB1c2goYy5jb21wb25lbnREaWRNb3VudCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRuZXdUeXBlLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9PSBudWxsICYmXG5cdFx0XHRcdFx0bmV3UHJvcHMgIT09IG9sZFByb3BzICYmXG5cdFx0XHRcdFx0Yy5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzICE9IG51bGxcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0Yy5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5ld1Byb3BzLCBjY3R4KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHQhYy5fZm9yY2UgJiZcblx0XHRcdFx0XHRjLnNob3VsZENvbXBvbmVudFVwZGF0ZSAhPSBudWxsICYmXG5cdFx0XHRcdFx0Yy5zaG91bGRDb21wb25lbnRVcGRhdGUobmV3UHJvcHMsIGMuX25leHRTdGF0ZSwgY2N0eCkgPT09IGZhbHNlXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdGMucHJvcHMgPSBuZXdQcm9wcztcblx0XHRcdFx0XHRjLnN0YXRlID0gYy5fbmV4dFN0YXRlO1xuXHRcdFx0XHRcdGMuX2RpcnR5ID0gZmFsc2U7XG5cdFx0XHRcdFx0Yy5fdm5vZGUgPSBuZXdWTm9kZTtcblx0XHRcdFx0XHRuZXdWTm9kZS5fZG9tID0gb2xkVk5vZGUuX2RvbTtcblx0XHRcdFx0XHRuZXdWTm9kZS5fY2hpbGRyZW4gPSBvbGRWTm9kZS5fY2hpbGRyZW47XG5cdFx0XHRcdFx0aWYgKGMuX3JlbmRlckNhbGxiYWNrcy5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdGNvbW1pdFF1ZXVlLnB1c2goYyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGZvciAodG1wID0gMDsgdG1wIDwgbmV3Vk5vZGUuX2NoaWxkcmVuLmxlbmd0aDsgdG1wKyspIHtcblx0XHRcdFx0XHRcdGlmIChuZXdWTm9kZS5fY2hpbGRyZW5bdG1wXSkge1xuXHRcdFx0XHRcdFx0XHRuZXdWTm9kZS5fY2hpbGRyZW5bdG1wXS5fcGFyZW50ID0gbmV3Vk5vZGU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGJyZWFrIG91dGVyO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGMuY29tcG9uZW50V2lsbFVwZGF0ZSAhPSBudWxsKSB7XG5cdFx0XHRcdFx0Yy5jb21wb25lbnRXaWxsVXBkYXRlKG5ld1Byb3BzLCBjLl9uZXh0U3RhdGUsIGNjdHgpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGMuY29tcG9uZW50RGlkVXBkYXRlICE9IG51bGwpIHtcblx0XHRcdFx0XHRjLl9yZW5kZXJDYWxsYmFja3MucHVzaCgoKSA9PiB7XG5cdFx0XHRcdFx0XHRjLmNvbXBvbmVudERpZFVwZGF0ZShvbGRQcm9wcywgb2xkU3RhdGUsIHNuYXBzaG90KTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRjLmNvbnRleHQgPSBjY3R4O1xuXHRcdFx0Yy5wcm9wcyA9IG5ld1Byb3BzO1xuXHRcdFx0Yy5zdGF0ZSA9IGMuX25leHRTdGF0ZTtcblxuXHRcdFx0aWYgKCh0bXAgPSBvcHRpb25zLl9yZW5kZXIpKSB0bXAobmV3Vk5vZGUpO1xuXG5cdFx0XHRjLl9kaXJ0eSA9IGZhbHNlO1xuXHRcdFx0Yy5fdm5vZGUgPSBuZXdWTm9kZTtcblx0XHRcdGMuX3BhcmVudERvbSA9IHBhcmVudERvbTtcblxuXHRcdFx0dG1wID0gYy5yZW5kZXIoYy5wcm9wcywgYy5zdGF0ZSwgYy5jb250ZXh0KTtcblx0XHRcdGxldCBpc1RvcExldmVsRnJhZ21lbnQgPVxuXHRcdFx0XHR0bXAgIT0gbnVsbCAmJiB0bXAudHlwZSA9PSBGcmFnbWVudCAmJiB0bXAua2V5ID09IG51bGw7XG5cdFx0XHRuZXdWTm9kZS5fY2hpbGRyZW4gPSB0b0NoaWxkQXJyYXkoXG5cdFx0XHRcdGlzVG9wTGV2ZWxGcmFnbWVudCA/IHRtcC5wcm9wcy5jaGlsZHJlbiA6IHRtcFxuXHRcdFx0KTtcblxuXHRcdFx0aWYgKGMuZ2V0Q2hpbGRDb250ZXh0ICE9IG51bGwpIHtcblx0XHRcdFx0Y29udGV4dCA9IGFzc2lnbihhc3NpZ24oe30sIGNvbnRleHQpLCBjLmdldENoaWxkQ29udGV4dCgpKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCFpc05ldyAmJiBjLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlICE9IG51bGwpIHtcblx0XHRcdFx0c25hcHNob3QgPSBjLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlKG9sZFByb3BzLCBvbGRTdGF0ZSk7XG5cdFx0XHR9XG5cblx0XHRcdGRpZmZDaGlsZHJlbihcblx0XHRcdFx0cGFyZW50RG9tLFxuXHRcdFx0XHRuZXdWTm9kZSxcblx0XHRcdFx0b2xkVk5vZGUsXG5cdFx0XHRcdGNvbnRleHQsXG5cdFx0XHRcdGlzU3ZnLFxuXHRcdFx0XHRleGNlc3NEb21DaGlsZHJlbixcblx0XHRcdFx0Y29tbWl0UXVldWUsXG5cdFx0XHRcdG9sZERvbSxcblx0XHRcdFx0aXNIeWRyYXRpbmdcblx0XHRcdCk7XG5cblx0XHRcdGMuYmFzZSA9IG5ld1ZOb2RlLl9kb207XG5cblx0XHRcdGlmIChjLl9yZW5kZXJDYWxsYmFja3MubGVuZ3RoKSB7XG5cdFx0XHRcdGNvbW1pdFF1ZXVlLnB1c2goYyk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChjbGVhclByb2Nlc3NpbmdFeGNlcHRpb24pIHtcblx0XHRcdFx0Yy5fcGVuZGluZ0Vycm9yID0gYy5fcHJvY2Vzc2luZ0V4Y2VwdGlvbiA9IG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdGMuX2ZvcmNlID0gbnVsbDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bmV3Vk5vZGUuX2RvbSA9IGRpZmZFbGVtZW50Tm9kZXMoXG5cdFx0XHRcdG9sZFZOb2RlLl9kb20sXG5cdFx0XHRcdG5ld1ZOb2RlLFxuXHRcdFx0XHRvbGRWTm9kZSxcblx0XHRcdFx0Y29udGV4dCxcblx0XHRcdFx0aXNTdmcsXG5cdFx0XHRcdGV4Y2Vzc0RvbUNoaWxkcmVuLFxuXHRcdFx0XHRjb21taXRRdWV1ZSxcblx0XHRcdFx0aXNIeWRyYXRpbmdcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0aWYgKCh0bXAgPSBvcHRpb25zLmRpZmZlZCkpIHRtcChuZXdWTm9kZSk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRvcHRpb25zLl9jYXRjaEVycm9yKGUsIG5ld1ZOb2RlLCBvbGRWTm9kZSk7XG5cdH1cblxuXHRyZXR1cm4gbmV3Vk5vZGUuX2RvbTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydCgnLi4vaW50ZXJuYWwnKS5Db21wb25lbnQ+fSBjb21taXRRdWV1ZSBMaXN0IG9mIGNvbXBvbmVudHNcbiAqIHdoaWNoIGhhdmUgY2FsbGJhY2tzIHRvIGludm9rZSBpbiBjb21taXRSb290XG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5WTm9kZX0gcm9vdFxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tbWl0Um9vdChjb21taXRRdWV1ZSwgcm9vdCkge1xuXHRpZiAob3B0aW9ucy5fY29tbWl0KSBvcHRpb25zLl9jb21taXQocm9vdCwgY29tbWl0UXVldWUpO1xuXG5cdGNvbW1pdFF1ZXVlLnNvbWUoYyA9PiB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbW1pdFF1ZXVlID0gYy5fcmVuZGVyQ2FsbGJhY2tzO1xuXHRcdFx0Yy5fcmVuZGVyQ2FsbGJhY2tzID0gW107XG5cdFx0XHRjb21taXRRdWV1ZS5zb21lKGNiID0+IHtcblx0XHRcdFx0Y2IuY2FsbChjKTtcblx0XHRcdH0pO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdG9wdGlvbnMuX2NhdGNoRXJyb3IoZSwgYy5fdm5vZGUpO1xuXHRcdH1cblx0fSk7XG59XG5cbi8qKlxuICogRGlmZiB0d28gdmlydHVhbCBub2RlcyByZXByZXNlbnRpbmcgRE9NIGVsZW1lbnRcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlByZWFjdEVsZW1lbnR9IGRvbSBUaGUgRE9NIGVsZW1lbnQgcmVwcmVzZW50aW5nXG4gKiB0aGUgdmlydHVhbCBub2RlcyBiZWluZyBkaWZmZWRcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlZOb2RlfSBuZXdWTm9kZSBUaGUgbmV3IHZpcnR1YWwgbm9kZVxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuVk5vZGV9IG9sZFZOb2RlIFRoZSBvbGQgdmlydHVhbCBub2RlXG4gKiBAcGFyYW0ge29iamVjdH0gY29udGV4dCBUaGUgY3VycmVudCBjb250ZXh0IG9iamVjdFxuICogQHBhcmFtIHtib29sZWFufSBpc1N2ZyBXaGV0aGVyIG9yIG5vdCB0aGlzIERPTSBub2RlIGlzIGFuIFNWRyBub2RlXG4gKiBAcGFyYW0geyp9IGV4Y2Vzc0RvbUNoaWxkcmVuXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydCgnLi4vaW50ZXJuYWwnKS5Db21wb25lbnQ+fSBjb21taXRRdWV1ZSBMaXN0IG9mIGNvbXBvbmVudHNcbiAqIHdoaWNoIGhhdmUgY2FsbGJhY2tzIHRvIGludm9rZSBpbiBjb21taXRSb290XG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzSHlkcmF0aW5nIFdoZXRoZXIgb3Igbm90IHdlIGFyZSBpbiBoeWRyYXRpb25cbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4uL2ludGVybmFsJykuUHJlYWN0RWxlbWVudH1cbiAqL1xuZnVuY3Rpb24gZGlmZkVsZW1lbnROb2Rlcyhcblx0ZG9tLFxuXHRuZXdWTm9kZSxcblx0b2xkVk5vZGUsXG5cdGNvbnRleHQsXG5cdGlzU3ZnLFxuXHRleGNlc3NEb21DaGlsZHJlbixcblx0Y29tbWl0UXVldWUsXG5cdGlzSHlkcmF0aW5nXG4pIHtcblx0bGV0IGk7XG5cdGxldCBvbGRQcm9wcyA9IG9sZFZOb2RlLnByb3BzO1xuXHRsZXQgbmV3UHJvcHMgPSBuZXdWTm9kZS5wcm9wcztcblxuXHQvLyBUcmFja3MgZW50ZXJpbmcgYW5kIGV4aXRpbmcgU1ZHIG5hbWVzcGFjZSB3aGVuIGRlc2NlbmRpbmcgdGhyb3VnaCB0aGUgdHJlZS5cblx0aXNTdmcgPSBuZXdWTm9kZS50eXBlID09PSAnc3ZnJyB8fCBpc1N2ZztcblxuXHRpZiAoZG9tID09IG51bGwgJiYgZXhjZXNzRG9tQ2hpbGRyZW4gIT0gbnVsbCkge1xuXHRcdGZvciAoaSA9IDA7IGkgPCBleGNlc3NEb21DaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29uc3QgY2hpbGQgPSBleGNlc3NEb21DaGlsZHJlbltpXTtcblxuXHRcdFx0aWYgKFxuXHRcdFx0XHRjaGlsZCAhPSBudWxsICYmXG5cdFx0XHRcdChuZXdWTm9kZS50eXBlID09PSBudWxsXG5cdFx0XHRcdFx0PyBjaGlsZC5ub2RlVHlwZSA9PT0gM1xuXHRcdFx0XHRcdDogY2hpbGQubG9jYWxOYW1lID09PSBuZXdWTm9kZS50eXBlKVxuXHRcdFx0KSB7XG5cdFx0XHRcdGRvbSA9IGNoaWxkO1xuXHRcdFx0XHRleGNlc3NEb21DaGlsZHJlbltpXSA9IG51bGw7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGlmIChkb20gPT0gbnVsbCkge1xuXHRcdGlmIChuZXdWTm9kZS50eXBlID09PSBudWxsKSB7XG5cdFx0XHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobmV3UHJvcHMpO1xuXHRcdH1cblx0XHRkb20gPSBpc1N2Z1xuXHRcdFx0PyBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgbmV3Vk5vZGUudHlwZSlcblx0XHRcdDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuZXdWTm9kZS50eXBlKTtcblx0XHQvLyB3ZSBjcmVhdGVkIGEgbmV3IHBhcmVudCwgc28gbm9uZSBvZiB0aGUgcHJldmlvdXNseSBhdHRhY2hlZCBjaGlsZHJlbiBjYW4gYmUgcmV1c2VkOlxuXHRcdGV4Y2Vzc0RvbUNoaWxkcmVuID0gbnVsbDtcblx0fVxuXG5cdGlmIChuZXdWTm9kZS50eXBlID09PSBudWxsKSB7XG5cdFx0aWYgKGV4Y2Vzc0RvbUNoaWxkcmVuICE9IG51bGwpIHtcblx0XHRcdGV4Y2Vzc0RvbUNoaWxkcmVuW2V4Y2Vzc0RvbUNoaWxkcmVuLmluZGV4T2YoZG9tKV0gPSBudWxsO1xuXHRcdH1cblxuXHRcdGlmIChvbGRQcm9wcyAhPT0gbmV3UHJvcHMgJiYgZG9tLmRhdGEgIT0gbmV3UHJvcHMpIHtcblx0XHRcdGRvbS5kYXRhID0gbmV3UHJvcHM7XG5cdFx0fVxuXHR9IGVsc2UgaWYgKG5ld1ZOb2RlICE9PSBvbGRWTm9kZSkge1xuXHRcdGlmIChleGNlc3NEb21DaGlsZHJlbiAhPSBudWxsKSB7XG5cdFx0XHRleGNlc3NEb21DaGlsZHJlbiA9IEVNUFRZX0FSUi5zbGljZS5jYWxsKGRvbS5jaGlsZE5vZGVzKTtcblx0XHR9XG5cblx0XHRvbGRQcm9wcyA9IG9sZFZOb2RlLnByb3BzIHx8IEVNUFRZX09CSjtcblxuXHRcdGxldCBvbGRIdG1sID0gb2xkUHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw7XG5cdFx0bGV0IG5ld0h0bWwgPSBuZXdQcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTDtcblxuXHRcdC8vIER1cmluZyBoeWRyYXRpb24sIHByb3BzIGFyZSBub3QgZGlmZmVkIGF0IGFsbCAoaW5jbHVkaW5nIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MKVxuXHRcdC8vIEBUT0RPIHdlIHNob3VsZCB3YXJuIGluIGRlYnVnIG1vZGUgd2hlbiBwcm9wcyBkb24ndCBtYXRjaCBoZXJlLlxuXHRcdGlmICghaXNIeWRyYXRpbmcpIHtcblx0XHRcdGlmIChvbGRQcm9wcyA9PT0gRU1QVFlfT0JKKSB7XG5cdFx0XHRcdG9sZFByb3BzID0ge307XG5cdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgZG9tLmF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRvbGRQcm9wc1tkb20uYXR0cmlidXRlc1tpXS5uYW1lXSA9IGRvbS5hdHRyaWJ1dGVzW2ldLnZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmIChuZXdIdG1sIHx8IG9sZEh0bWwpIHtcblx0XHRcdFx0Ly8gQXZvaWQgcmUtYXBwbHlpbmcgdGhlIHNhbWUgJ19faHRtbCcgaWYgaXQgZGlkIG5vdCBjaGFuZ2VkIGJldHdlZW4gcmUtcmVuZGVyXG5cdFx0XHRcdGlmICghbmV3SHRtbCB8fCAhb2xkSHRtbCB8fCBuZXdIdG1sLl9faHRtbCAhPSBvbGRIdG1sLl9faHRtbCkge1xuXHRcdFx0XHRcdGRvbS5pbm5lckhUTUwgPSAobmV3SHRtbCAmJiBuZXdIdG1sLl9faHRtbCkgfHwgJyc7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRkaWZmUHJvcHMoZG9tLCBuZXdQcm9wcywgb2xkUHJvcHMsIGlzU3ZnLCBpc0h5ZHJhdGluZyk7XG5cblx0XHRuZXdWTm9kZS5fY2hpbGRyZW4gPSBuZXdWTm9kZS5wcm9wcy5jaGlsZHJlbjtcblxuXHRcdC8vIElmIHRoZSBuZXcgdm5vZGUgZGlkbid0IGhhdmUgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwsIGRpZmYgaXRzIGNoaWxkcmVuXG5cdFx0aWYgKCFuZXdIdG1sKSB7XG5cdFx0XHRkaWZmQ2hpbGRyZW4oXG5cdFx0XHRcdGRvbSxcblx0XHRcdFx0bmV3Vk5vZGUsXG5cdFx0XHRcdG9sZFZOb2RlLFxuXHRcdFx0XHRjb250ZXh0LFxuXHRcdFx0XHRuZXdWTm9kZS50eXBlID09PSAnZm9yZWlnbk9iamVjdCcgPyBmYWxzZSA6IGlzU3ZnLFxuXHRcdFx0XHRleGNlc3NEb21DaGlsZHJlbixcblx0XHRcdFx0Y29tbWl0UXVldWUsXG5cdFx0XHRcdEVNUFRZX09CSixcblx0XHRcdFx0aXNIeWRyYXRpbmdcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Ly8gKGFzIGFib3ZlLCBkb24ndCBkaWZmIHByb3BzIGR1cmluZyBoeWRyYXRpb24pXG5cdFx0aWYgKCFpc0h5ZHJhdGluZykge1xuXHRcdFx0aWYgKFxuXHRcdFx0XHQndmFsdWUnIGluIG5ld1Byb3BzICYmXG5cdFx0XHRcdG5ld1Byb3BzLnZhbHVlICE9PSB1bmRlZmluZWQgJiZcblx0XHRcdFx0bmV3UHJvcHMudmFsdWUgIT09IGRvbS52YWx1ZVxuXHRcdFx0KSB7XG5cdFx0XHRcdGRvbS52YWx1ZSA9IG5ld1Byb3BzLnZhbHVlID09IG51bGwgPyAnJyA6IG5ld1Byb3BzLnZhbHVlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKFxuXHRcdFx0XHQnY2hlY2tlZCcgaW4gbmV3UHJvcHMgJiZcblx0XHRcdFx0bmV3UHJvcHMuY2hlY2tlZCAhPT0gdW5kZWZpbmVkICYmXG5cdFx0XHRcdG5ld1Byb3BzLmNoZWNrZWQgIT09IGRvbS5jaGVja2VkXG5cdFx0XHQpIHtcblx0XHRcdFx0ZG9tLmNoZWNrZWQgPSBuZXdQcm9wcy5jaGVja2VkO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBkb207XG59XG5cbi8qKlxuICogSW52b2tlIG9yIHVwZGF0ZSBhIHJlZiwgZGVwZW5kaW5nIG9uIHdoZXRoZXIgaXQgaXMgYSBmdW5jdGlvbiBvciBvYmplY3QgcmVmLlxuICogQHBhcmFtIHtvYmplY3R8ZnVuY3Rpb259IHJlZlxuICogQHBhcmFtIHthbnl9IHZhbHVlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5WTm9kZX0gdm5vZGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5UmVmKHJlZiwgdmFsdWUsIHZub2RlKSB7XG5cdHRyeSB7XG5cdFx0aWYgKHR5cGVvZiByZWYgPT0gJ2Z1bmN0aW9uJykgcmVmKHZhbHVlKTtcblx0XHRlbHNlIHJlZi5jdXJyZW50ID0gdmFsdWU7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRvcHRpb25zLl9jYXRjaEVycm9yKGUsIHZub2RlKTtcblx0fVxufVxuXG4vKipcbiAqIFVubW91bnQgYSB2aXJ0dWFsIG5vZGUgZnJvbSB0aGUgdHJlZSBhbmQgYXBwbHkgRE9NIGNoYW5nZXNcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlZOb2RlfSB2bm9kZSBUaGUgdmlydHVhbCBub2RlIHRvIHVubW91bnRcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlZOb2RlfSBwYXJlbnRWTm9kZSBUaGUgcGFyZW50IG9mIHRoZSBWTm9kZSB0aGF0XG4gKiBpbml0aWF0ZWQgdGhlIHVubW91bnRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBSZW1vdmVdIEZsYWcgdGhhdCBpbmRpY2F0ZXMgdGhhdCBhIHBhcmVudCBub2RlIG9mIHRoZVxuICogY3VycmVudCBlbGVtZW50IGlzIGFscmVhZHkgZGV0YWNoZWQgZnJvbSB0aGUgRE9NLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5tb3VudCh2bm9kZSwgcGFyZW50Vk5vZGUsIHNraXBSZW1vdmUpIHtcblx0bGV0IHI7XG5cdGlmIChvcHRpb25zLnVubW91bnQpIG9wdGlvbnMudW5tb3VudCh2bm9kZSk7XG5cblx0aWYgKChyID0gdm5vZGUucmVmKSkge1xuXHRcdGlmICghci5jdXJyZW50IHx8IHIuY3VycmVudCA9PT0gdm5vZGUuX2RvbSkgYXBwbHlSZWYociwgbnVsbCwgcGFyZW50Vk5vZGUpO1xuXHR9XG5cblx0bGV0IGRvbTtcblx0aWYgKCFza2lwUmVtb3ZlICYmIHR5cGVvZiB2bm9kZS50eXBlICE9PSAnZnVuY3Rpb24nKSB7XG5cdFx0c2tpcFJlbW92ZSA9IChkb20gPSB2bm9kZS5fZG9tKSAhPSBudWxsO1xuXHR9XG5cblx0dm5vZGUuX2RvbSA9IHZub2RlLl9sYXN0RG9tQ2hpbGQgPSBudWxsO1xuXG5cdGlmICgociA9IHZub2RlLl9jb21wb25lbnQpICE9IG51bGwpIHtcblx0XHRpZiAoci5jb21wb25lbnRXaWxsVW5tb3VudCkge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0ci5jb21wb25lbnRXaWxsVW5tb3VudCgpO1xuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRvcHRpb25zLl9jYXRjaEVycm9yKGUsIHBhcmVudFZOb2RlKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyLmJhc2UgPSByLl9wYXJlbnREb20gPSBudWxsO1xuXHR9XG5cblx0aWYgKChyID0gdm5vZGUuX2NoaWxkcmVuKSkge1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgci5sZW5ndGg7IGkrKykge1xuXHRcdFx0aWYgKHJbaV0pIHVubW91bnQocltpXSwgcGFyZW50Vk5vZGUsIHNraXBSZW1vdmUpO1xuXHRcdH1cblx0fVxuXG5cdGlmIChkb20gIT0gbnVsbCkgcmVtb3ZlTm9kZShkb20pO1xufVxuXG4vKiogVGhlIGAucmVuZGVyKClgIG1ldGhvZCBmb3IgYSBQRkMgYmFja2luZyBpbnN0YW5jZS4gKi9cbmZ1bmN0aW9uIGRvUmVuZGVyKHByb3BzLCBzdGF0ZSwgY29udGV4dCkge1xuXHRyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvcihwcm9wcywgY29udGV4dCk7XG59XG4iLCJpbXBvcnQgeyBhc3NpZ24gfSBmcm9tICcuL3V0aWwnO1xuaW1wb3J0IHsgRU1QVFlfQVJSIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgY3JlYXRlVk5vZGUgfSBmcm9tICcuL2NyZWF0ZS1lbGVtZW50JztcblxuLyoqXG4gKiBDbG9uZXMgdGhlIGdpdmVuIFZOb2RlLCBvcHRpb25hbGx5IGFkZGluZyBhdHRyaWJ1dGVzL3Byb3BzIGFuZCByZXBsYWNpbmcgaXRzIGNoaWxkcmVuLlxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZX0gdm5vZGUgVGhlIHZpcnR1YWwgRE9NIGVsZW1lbnQgdG8gY2xvbmVcbiAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wcyBBdHRyaWJ1dGVzL3Byb3BzIHRvIGFkZCB3aGVuIGNsb25pbmdcbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KCcuL2luZGV4JykuQ29tcG9uZW50Q2hpbGRyZW4+fSByZXN0IEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyB3aWxsIGJlIHVzZWQgYXMgcmVwbGFjZW1lbnQgY2hpbGRyZW4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZUVsZW1lbnQodm5vZGUsIHByb3BzKSB7XG5cdHByb3BzID0gYXNzaWduKGFzc2lnbih7fSwgdm5vZGUucHJvcHMpLCBwcm9wcyk7XG5cdGlmIChhcmd1bWVudHMubGVuZ3RoID4gMikgcHJvcHMuY2hpbGRyZW4gPSBFTVBUWV9BUlIuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xuXHRyZXR1cm4gY3JlYXRlVk5vZGUoXG5cdFx0dm5vZGUudHlwZSxcblx0XHRwcm9wcyxcblx0XHRwcm9wcy5rZXkgfHwgdm5vZGUua2V5LFxuXHRcdHByb3BzLnJlZiB8fCB2bm9kZS5yZWZcblx0KTtcbn1cbiIsImltcG9ydCB7IGVucXVldWVSZW5kZXIgfSBmcm9tICcuLi9jb21wb25lbnQnO1xuXG4vKipcbiAqIEZpbmQgdGhlIGNsb3Nlc3QgZXJyb3IgYm91bmRhcnkgdG8gYSB0aHJvd24gZXJyb3IgYW5kIGNhbGwgaXRcbiAqIEBwYXJhbSB7b2JqZWN0fSBlcnJvciBUaGUgdGhyb3duIHZhbHVlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5WTm9kZX0gdm5vZGUgVGhlIHZub2RlIHRoYXQgdGhyZXdcbiAqIHRoZSBlcnJvciB0aGF0IHdhcyBjYXVnaHQgKGV4Y2VwdCBmb3IgdW5tb3VudGluZyB3aGVuIHRoaXMgcGFyYW1ldGVyXG4gKiBpcyB0aGUgaGlnaGVzdCBwYXJlbnQgdGhhdCB3YXMgYmVpbmcgdW5tb3VudGVkKVxuICovXG5leHBvcnQgZnVuY3Rpb24gX2NhdGNoRXJyb3IoZXJyb3IsIHZub2RlKSB7XG5cdC8qKiBAdHlwZSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLkNvbXBvbmVudH0gKi9cblx0bGV0IGNvbXBvbmVudCwgaGFzQ2F1Z2h0O1xuXG5cdGZvciAoOyAodm5vZGUgPSB2bm9kZS5fcGFyZW50KTsgKSB7XG5cdFx0aWYgKChjb21wb25lbnQgPSB2bm9kZS5fY29tcG9uZW50KSAmJiAhY29tcG9uZW50Ll9wcm9jZXNzaW5nRXhjZXB0aW9uKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0Y29tcG9uZW50LmNvbnN0cnVjdG9yICYmXG5cdFx0XHRcdFx0Y29tcG9uZW50LmNvbnN0cnVjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21FcnJvciAhPSBudWxsXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdGhhc0NhdWdodCA9IHRydWU7XG5cdFx0XHRcdFx0Y29tcG9uZW50LnNldFN0YXRlKFxuXHRcdFx0XHRcdFx0Y29tcG9uZW50LmNvbnN0cnVjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21FcnJvcihlcnJvcilcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGNvbXBvbmVudC5jb21wb25lbnREaWRDYXRjaCAhPSBudWxsKSB7XG5cdFx0XHRcdFx0aGFzQ2F1Z2h0ID0gdHJ1ZTtcblx0XHRcdFx0XHRjb21wb25lbnQuY29tcG9uZW50RGlkQ2F0Y2goZXJyb3IpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGhhc0NhdWdodClcblx0XHRcdFx0XHRyZXR1cm4gZW5xdWV1ZVJlbmRlcigoY29tcG9uZW50Ll9wZW5kaW5nRXJyb3IgPSBjb21wb25lbnQpKTtcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0ZXJyb3IgPSBlO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHRocm93IGVycm9yO1xufVxuIiwiaW1wb3J0IHtcblx0Y3JlYXRlRWxlbWVudCxcblx0cmVuZGVyIGFzIHByZWFjdFJlbmRlcixcblx0Y2xvbmVFbGVtZW50IGFzIHByZWFjdENsb25lRWxlbWVudCxcblx0Y3JlYXRlUmVmLFxuXHRDb21wb25lbnQsXG5cdGNyZWF0ZUNvbnRleHQsXG5cdEZyYWdtZW50XG59IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQge1xuXHR1c2VTdGF0ZSxcblx0dXNlUmVkdWNlcixcblx0dXNlRWZmZWN0LFxuXHR1c2VMYXlvdXRFZmZlY3QsXG5cdHVzZVJlZixcblx0dXNlSW1wZXJhdGl2ZUhhbmRsZSxcblx0dXNlTWVtbyxcblx0dXNlQ2FsbGJhY2ssXG5cdHVzZUNvbnRleHQsXG5cdHVzZURlYnVnVmFsdWVcbn0gZnJvbSAncHJlYWN0L2hvb2tzJztcbmltcG9ydCB7IFB1cmVDb21wb25lbnQgfSBmcm9tICcuL1B1cmVDb21wb25lbnQnO1xuaW1wb3J0IHsgbWVtbyB9IGZyb20gJy4vbWVtbyc7XG5pbXBvcnQgeyBmb3J3YXJkUmVmIH0gZnJvbSAnLi9mb3J3YXJkUmVmJztcbmltcG9ydCB7IENoaWxkcmVuIH0gZnJvbSAnLi9DaGlsZHJlbic7XG5pbXBvcnQgeyBTdXNwZW5zZSwgbGF6eSB9IGZyb20gJy4vc3VzcGVuc2UnO1xuaW1wb3J0IHsgU3VzcGVuc2VMaXN0IH0gZnJvbSAnLi9zdXNwZW5zZS1saXN0JztcbmltcG9ydCB7IGNyZWF0ZVBvcnRhbCB9IGZyb20gJy4vcG9ydGFscyc7XG5pbXBvcnQgeyBoeWRyYXRlLCByZW5kZXIsIFJFQUNUX0VMRU1FTlRfVFlQRSB9IGZyb20gJy4vcmVuZGVyJztcblxuY29uc3QgdmVyc2lvbiA9ICcxNi44LjAnOyAvLyB0cmljayBsaWJyYXJpZXMgdG8gdGhpbmsgd2UgYXJlIHJlYWN0XG5cbi8qKlxuICogTGVnYWN5IHZlcnNpb24gb2YgY3JlYXRlRWxlbWVudC5cbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuVk5vZGVbXCJ0eXBlXCJdfSB0eXBlIFRoZSBub2RlIG5hbWUgb3IgQ29tcG9uZW50IGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUZhY3RvcnkodHlwZSkge1xuXHRyZXR1cm4gY3JlYXRlRWxlbWVudC5iaW5kKG51bGwsIHR5cGUpO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIHRoZSBwYXNzZWQgZWxlbWVudCBpcyBhIHZhbGlkIChwKXJlYWN0IG5vZGUuXG4gKiBAcGFyYW0geyp9IGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gY2hlY2tcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc1ZhbGlkRWxlbWVudChlbGVtZW50KSB7XG5cdHJldHVybiAhIWVsZW1lbnQgJiYgZWxlbWVudC4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFO1xufVxuXG4vKipcbiAqIFdyYXAgYGNsb25lRWxlbWVudGAgdG8gYWJvcnQgaWYgdGhlIHBhc3NlZCBlbGVtZW50IGlzIG5vdCBhIHZhbGlkIGVsZW1lbnQgYW5kIGFwcGx5XG4gKiBhbGwgdm5vZGUgbm9ybWFsaXphdGlvbnMuXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlZOb2RlfSBlbGVtZW50IFRoZSB2bm9kZSB0byBjbG9uZVxuICogQHBhcmFtIHtvYmplY3R9IHByb3BzIFByb3BzIHRvIGFkZCB3aGVuIGNsb25pbmdcbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KCcuL2ludGVybmFsJykuQ29tcG9uZW50Q2hpbGRyZW4+fSByZXN0IE9wdGlvbmFsIGNvbXBvbmVudCBjaGlsZHJlblxuICovXG5mdW5jdGlvbiBjbG9uZUVsZW1lbnQoZWxlbWVudCkge1xuXHRpZiAoIWlzVmFsaWRFbGVtZW50KGVsZW1lbnQpKSByZXR1cm4gZWxlbWVudDtcblx0cmV0dXJuIHByZWFjdENsb25lRWxlbWVudC5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufVxuXG4vKipcbiAqIFJlbW92ZSBhIGNvbXBvbmVudCB0cmVlIGZyb20gdGhlIERPTSwgaW5jbHVkaW5nIHN0YXRlIGFuZCBldmVudCBoYW5kbGVycy5cbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuUHJlYWN0RWxlbWVudH0gY29udGFpbmVyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gdW5tb3VudENvbXBvbmVudEF0Tm9kZShjb250YWluZXIpIHtcblx0aWYgKGNvbnRhaW5lci5fY2hpbGRyZW4pIHtcblx0XHRwcmVhY3RSZW5kZXIobnVsbCwgY29udGFpbmVyKTtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXHRyZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogR2V0IHRoZSBtYXRjaGluZyBET00gbm9kZSBmb3IgYSBjb21wb25lbnRcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuQ29tcG9uZW50fSBjb21wb25lbnRcbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5QcmVhY3RFbGVtZW50IHwgbnVsbH1cbiAqL1xuZnVuY3Rpb24gZmluZERPTU5vZGUoY29tcG9uZW50KSB7XG5cdHJldHVybiAoXG5cdFx0KGNvbXBvbmVudCAmJlxuXHRcdFx0KGNvbXBvbmVudC5iYXNlIHx8IChjb21wb25lbnQubm9kZVR5cGUgPT09IDEgJiYgY29tcG9uZW50KSkpIHx8XG5cdFx0bnVsbFxuXHQpO1xufVxuXG4vKipcbiAqIERlcHJlY2F0ZWQgd2F5IHRvIGNvbnRyb2wgYmF0Y2hlZCByZW5kZXJpbmcgaW5zaWRlIHRoZSByZWNvbmNpbGVyLCBidXQgd2VcbiAqIGFscmVhZHkgc2NoZWR1bGUgaW4gYmF0Y2hlcyBpbnNpZGUgb3VyIHJlbmRlcmluZyBjb2RlXG4gKiBAdGVtcGxhdGUgQXJnXG4gKiBAcGFyYW0geyhhcmc6IEFyZykgPT4gdm9pZH0gY2FsbGJhY2sgZnVuY3Rpb24gdGhhdCB0cmlnZ2VycyB0aGUgdXBkYXRlZFxuICogQHBhcmFtIHtBcmd9IFthcmddIE9wdGlvbmFsIGFyZ3VtZW50IHRoYXQgY2FuIGJlIHBhc3NlZCB0byB0aGUgY2FsbGJhY2tcbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuY29uc3QgdW5zdGFibGVfYmF0Y2hlZFVwZGF0ZXMgPSAoY2FsbGJhY2ssIGFyZykgPT4gY2FsbGJhY2soYXJnKTtcblxuZXhwb3J0ICogZnJvbSAncHJlYWN0L2hvb2tzJztcbmV4cG9ydCB7XG5cdHZlcnNpb24sXG5cdENoaWxkcmVuLFxuXHRyZW5kZXIsXG5cdGh5ZHJhdGUsXG5cdHVubW91bnRDb21wb25lbnRBdE5vZGUsXG5cdGNyZWF0ZVBvcnRhbCxcblx0Y3JlYXRlRWxlbWVudCxcblx0Y3JlYXRlQ29udGV4dCxcblx0Y3JlYXRlRmFjdG9yeSxcblx0Y2xvbmVFbGVtZW50LFxuXHRjcmVhdGVSZWYsXG5cdEZyYWdtZW50LFxuXHRpc1ZhbGlkRWxlbWVudCxcblx0ZmluZERPTU5vZGUsXG5cdENvbXBvbmVudCxcblx0UHVyZUNvbXBvbmVudCxcblx0bWVtbyxcblx0Zm9yd2FyZFJlZixcblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuXHR1bnN0YWJsZV9iYXRjaGVkVXBkYXRlcyxcblx0U3VzcGVuc2UsXG5cdFN1c3BlbnNlTGlzdCxcblx0bGF6eVxufTtcblxuLy8gUmVhY3QgY29waWVzIHRoZSBuYW1lZCBleHBvcnRzIHRvIHRoZSBkZWZhdWx0IG9uZS5cbmV4cG9ydCBkZWZhdWx0IHtcblx0dXNlU3RhdGUsXG5cdHVzZVJlZHVjZXIsXG5cdHVzZUVmZmVjdCxcblx0dXNlTGF5b3V0RWZmZWN0LFxuXHR1c2VSZWYsXG5cdHVzZUltcGVyYXRpdmVIYW5kbGUsXG5cdHVzZU1lbW8sXG5cdHVzZUNhbGxiYWNrLFxuXHR1c2VDb250ZXh0LFxuXHR1c2VEZWJ1Z1ZhbHVlLFxuXHR2ZXJzaW9uLFxuXHRDaGlsZHJlbixcblx0cmVuZGVyLFxuXHRoeWRyYXRlOiByZW5kZXIsXG5cdHVubW91bnRDb21wb25lbnRBdE5vZGUsXG5cdGNyZWF0ZVBvcnRhbCxcblx0Y3JlYXRlRWxlbWVudCxcblx0Y3JlYXRlQ29udGV4dCxcblx0Y3JlYXRlRmFjdG9yeSxcblx0Y2xvbmVFbGVtZW50LFxuXHRjcmVhdGVSZWYsXG5cdEZyYWdtZW50LFxuXHRpc1ZhbGlkRWxlbWVudCxcblx0ZmluZERPTU5vZGUsXG5cdENvbXBvbmVudCxcblx0UHVyZUNvbXBvbmVudCxcblx0bWVtbyxcblx0Zm9yd2FyZFJlZixcblx0dW5zdGFibGVfYmF0Y2hlZFVwZGF0ZXMsXG5cdFN1c3BlbnNlLFxuXHRTdXNwZW5zZUxpc3QsXG5cdGxhenlcbn07XG4iLCJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IHsgc2hhbGxvd0RpZmZlcnMgfSBmcm9tICcuL3V0aWwnO1xuXG4vKipcbiAqIENvbXBvbmVudCBjbGFzcyB3aXRoIGEgcHJlZGVmaW5lZCBgc2hvdWxkQ29tcG9uZW50VXBkYXRlYCBpbXBsZW1lbnRhdGlvblxuICovXG5leHBvcnQgY2xhc3MgUHVyZUNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG5cdGNvbnN0cnVjdG9yKHByb3BzKSB7XG5cdFx0c3VwZXIocHJvcHMpO1xuXHRcdC8vIFNvbWUgdGhpcmQtcGFydHkgbGlicmFyaWVzIGNoZWNrIGlmIHRoaXMgcHJvcGVydHkgaXMgcHJlc2VudFxuXHRcdHRoaXMuaXNQdXJlUmVhY3RDb21wb25lbnQgPSB0cnVlO1xuXHR9XG5cblx0c2hvdWxkQ29tcG9uZW50VXBkYXRlKHByb3BzLCBzdGF0ZSkge1xuXHRcdHJldHVybiAoXG5cdFx0XHRzaGFsbG93RGlmZmVycyh0aGlzLnByb3BzLCBwcm9wcykgfHwgc2hhbGxvd0RpZmZlcnModGhpcy5zdGF0ZSwgc3RhdGUpXG5cdFx0KTtcblx0fVxufVxuIiwiaW1wb3J0IHsgb3B0aW9ucyB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgeyBhc3NpZ24gfSBmcm9tICcuL3V0aWwnO1xuXG5sZXQgb2xkVk5vZGVIb29rID0gb3B0aW9ucy52bm9kZTtcbm9wdGlvbnMudm5vZGUgPSB2bm9kZSA9PiB7XG5cdGlmICh2bm9kZS50eXBlICYmIHZub2RlLnR5cGUuX2ZvcndhcmRlZCAmJiB2bm9kZS5yZWYpIHtcblx0XHR2bm9kZS5wcm9wcy5yZWYgPSB2bm9kZS5yZWY7XG5cdFx0dm5vZGUucmVmID0gbnVsbDtcblx0fVxuXG5cdGlmIChvbGRWTm9kZUhvb2spIG9sZFZOb2RlSG9vayh2bm9kZSk7XG59O1xuXG4vKipcbiAqIFBhc3MgcmVmIGRvd24gdG8gYSBjaGlsZC4gVGhpcyBpcyBtYWlubHkgdXNlZCBpbiBsaWJyYXJpZXMgd2l0aCBIT0NzIHRoYXRcbiAqIHdyYXAgY29tcG9uZW50cy4gVXNpbmcgYGZvcndhcmRSZWZgIHRoZXJlIGlzIGFuIGVhc3kgd2F5IHRvIGdldCBhIHJlZmVyZW5jZVxuICogb2YgdGhlIHdyYXBwZWQgY29tcG9uZW50IGluc3RlYWQgb2Ygb25lIG9mIHRoZSB3cmFwcGVyIGl0c2VsZi5cbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2luZGV4JykuRm9yd2FyZEZufSBmblxuICogQHJldHVybnMge2ltcG9ydCgnLi9pbnRlcm5hbCcpLkZ1bmN0aW9uYWxDb21wb25lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3J3YXJkUmVmKGZuKSB7XG5cdGZ1bmN0aW9uIEZvcndhcmRlZChwcm9wcykge1xuXHRcdGxldCBjbG9uZSA9IGFzc2lnbih7fSwgcHJvcHMpO1xuXHRcdGRlbGV0ZSBjbG9uZS5yZWY7XG5cdFx0cmV0dXJuIGZuKGNsb25lLCBwcm9wcy5yZWYpO1xuXHR9XG5cdEZvcndhcmRlZC5wcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudCA9IHRydWU7XG5cdEZvcndhcmRlZC5fZm9yd2FyZGVkID0gdHJ1ZTtcblx0Rm9yd2FyZGVkLmRpc3BsYXlOYW1lID0gJ0ZvcndhcmRSZWYoJyArIChmbi5kaXNwbGF5TmFtZSB8fCBmbi5uYW1lKSArICcpJztcblx0cmV0dXJuIEZvcndhcmRlZDtcbn1cbiIsImltcG9ydCB7IHRvQ2hpbGRBcnJheSB9IGZyb20gJ3ByZWFjdCc7XG5cbmNvbnN0IG1hcEZuID0gKGNoaWxkcmVuLCBmbikgPT4ge1xuXHRpZiAoIWNoaWxkcmVuKSByZXR1cm4gbnVsbDtcblx0cmV0dXJuIHRvQ2hpbGRBcnJheShjaGlsZHJlbikubWFwKGZuKTtcbn07XG5cbi8vIFRoaXMgQVBJIGlzIGNvbXBsZXRlbHkgdW5uZWNlc3NhcnkgZm9yIFByZWFjdCwgc28gaXQncyBiYXNpY2FsbHkgcGFzc3Rocm91Z2guXG5leHBvcnQgY29uc3QgQ2hpbGRyZW4gPSB7XG5cdG1hcDogbWFwRm4sXG5cdGZvckVhY2g6IG1hcEZuLFxuXHRjb3VudChjaGlsZHJlbikge1xuXHRcdHJldHVybiBjaGlsZHJlbiA/IHRvQ2hpbGRBcnJheShjaGlsZHJlbikubGVuZ3RoIDogMDtcblx0fSxcblx0b25seShjaGlsZHJlbikge1xuXHRcdGNoaWxkcmVuID0gdG9DaGlsZEFycmF5KGNoaWxkcmVuKTtcblx0XHRpZiAoY2hpbGRyZW4ubGVuZ3RoICE9PSAxKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0NoaWxkcmVuLm9ubHkoKSBleHBlY3RzIG9ubHkgb25lIGNoaWxkLicpO1xuXHRcdH1cblx0XHRyZXR1cm4gY2hpbGRyZW5bMF07XG5cdH0sXG5cdHRvQXJyYXk6IHRvQ2hpbGRBcnJheVxufTtcbiIsImltcG9ydCB7IENvbXBvbmVudCwgY3JlYXRlRWxlbWVudCwgb3B0aW9ucyB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgeyBhc3NpZ24gfSBmcm9tICcuL3V0aWwnO1xuXG5jb25zdCBvbGRDYXRjaEVycm9yID0gb3B0aW9ucy5fY2F0Y2hFcnJvcjtcbm9wdGlvbnMuX2NhdGNoRXJyb3IgPSBmdW5jdGlvbihlcnJvciwgbmV3Vk5vZGUsIG9sZFZOb2RlKSB7XG5cdGlmIChlcnJvci50aGVuKSB7XG5cdFx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5Db21wb25lbnR9ICovXG5cdFx0bGV0IGNvbXBvbmVudDtcblx0XHRsZXQgdm5vZGUgPSBuZXdWTm9kZTtcblxuXHRcdGZvciAoOyAodm5vZGUgPSB2bm9kZS5fcGFyZW50KTsgKSB7XG5cdFx0XHRpZiAoKGNvbXBvbmVudCA9IHZub2RlLl9jb21wb25lbnQpICYmIGNvbXBvbmVudC5fY2hpbGREaWRTdXNwZW5kKSB7XG5cdFx0XHRcdC8vIERvbid0IGNhbGwgb2xkQ2F0Y2hFcnJvciBpZiB3ZSBmb3VuZCBhIFN1c3BlbnNlXG5cdFx0XHRcdHJldHVybiBjb21wb25lbnQuX2NoaWxkRGlkU3VzcGVuZChlcnJvciwgbmV3Vk5vZGUuX2NvbXBvbmVudCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdG9sZENhdGNoRXJyb3IoZXJyb3IsIG5ld1ZOb2RlLCBvbGRWTm9kZSk7XG59O1xuXG5mdW5jdGlvbiBkZXRhY2hlZENsb25lKHZub2RlKSB7XG5cdGlmICh2bm9kZSkge1xuXHRcdHZub2RlID0gYXNzaWduKHt9LCB2bm9kZSk7XG5cdFx0dm5vZGUuX2NvbXBvbmVudCA9IG51bGw7XG5cdFx0dm5vZGUuX2NoaWxkcmVuID0gdm5vZGUuX2NoaWxkcmVuICYmIHZub2RlLl9jaGlsZHJlbi5tYXAoZGV0YWNoZWRDbG9uZSk7XG5cdH1cblx0cmV0dXJuIHZub2RlO1xufVxuXG4vLyBoYXZpbmcgY3VzdG9tIGluaGVyaXRhbmNlIGluc3RlYWQgb2YgYSBjbGFzcyBoZXJlIHNhdmVzIGEgbG90IG9mIGJ5dGVzXG5leHBvcnQgZnVuY3Rpb24gU3VzcGVuc2UocHJvcHMpIHtcblx0Ly8gd2UgZG8gbm90IGNhbGwgc3VwZXIgaGVyZSB0byBnb2xmIHNvbWUgYnl0ZXMuLi5cblx0dGhpcy5fc3VzcGVuc2lvbnMgPSAwO1xuXHR0aGlzLl9kZXRhY2hPbk5leHRSZW5kZXIgPSBudWxsO1xufVxuXG4vLyBUaGluZ3Mgd2UgZG8gaGVyZSB0byBzYXZlIHNvbWUgYnl0ZXMgYnV0IGFyZSBub3QgcHJvcGVyIEpTIGluaGVyaXRhbmNlOlxuLy8gLSBjYWxsIGBuZXcgQ29tcG9uZW50KClgIGFzIHRoZSBwcm90b3R5cGVcbi8vIC0gZG8gbm90IHNldCBgU3VzcGVuc2UucHJvdG90eXBlLmNvbnN0cnVjdG9yYCB0byBgU3VzcGVuc2VgXG5TdXNwZW5zZS5wcm90b3R5cGUgPSBuZXcgQ29tcG9uZW50KCk7XG5cbi8qKlxuICogQHBhcmFtIHtQcm9taXNlfSBwcm9taXNlIFRoZSB0aHJvd24gcHJvbWlzZVxuICogQHBhcmFtIHtDb21wb25lbnQ8YW55LCBhbnk+fSBzdXNwZW5kaW5nQ29tcG9uZW50IFRoZSBzdXNwZW5kaW5nIGNvbXBvbmVudFxuICovXG5TdXNwZW5zZS5wcm90b3R5cGUuX2NoaWxkRGlkU3VzcGVuZCA9IGZ1bmN0aW9uKHByb21pc2UsIHN1c3BlbmRpbmdDb21wb25lbnQpIHtcblx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5TdXNwZW5zZUNvbXBvbmVudH0gKi9cblx0Y29uc3QgYyA9IHRoaXM7XG5cblx0Y29uc3QgcmVzb2x2ZSA9IHN1c3BlbmRlZChjLl92bm9kZSk7XG5cblx0bGV0IHJlc29sdmVkID0gZmFsc2U7XG5cdGNvbnN0IG9uUmVzb2x2ZWQgPSAoKSA9PiB7XG5cdFx0aWYgKHJlc29sdmVkKSByZXR1cm47XG5cblx0XHRyZXNvbHZlZCA9IHRydWU7XG5cblx0XHRpZiAocmVzb2x2ZSkge1xuXHRcdFx0cmVzb2x2ZShvblN1c3BlbnNpb25Db21wbGV0ZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG9uU3VzcGVuc2lvbkNvbXBsZXRlKCk7XG5cdFx0fVxuXHR9O1xuXG5cdHN1c3BlbmRpbmdDb21wb25lbnQuX3N1c3BlbmRlZENvbXBvbmVudFdpbGxVbm1vdW50ID1cblx0XHRzdXNwZW5kaW5nQ29tcG9uZW50LmNvbXBvbmVudFdpbGxVbm1vdW50O1xuXHRzdXNwZW5kaW5nQ29tcG9uZW50LmNvbXBvbmVudFdpbGxVbm1vdW50ID0gKCkgPT4ge1xuXHRcdG9uUmVzb2x2ZWQoKTtcblxuXHRcdGlmIChzdXNwZW5kaW5nQ29tcG9uZW50Ll9zdXNwZW5kZWRDb21wb25lbnRXaWxsVW5tb3VudCkge1xuXHRcdFx0c3VzcGVuZGluZ0NvbXBvbmVudC5fc3VzcGVuZGVkQ29tcG9uZW50V2lsbFVubW91bnQoKTtcblx0XHR9XG5cdH07XG5cblx0Y29uc3Qgb25TdXNwZW5zaW9uQ29tcGxldGUgPSAoKSA9PiB7XG5cdFx0aWYgKCEtLWMuX3N1c3BlbnNpb25zKSB7XG5cdFx0XHRjLl92bm9kZS5fY2hpbGRyZW5bMF0gPSBjLnN0YXRlLl9zdXNwZW5kZWQ7XG5cdFx0XHRjLnNldFN0YXRlKHsgX3N1c3BlbmRlZDogKGMuX2RldGFjaE9uTmV4dFJlbmRlciA9IG51bGwpIH0pO1xuXHRcdH1cblx0fTtcblxuXHRpZiAoIWMuX3N1c3BlbnNpb25zKyspIHtcblx0XHRjLnNldFN0YXRlKHsgX3N1c3BlbmRlZDogKGMuX2RldGFjaE9uTmV4dFJlbmRlciA9IGMuX3Zub2RlLl9jaGlsZHJlblswXSkgfSk7XG5cdH1cblx0cHJvbWlzZS50aGVuKG9uUmVzb2x2ZWQsIG9uUmVzb2x2ZWQpO1xufTtcblxuU3VzcGVuc2UucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKHByb3BzLCBzdGF0ZSkge1xuXHRpZiAodGhpcy5fZGV0YWNoT25OZXh0UmVuZGVyKSB7XG5cdFx0dGhpcy5fdm5vZGUuX2NoaWxkcmVuWzBdID0gZGV0YWNoZWRDbG9uZSh0aGlzLl9kZXRhY2hPbk5leHRSZW5kZXIpO1xuXHRcdHRoaXMuX2RldGFjaE9uTmV4dFJlbmRlciA9IG51bGw7XG5cdH1cblxuXHRyZXR1cm4gW1xuXHRcdGNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50LCBudWxsLCBzdGF0ZS5fc3VzcGVuZGVkID8gbnVsbCA6IHByb3BzLmNoaWxkcmVuKSxcblx0XHRzdGF0ZS5fc3VzcGVuZGVkICYmIHByb3BzLmZhbGxiYWNrXG5cdF07XG59O1xuXG4vKipcbiAqIENoZWNrcyBhbmQgY2FsbHMgdGhlIHBhcmVudCBjb21wb25lbnQncyBfc3VzcGVuZGVkIG1ldGhvZCwgcGFzc2luZyBpbiB0aGVcbiAqIHN1c3BlbmRlZCB2bm9kZS4gVGhpcyBpcyBhIHdheSBmb3IgYSBwYXJlbnQgKGUuZy4gU3VzcGVuc2VMaXN0KSB0byBnZXQgbm90aWZpZWRcbiAqIHRoYXQgb25lIG9mIGl0cyBjaGlsZHJlbi9kZXNjZW5kYW50cyBzdXNwZW5kZWQuXG4gKlxuICogVGhlIHBhcmVudCBNQVkgcmV0dXJuIGEgY2FsbGJhY2suIFRoZSBjYWxsYmFjayB3aWxsIGdldCBjYWxsZWQgd2hlbiB0aGVcbiAqIHN1c3BlbnNpb24gcmVzb2x2ZXMsIG5vdGlmeWluZyB0aGUgcGFyZW50IG9mIHRoZSBmYWN0LlxuICogTW9yZW92ZXIsIHRoZSBjYWxsYmFjayBnZXRzIGZ1bmN0aW9uIGB1bnN1c3BlbmRgIGFzIGEgcGFyYW1ldGVyLiBUaGUgcmVzb2x2ZWRcbiAqIGNoaWxkIGRlc2NlbmRhbnQgd2lsbCBub3QgYWN0dWFsbHkgZ2V0IHVuc3VzcGVuZGVkIHVudGlsIGB1bnN1c3BlbmRgIGdldHMgY2FsbGVkLlxuICogVGhpcyBpcyBhIHdheSBmb3IgdGhlIHBhcmVudCB0byBkZWxheSB1bnN1c3BlbmRpbmcuXG4gKlxuICogSWYgdGhlIHBhcmVudCBkb2VzIG5vdCByZXR1cm4gYSBjYWxsYmFjayB0aGVuIHRoZSByZXNvbHZlZCB2bm9kZVxuICogZ2V0cyB1bnN1c3BlbmRlZCBpbW1lZGlhdGVseSB3aGVuIGl0IHJlc29sdmVzLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9zcmMvaW50ZXJuYWwnKS5WTm9kZX0gdm5vZGVcbiAqIEByZXR1cm5zIHsoKHVuc3VzcGVuZDogKCkgPT4gdm9pZCkgPT4gdm9pZCk/fVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3VzcGVuZGVkKHZub2RlKSB7XG5cdGxldCBjb21wb25lbnQgPSB2bm9kZS5fcGFyZW50Ll9jb21wb25lbnQ7XG5cdHJldHVybiBjb21wb25lbnQgJiYgY29tcG9uZW50Ll9zdXNwZW5kZWQgJiYgY29tcG9uZW50Ll9zdXNwZW5kZWQodm5vZGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGF6eShsb2FkZXIpIHtcblx0bGV0IHByb207XG5cdGxldCBjb21wb25lbnQ7XG5cdGxldCBlcnJvcjtcblxuXHRmdW5jdGlvbiBMYXp5KHByb3BzKSB7XG5cdFx0aWYgKCFwcm9tKSB7XG5cdFx0XHRwcm9tID0gbG9hZGVyKCk7XG5cdFx0XHRwcm9tLnRoZW4oXG5cdFx0XHRcdGV4cG9ydHMgPT4ge1xuXHRcdFx0XHRcdGNvbXBvbmVudCA9IGV4cG9ydHMuZGVmYXVsdCB8fCBleHBvcnRzO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRlID0+IHtcblx0XHRcdFx0XHRlcnJvciA9IGU7XG5cdFx0XHRcdH1cblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRpZiAoIWNvbXBvbmVudCkge1xuXHRcdFx0dGhyb3cgcHJvbTtcblx0XHR9XG5cblx0XHRyZXR1cm4gY3JlYXRlRWxlbWVudChjb21wb25lbnQsIHByb3BzKTtcblx0fVxuXG5cdExhenkuZGlzcGxheU5hbWUgPSAnTGF6eSc7XG5cdExhenkuX2ZvcndhcmRlZCA9IHRydWU7XG5cdHJldHVybiBMYXp5O1xufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCB0b0NoaWxkQXJyYXkgfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IHsgc3VzcGVuZGVkIH0gZnJvbSAnLi9zdXNwZW5zZS5qcyc7XG5cbi8vIEluZGV4ZXMgdG8gbGlua2VkIGxpc3Qgbm9kZXMgKG5vZGVzIGFyZSBzdG9yZWQgYXMgYXJyYXlzIHRvIHNhdmUgYnl0ZXMpLlxuY29uc3QgU1VTUEVOREVEX0NPVU5UID0gMDtcbmNvbnN0IFJFU09MVkVEX0NPVU5UID0gMTtcbmNvbnN0IE5FWFRfTk9ERSA9IDI7XG5cbi8vIEhhdmluZyBjdXN0b20gaW5oZXJpdGFuY2UgaW5zdGVhZCBvZiBhIGNsYXNzIGhlcmUgc2F2ZXMgYSBsb3Qgb2YgYnl0ZXMuXG5leHBvcnQgZnVuY3Rpb24gU3VzcGVuc2VMaXN0KCkge1xuXHR0aGlzLl9uZXh0ID0gbnVsbDtcblx0dGhpcy5fbWFwID0gbnVsbDtcbn1cblxuLy8gTWFyayBvbmUgb2YgY2hpbGQncyBlYXJsaWVyIHN1c3BlbnNpb25zIGFzIHJlc29sdmVkLlxuLy8gU29tZSBwZW5kaW5nIGNhbGxiYWNrcyBtYXkgYmVjb21lIGNhbGxhYmxlIGR1ZSB0byB0aGlzXG4vLyAoZS5nLiB0aGUgbGFzdCBzdXNwZW5kZWQgZGVzY2VuZGFudCBnZXRzIHJlc29sdmVkIHdoZW5cbi8vIHJldmVhbE9yZGVyID09PSAndG9nZXRoZXInKS4gUHJvY2VzcyB0aG9zZSBjYWxsYmFja3MgYXMgd2VsbC5cbmNvbnN0IHJlc29sdmUgPSAobGlzdCwgY2hpbGQsIG5vZGUpID0+IHtcblx0aWYgKCsrbm9kZVtSRVNPTFZFRF9DT1VOVF0gPT09IG5vZGVbU1VTUEVOREVEX0NPVU5UXSkge1xuXHRcdC8vIFRoZSBudW1iZXIgYSBjaGlsZCAob3IgYW55IG9mIGl0cyBkZXNjZW5kYW50cykgaGFzIGJlZW4gc3VzcGVuZGVkXG5cdFx0Ly8gbWF0Y2hlcyB0aGUgbnVtYmVyIG9mIHRpbWVzIGl0J3MgYmVlbiByZXNvbHZlZC4gVGhlcmVmb3JlIHdlXG5cdFx0Ly8gbWFyayB0aGUgY2hpbGQgYXMgY29tcGxldGVseSByZXNvbHZlZCBieSBkZWxldGluZyBpdCBmcm9tIC5fbWFwLlxuXHRcdC8vIFRoaXMgaXMgdXNlZCB0byBmaWd1cmUgb3V0IHdoZW4gKmFsbCogY2hpbGRyZW4gaGF2ZSBiZWVuIGNvbXBsZXRlbHlcblx0XHQvLyByZXNvbHZlZCB3aGVuIHJldmVhbE9yZGVyIGlzICd0b2dldGhlcicuXG5cdFx0bGlzdC5fbWFwLmRlbGV0ZShjaGlsZCk7XG5cdH1cblxuXHQvLyBJZiByZXZlYWxPcmRlciBpcyBmYWxzeSB0aGVuIHdlIGNhbiBkbyBhbiBlYXJseSBleGl0LCBhcyB0aGVcblx0Ly8gY2FsbGJhY2tzIHdvbid0IGdldCBxdWV1ZWQgaW4gdGhlIG5vZGUgYW55d2F5LlxuXHQvLyBJZiByZXZlYWxPcmRlciBpcyAndG9nZXRoZXInIHRoZW4gYWxzbyBkbyBhbiBlYXJseSBleGl0XG5cdC8vIGlmIGFsbCBzdXNwZW5kZWQgZGVzY2VuZGFudHMgaGF2ZSBub3QgeWV0IGJlZW4gcmVzb2x2ZWQuXG5cdGlmIChcblx0XHQhbGlzdC5wcm9wcy5yZXZlYWxPcmRlciB8fFxuXHRcdChsaXN0LnByb3BzLnJldmVhbE9yZGVyWzBdID09PSAndCcgJiYgbGlzdC5fbWFwLnNpemUpXG5cdCkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIFdhbGsgdGhlIGN1cnJlbnRseSBzdXNwZW5kZWQgY2hpbGRyZW4gaW4gb3JkZXIsIGNhbGxpbmcgdGhlaXJcblx0Ly8gc3RvcmVkIGNhbGxiYWNrcyBvbiB0aGUgd2F5LiBTdG9wIGlmIHdlIGVuY291bnRlciBhIGNoaWxkIHRoYXRcblx0Ly8gaGFzIG5vdCBiZWVuIGNvbXBsZXRlbHkgcmVzb2x2ZWQgeWV0LlxuXHRub2RlID0gbGlzdC5fbmV4dDtcblx0d2hpbGUgKG5vZGUpIHtcblx0XHR3aGlsZSAobm9kZS5sZW5ndGggPiAzKSB7XG5cdFx0XHRub2RlLnBvcCgpKCk7XG5cdFx0fVxuXHRcdGlmIChub2RlW1JFU09MVkVEX0NPVU5UXSA8IG5vZGVbU1VTUEVOREVEX0NPVU5UXSkge1xuXHRcdFx0YnJlYWs7XG5cdFx0fVxuXHRcdGxpc3QuX25leHQgPSBub2RlID0gbm9kZVtORVhUX05PREVdO1xuXHR9XG59O1xuXG4vLyBUaGluZ3Mgd2UgZG8gaGVyZSB0byBzYXZlIHNvbWUgYnl0ZXMgYnV0IGFyZSBub3QgcHJvcGVyIEpTIGluaGVyaXRhbmNlOlxuLy8gLSBjYWxsIGBuZXcgQ29tcG9uZW50KClgIGFzIHRoZSBwcm90b3R5cGVcbi8vIC0gZG8gbm90IHNldCBgU3VzcGVuc2UucHJvdG90eXBlLmNvbnN0cnVjdG9yYCB0byBgU3VzcGVuc2VgXG5TdXNwZW5zZUxpc3QucHJvdG90eXBlID0gbmV3IENvbXBvbmVudCgpO1xuXG5TdXNwZW5zZUxpc3QucHJvdG90eXBlLl9zdXNwZW5kZWQgPSBmdW5jdGlvbihjaGlsZCkge1xuXHRjb25zdCBsaXN0ID0gdGhpcztcblx0Y29uc3QgZGVsZWdhdGVkID0gc3VzcGVuZGVkKGxpc3QuX3Zub2RlKTtcblxuXHRsZXQgbm9kZSA9IGxpc3QuX21hcC5nZXQoY2hpbGQpO1xuXHRub2RlW1NVU1BFTkRFRF9DT1VOVF0rKztcblxuXHRyZXR1cm4gdW5zdXNwZW5kID0+IHtcblx0XHRjb25zdCB3cmFwcGVkVW5zdXNwZW5kID0gKCkgPT4ge1xuXHRcdFx0aWYgKCFsaXN0LnByb3BzLnJldmVhbE9yZGVyKSB7XG5cdFx0XHRcdC8vIFNwZWNpYWwgY2FzZSB0aGUgdW5kZWZpbmVkIChmYWxzeSkgcmV2ZWFsT3JkZXIsIGFzIHRoZXJlXG5cdFx0XHRcdC8vIGlzIG5vIG5lZWQgdG8gY29vcmRpbmF0ZSBhIHNwZWNpZmljIG9yZGVyIG9yIHVuc3VzcGVuZHMuXG5cdFx0XHRcdHVuc3VzcGVuZCgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bm9kZS5wdXNoKHVuc3VzcGVuZCk7XG5cdFx0XHRcdHJlc29sdmUobGlzdCwgY2hpbGQsIG5vZGUpO1xuXHRcdFx0fVxuXHRcdH07XG5cdFx0aWYgKGRlbGVnYXRlZCkge1xuXHRcdFx0ZGVsZWdhdGVkKHdyYXBwZWRVbnN1c3BlbmQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR3cmFwcGVkVW5zdXNwZW5kKCk7XG5cdFx0fVxuXHR9O1xufTtcblxuU3VzcGVuc2VMaXN0LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbihwcm9wcykge1xuXHR0aGlzLl9uZXh0ID0gbnVsbDtcblx0dGhpcy5fbWFwID0gbmV3IE1hcCgpO1xuXG5cdGNvbnN0IGNoaWxkcmVuID0gdG9DaGlsZEFycmF5KHByb3BzLmNoaWxkcmVuKTtcblx0aWYgKHByb3BzLnJldmVhbE9yZGVyICYmIHByb3BzLnJldmVhbE9yZGVyWzBdID09PSAnYicpIHtcblx0XHQvLyBJZiBvcmRlciA9PT0gJ2JhY2t3YXJkcycgKG9yLCB3ZWxsLCBhbnl0aGluZyBzdGFydGluZyB3aXRoIGEgJ2InKVxuXHRcdC8vIHRoZW4gZmxpcCB0aGUgY2hpbGQgbGlzdCBhcm91bmQgc28gdGhhdCB0aGUgbGFzdCBjaGlsZCB3aWxsIGJlXG5cdFx0Ly8gdGhlIGZpcnN0IGluIHRoZSBsaW5rZWQgbGlzdC5cblx0XHRjaGlsZHJlbi5yZXZlcnNlKCk7XG5cdH1cblx0Ly8gQnVpbGQgdGhlIGxpbmtlZCBsaXN0LiBJdGVyYXRlIHRocm91Z2ggdGhlIGNoaWxkcmVuIGluIHJldmVyc2Ugb3JkZXJcblx0Ly8gc28gdGhhdCBgX25leHRgIHBvaW50cyB0byB0aGUgZmlyc3QgbGlua2VkIGxpc3Qgbm9kZSB0byBiZSByZXNvbHZlZC5cblx0Zm9yIChsZXQgaSA9IGNoaWxkcmVuLmxlbmd0aDsgaS0tOyApIHtcblx0XHQvLyBDcmVhdGUgYSBuZXcgbGlua2VkIGxpc3Qgbm9kZSBhcyBhbiBhcnJheSBvZiBmb3JtOlxuXHRcdC8vIFx0W3N1c3BlbmRlZF9jb3VudCwgcmVzb2x2ZWRfY291bnQsIG5leHRfbm9kZV1cblx0XHQvLyB3aGVyZSBzdXNwZW5kZWRfY291bnQgYW5kIHJlc29sdmVkX2NvdW50IGFyZSBudW1lcmljIGNvdW50ZXJzIGZvclxuXHRcdC8vIGtlZXBpbmcgdHJhY2sgaG93IG1hbnkgdGltZXMgYSBub2RlIGhhcyBiZWVuIHN1c3BlbmRlZCBhbmQgcmVzb2x2ZWQuXG5cdFx0Ly9cblx0XHQvLyBOb3RlIHRoYXQgc3VzcGVuZGVkX2NvdW50IHN0YXJ0cyBmcm9tIDEgaW5zdGVhZCBvZiAwLCBzbyB3ZSBjYW4gYmxvY2tcblx0XHQvLyBwcm9jZXNzaW5nIGNhbGxiYWNrcyB1bnRpbCBjb21wb25lbnREaWRNb3VudCBoYXMgYmVlbiBjYWxsZWQuIEluIGEgc2Vuc2Vcblx0XHQvLyBub2RlIGlzIHN1c3BlbmRlZCBhdCBsZWFzdCB1bnRpbCBjb21wb25lbnREaWRNb3VudCBnZXRzIGNhbGxlZCFcblx0XHQvL1xuXHRcdC8vIFBlbmRpbmcgY2FsbGJhY2tzIGFyZSBhZGRlZCB0byB0aGUgZW5kIG9mIHRoZSBub2RlOlxuXHRcdC8vIFx0W3N1c3BlbmRlZF9jb3VudCwgcmVzb2x2ZWRfY291bnQsIG5leHRfbm9kZSwgY2FsbGJhY2tfMCwgY2FsbGJhY2tfMSwgLi4uXVxuXHRcdHRoaXMuX21hcC5zZXQoY2hpbGRyZW5baV0sICh0aGlzLl9uZXh0ID0gWzEsIDAsIHRoaXMuX25leHRdKSk7XG5cdH1cblx0cmV0dXJuIHByb3BzLmNoaWxkcmVuO1xufTtcblxuU3VzcGVuc2VMaXN0LnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBTdXNwZW5zZUxpc3QucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24oKSB7XG5cdC8vIEl0ZXJhdGUgdGhyb3VnaCBhbGwgY2hpbGRyZW4gYWZ0ZXIgbW91bnRpbmcgZm9yIHR3byByZWFzb25zOlxuXHQvLyAxLiBBcyBlYWNoIG5vZGVbU1VTUEVOREVEX0NPVU5UXSBzdGFydHMgZnJvbSAxLCB0aGlzIGl0ZXJhdGlvbiBpbmNyZWFzZXNcblx0Ly8gICAgZWFjaCBub2RlW1JFTEVBU0VEX0NPVU5UXSBieSAxLCB0aGVyZWZvcmUgYmFsYW5jaW5nIHRoZSBjb3VudGVycy5cblx0Ly8gICAgVGhlIG5vZGVzIGNhbiBub3cgYmUgY29tcGxldGVseSBjb25zdW1lZCBmcm9tIHRoZSBsaW5rZWQgbGlzdC5cblx0Ly8gMi4gSGFuZGxlIG5vZGVzIHRoYXQgbWlnaHQgaGF2ZSBnb3R0ZW4gcmVzb2x2ZWQgYmV0d2VlbiByZW5kZXIgYW5kXG5cdC8vICAgIGNvbXBvbmVudERpZE1vdW50LlxuXHRjb25zdCBsaXN0ID0gdGhpcztcblx0bGlzdC5fbWFwLmZvckVhY2goKG5vZGUsIGNoaWxkKSA9PiB7XG5cdFx0cmVzb2x2ZShsaXN0LCBjaGlsZCwgbm9kZSk7XG5cdH0pO1xufTtcbiIsImltcG9ydCB7IGNyZWF0ZUVsZW1lbnQsIGh5ZHJhdGUsIHJlbmRlciwgX3VubW91bnQgfSBmcm9tICdwcmVhY3QnO1xuXG5jbGFzcyBDb250ZXh0UHJvdmlkZXIge1xuXHRnZXRDaGlsZENvbnRleHQoKSB7XG5cdFx0cmV0dXJuIHRoaXMucHJvcHMuY29udGV4dDtcblx0fVxuXHRyZW5kZXIocHJvcHMpIHtcblx0XHRyZXR1cm4gcHJvcHMuY2hpbGRyZW47XG5cdH1cbn1cblxuLyoqXG4gKiBQb3J0YWwgY29tcG9uZW50XG4gKiBAcGFyYW0ge29iamVjdCB8IG51bGwgfCB1bmRlZmluZWR9IHByb3BzXG4gKi9cbmZ1bmN0aW9uIFBvcnRhbChwcm9wcykge1xuXHRsZXQgX3RoaXMgPSB0aGlzO1xuXHRsZXQgY29udGFpbmVyID0gcHJvcHMuY29udGFpbmVyO1xuXHRsZXQgd3JhcCA9IGNyZWF0ZUVsZW1lbnQoXG5cdFx0Q29udGV4dFByb3ZpZGVyLFxuXHRcdHsgY29udGV4dDogX3RoaXMuY29udGV4dCB9LFxuXHRcdHByb3BzLnZub2RlXG5cdCk7XG5cblx0Ly8gV2hlbiB3ZSBjaGFuZ2UgY29udGFpbmVyIHdlIHNob3VsZCBjbGVhciBvdXIgb2xkIGNvbnRhaW5lciBhbmRcblx0Ly8gaW5kaWNhdGUgYSBuZXcgbW91bnQuXG5cdGlmIChfdGhpcy5fY29udGFpbmVyICYmIF90aGlzLl9jb250YWluZXIgIT09IGNvbnRhaW5lcikge1xuXHRcdGlmIChfdGhpcy5fdGVtcC5wYXJlbnROb2RlKSBfdGhpcy5fY29udGFpbmVyLnJlbW92ZUNoaWxkKF90aGlzLl90ZW1wKTtcblx0XHRfdW5tb3VudChfdGhpcy5fd3JhcCk7XG5cdFx0X3RoaXMuX2hhc01vdW50ZWQgPSBmYWxzZTtcblx0fVxuXG5cdC8vIFdoZW4gcHJvcHMudm5vZGUgaXMgdW5kZWZpbmVkL2ZhbHNlL251bGwgd2UgYXJlIGRlYWxpbmcgd2l0aCBzb21lIGtpbmQgb2Zcblx0Ly8gY29uZGl0aW9uYWwgdm5vZGUuIFRoaXMgc2hvdWxkIG5vdCB0cmlnZ2VyIGEgcmVuZGVyLlxuXHRpZiAocHJvcHMudm5vZGUpIHtcblx0XHRpZiAoIV90aGlzLl9oYXNNb3VudGVkKSB7XG5cdFx0XHQvLyBDcmVhdGUgYSBwbGFjZWhvbGRlciB0aGF0IHdlIGNhbiB1c2UgdG8gaW5zZXJ0IGludG8uXG5cdFx0XHRfdGhpcy5fdGVtcCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcblx0XHRcdC8vIEh5ZHJhdGUgZXhpc3Rpbmcgbm9kZXMgdG8ga2VlcCB0aGUgZG9tIGludGFjdCwgd2hlbiByZW5kZXJpbmdcblx0XHRcdC8vIHdyYXAgaW50byB0aGUgY29udGFpbmVyLlxuXHRcdFx0aHlkcmF0ZSgnJywgY29udGFpbmVyKTtcblx0XHRcdC8vIEFwcGVuZCB0byB0aGUgY29udGFpbmVyICh0aGlzIG1hdGNoZXMgUmVhY3QncyBiZWhhdmlvcilcblx0XHRcdGNvbnRhaW5lci5hcHBlbmRDaGlsZChfdGhpcy5fdGVtcCk7XG5cdFx0XHQvLyBBdCB0aGlzIHBvaW50IHdlIGhhdmUgbW91bnRlZCBhbmQgc2hvdWxkIHNldCBvdXIgY29udGFpbmVyLlxuXHRcdFx0X3RoaXMuX2hhc01vdW50ZWQgPSB0cnVlO1xuXHRcdFx0X3RoaXMuX2NvbnRhaW5lciA9IGNvbnRhaW5lcjtcblx0XHRcdC8vIFJlbmRlciBvdXIgd3JhcHBpbmcgZWxlbWVudCBpbnRvIHRlbXAuXG5cdFx0XHRyZW5kZXIod3JhcCwgY29udGFpbmVyLCBfdGhpcy5fdGVtcCk7XG5cdFx0XHRfdGhpcy5fY2hpbGRyZW4gPSB0aGlzLl90ZW1wLl9jaGlsZHJlbjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gV2hlbiB3ZSBoYXZlIG1vdW50ZWQgYW5kIHRoZSB2bm9kZSBpcyBwcmVzZW50IGl0IG1lYW5zIHRoZVxuXHRcdFx0Ly8gcHJvcHMgaGF2ZSBjaGFuZ2VkIG9yIGEgcGFyZW50IGlzIHRyaWdnZXJpbmcgYSByZXJlbmRlci5cblx0XHRcdC8vIFRoaXMgaW1wbGllcyB3ZSBvbmx5IG5lZWQgdG8gY2FsbCByZW5kZXIuIEJ1dCB3ZSBuZWVkIHRvIGtlZXBcblx0XHRcdC8vIHRoZSBvbGQgdHJlZSBhcm91bmQsIG90aGVyd2lzZSB3aWxsIHRyZWF0IHRoZSB2bm9kZXMgYXMgbmV3IGFuZFxuXHRcdFx0Ly8gd2lsbCB3cm9uZ2x5IGNhbGwgYGNvbXBvbmVudERpZE1vdW50YCBvbiB0aGVtXG5cdFx0XHRjb250YWluZXIuX2NoaWxkcmVuID0gX3RoaXMuX2NoaWxkcmVuO1xuXHRcdFx0cmVuZGVyKHdyYXAsIGNvbnRhaW5lcik7XG5cdFx0XHRfdGhpcy5fY2hpbGRyZW4gPSBjb250YWluZXIuX2NoaWxkcmVuO1xuXHRcdH1cblx0fVxuXHQvLyBXaGVuIHdlIGNvbWUgZnJvbSBhIGNvbmRpdGlvbmFsIHJlbmRlciwgb24gYSBtb3VudGVkXG5cdC8vIHBvcnRhbCB3ZSBzaG91bGQgY2xlYXIgdGhlIERPTS5cblx0ZWxzZSBpZiAoX3RoaXMuX2hhc01vdW50ZWQpIHtcblx0XHRpZiAoX3RoaXMuX3RlbXAucGFyZW50Tm9kZSkgX3RoaXMuX2NvbnRhaW5lci5yZW1vdmVDaGlsZChfdGhpcy5fdGVtcCk7XG5cdFx0X3VubW91bnQoX3RoaXMuX3dyYXApO1xuXHR9XG5cdC8vIFNldCB0aGUgd3JhcHBpbmcgZWxlbWVudCBmb3IgZnV0dXJlIHVubW91bnRpbmcuXG5cdF90aGlzLl93cmFwID0gd3JhcDtcblxuXHRfdGhpcy5jb21wb25lbnRXaWxsVW5tb3VudCA9ICgpID0+IHtcblx0XHRpZiAoX3RoaXMuX3RlbXAucGFyZW50Tm9kZSkgX3RoaXMuX2NvbnRhaW5lci5yZW1vdmVDaGlsZChfdGhpcy5fdGVtcCk7XG5cdFx0X3VubW91bnQoX3RoaXMuX3dyYXApO1xuXHR9O1xuXG5cdHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIGBQb3J0YWxgIHRvIGNvbnRpbnVlIHJlbmRlcmluZyB0aGUgdm5vZGUgdHJlZSBhdCBhIGRpZmZlcmVudCBET00gbm9kZVxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZX0gdm5vZGUgVGhlIHZub2RlIHRvIHJlbmRlclxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5QcmVhY3RFbGVtZW50fSBjb250YWluZXIgVGhlIERPTSBub2RlIHRvIGNvbnRpbnVlIHJlbmRlcmluZyBpbiB0by5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVBvcnRhbCh2bm9kZSwgY29udGFpbmVyKSB7XG5cdHJldHVybiBjcmVhdGVFbGVtZW50KFBvcnRhbCwgeyB2bm9kZSwgY29udGFpbmVyIH0pO1xufVxuIiwiLyoqXG4gKiBOb3JtYWxpemUgZXZlbnQgaGFuZGxlcnMgbGlrZSByZWFjdCBkb2VzLiBNb3N0IGZhbW91c2x5IGl0IHVzZXMgYG9uQ2hhbmdlYCBmb3IgYW55IGlucHV0IGVsZW1lbnQuXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlZOb2RlfSB2bm9kZSBUaGUgdm5vZGUgdG8gbm9ybWFsaXplIGV2ZW50cyBvblxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlFdmVudE5vcm1hbGl6YXRpb24oeyB0eXBlLCBwcm9wcyB9KSB7XG5cdGlmICghcHJvcHMgfHwgdHlwZW9mIHR5cGUgIT0gJ3N0cmluZycpIHJldHVybjtcblx0bGV0IG5ld1Byb3BzID0ge307XG5cblx0Zm9yIChsZXQgaSBpbiBwcm9wcykge1xuXHRcdGlmICgvXm9uKEFuaXxUcmF8VG91KS8udGVzdChpKSkge1xuXHRcdFx0cHJvcHNbaS50b0xvd2VyQ2FzZSgpXSA9IHByb3BzW2ldO1xuXHRcdFx0ZGVsZXRlIHByb3BzW2ldO1xuXHRcdH1cblx0XHRuZXdQcm9wc1tpLnRvTG93ZXJDYXNlKCldID0gaTtcblx0fVxuXHRpZiAobmV3UHJvcHMub25kb3VibGVjbGljaykge1xuXHRcdHByb3BzLm9uZGJsY2xpY2sgPSBwcm9wc1tuZXdQcm9wcy5vbmRvdWJsZWNsaWNrXTtcblx0XHRkZWxldGUgcHJvcHNbbmV3UHJvcHMub25kb3VibGVjbGlja107XG5cdH1cblx0aWYgKG5ld1Byb3BzLm9uYmVmb3JlaW5wdXQpIHtcblx0XHRwcm9wcy5vbmJlZm9yZWlucHV0ID0gcHJvcHNbbmV3UHJvcHMub25iZWZvcmVpbnB1dF07XG5cdFx0ZGVsZXRlIHByb3BzW25ld1Byb3BzLm9uYmVmb3JlaW5wdXRdO1xuXHR9XG5cdC8vIGZvciAqdGV4dHVhbCBpbnB1dHMqIChpbmNsIHRleHRhcmVhKSwgbm9ybWFsaXplIGBvbkNoYW5nZWAgLT4gYG9uSW5wdXRgOlxuXHRpZiAoXG5cdFx0bmV3UHJvcHMub25jaGFuZ2UgJiZcblx0XHQodHlwZSA9PT0gJ3RleHRhcmVhJyB8fFxuXHRcdFx0KHR5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ2lucHV0JyAmJiAhL15maWx8Y2hlfHJhL2kudGVzdChwcm9wcy50eXBlKSkpXG5cdCkge1xuXHRcdGxldCBub3JtYWxpemVkID0gbmV3UHJvcHMub25pbnB1dCB8fCAnb25pbnB1dCc7XG5cdFx0aWYgKCFwcm9wc1tub3JtYWxpemVkXSkge1xuXHRcdFx0cHJvcHNbbm9ybWFsaXplZF0gPSBwcm9wc1tuZXdQcm9wcy5vbmNoYW5nZV07XG5cdFx0XHRkZWxldGUgcHJvcHNbbmV3UHJvcHMub25jaGFuZ2VdO1xuXHRcdH1cblx0fVxufVxuIiwiaW1wb3J0IHsgY3JlYXRlRWxlbWVudCB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgeyBzaGFsbG93RGlmZmVycywgYXNzaWduIH0gZnJvbSAnLi91dGlsJztcblxuLyoqXG4gKiBNZW1vaXplIGEgY29tcG9uZW50LCBzbyB0aGF0IGl0IG9ubHkgdXBkYXRlcyB3aGVuIHRoZSBwcm9wcyBhY3R1YWxseSBoYXZlXG4gKiBjaGFuZ2VkLiBUaGlzIHdhcyBwcmV2aW91c2x5IGtub3duIGFzIGBSZWFjdC5wdXJlYC5cbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuRnVuY3Rpb25hbENvbXBvbmVudH0gYyBmdW5jdGlvbmFsIGNvbXBvbmVudFxuICogQHBhcmFtIHsocHJldjogb2JqZWN0LCBuZXh0OiBvYmplY3QpID0+IGJvb2xlYW59IFtjb21wYXJlcl0gQ3VzdG9tIGVxdWFsaXR5IGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL2ludGVybmFsJykuRnVuY3Rpb25hbENvbXBvbmVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lbW8oYywgY29tcGFyZXIpIHtcblx0ZnVuY3Rpb24gc2hvdWxkVXBkYXRlKG5leHRQcm9wcykge1xuXHRcdGxldCByZWYgPSB0aGlzLnByb3BzLnJlZjtcblx0XHRsZXQgdXBkYXRlUmVmID0gcmVmID09IG5leHRQcm9wcy5yZWY7XG5cdFx0aWYgKCF1cGRhdGVSZWYgJiYgcmVmKSB7XG5cdFx0XHRyZWYuY2FsbCA/IHJlZihudWxsKSA6IChyZWYuY3VycmVudCA9IG51bGwpO1xuXHRcdH1cblxuXHRcdGlmICghY29tcGFyZXIpIHtcblx0XHRcdHJldHVybiBzaGFsbG93RGlmZmVycyh0aGlzLnByb3BzLCBuZXh0UHJvcHMpO1xuXHRcdH1cblxuXHRcdHJldHVybiAhY29tcGFyZXIodGhpcy5wcm9wcywgbmV4dFByb3BzKSB8fCAhdXBkYXRlUmVmO1xuXHR9XG5cblx0ZnVuY3Rpb24gTWVtb2VkKHByb3BzKSB7XG5cdFx0dGhpcy5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBzaG91bGRVcGRhdGU7XG5cdFx0cmV0dXJuIGNyZWF0ZUVsZW1lbnQoYywgYXNzaWduKHt9LCBwcm9wcykpO1xuXHR9XG5cdE1lbW9lZC5wcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudCA9IHRydWU7XG5cdE1lbW9lZC5kaXNwbGF5TmFtZSA9ICdNZW1vKCcgKyAoYy5kaXNwbGF5TmFtZSB8fCBjLm5hbWUpICsgJyknO1xuXHRNZW1vZWQuX2ZvcndhcmRlZCA9IHRydWU7XG5cdHJldHVybiBNZW1vZWQ7XG59XG4iLCJ2YXIgcj17ZGF0YTpcIlwifSxlPWZ1bmN0aW9uKGUpe3RyeXt2YXIgdD1lP2UucXVlcnlTZWxlY3RvcihcIiNfZ29vYmVyXCIpOnNlbGYuX2dvb2JlcjtyZXR1cm4gdHx8KCh0PShlfHxkb2N1bWVudC5oZWFkKS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIikpKS5pbm5lckhUTUw9XCIgXCIsdC5pZD1cIl9nb29iZXJcIiksdC5maXJzdENoaWxkfWNhdGNoKHIpe31yZXR1cm4gcn0sdD1mdW5jdGlvbihyKXt2YXIgdD1lKHIpLGE9dC5kYXRhO3JldHVybiB0LmRhdGE9XCJcIixhfSxhPS8oPzooW2EtejAtOS0lQF0rKSAqOj8gKihbXns7XSs/KTt8KFteO317XSo/KSAreyl8KH0pL2dpLG49L1xcL1xcKi4qP1xcKlxcL3xcXHN7Mix9fFxcbi9nbSxjPWZ1bmN0aW9uKHIsZSx0KXt2YXIgYT1cIlwiLG49XCJcIixpPVwiXCI7aWYoL15AW2t8Zl0vLnRlc3QodCkpcmV0dXJuIHQrSlNPTi5zdHJpbmdpZnkocikucmVwbGFjZSgvXCIsXCIvZyxcIjtcIikucmVwbGFjZSgvXCJ8LFwiL2csXCJcIikucmVwbGFjZSgvOnsvZyxcIntcIik7Zm9yKHZhciBvIGluIHIpe3ZhciB1PXJbb107aWYoXCJvYmplY3RcIj09dHlwZW9mIHUpe3ZhciBzPWUrXCIgXCIrbzsvJi9nLnRlc3QobykmJihzPW8ucmVwbGFjZSgvJi9nLGUpKSxcIkBcIj09b1swXSYmKHM9ZSksbis9Yyh1LHMscz09ZT9vOnR8fFwiXCIpfWVsc2UvXkBpLy50ZXN0KG8pP2k9bytcIiBcIit1K1wiO1wiOmErPW8ucmVwbGFjZSgvW0EtWl0vZyxcIi0kJlwiKS50b0xvd2VyQ2FzZSgpK1wiOlwiK3UrXCI7XCJ9aWYoYS5jaGFyQ29kZUF0KDApKXt2YXIgZj1lK1wie1wiK2ErXCJ9XCI7cmV0dXJuIHQ/bit0K1wie1wiK2YrXCJ9XCI6aStmK259cmV0dXJuIGkrbn0saT17YzowfSxvPWZ1bmN0aW9uKHIsZSx0LG8pe3ZhciB1PUpTT04uc3RyaW5naWZ5KHIpLHM9aVt1XXx8KGlbdV09dD9cIlwiOlwiLmdvXCIrdS5zcGxpdChcIlwiKS5yZWR1Y2UoZnVuY3Rpb24ocixlKXtyZXR1cm4gcitlLmNoYXJDb2RlQXQoMCl8OH0sNCkpO3JldHVybiBmdW5jdGlvbihyLGUsdCl7ZS5kYXRhLmluZGV4T2Yocik8MCYmKGUuZGF0YT10P3IrZS5kYXRhOmUuZGF0YStyKX0oaVtzXXx8KGlbc109YyhyWzBdP2Z1bmN0aW9uKHIpe2Zvcih2YXIgZSx0PVt7fV07ZT1hLmV4ZWMoci5yZXBsYWNlKG4sXCJcIikpOyllWzRdJiZ0LnNoaWZ0KCksZVszXT90LnVuc2hpZnQodFswXVtlWzNdXT17fSk6ZVs0XXx8KHRbMF1bZVsxXV09ZVsyXSk7cmV0dXJuIHRbMF19KHIpOnIscykpLGUsbykscy5zbGljZSgxKX0sdT1mdW5jdGlvbihyLGUsdCl7cmV0dXJuIHIucmVkdWNlKGZ1bmN0aW9uKHIsYSxuKXt2YXIgYz1lW25dO2lmKGMmJmMuY2FsbCl7dmFyIGk9Yyh0KSxvPWkmJmkucHJvcHMmJmkucHJvcHMuY2xhc3NOYW1lfHwvXmdvLy50ZXN0KGkpJiZpO2M9bz9cIi5cIitvOmkmJmkucHJvcHM/XCJcIjppfXJldHVybiByK2ErKGN8fFwiXCIpfSxcIlwiKX07ZnVuY3Rpb24gcyhyKXt2YXIgdD10aGlzfHx7fSxhPXIuY2FsbD9yKHQucCk6cjtyZXR1cm4gbyhhLm1hcD91KGEsW10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSksdC5wKTphLGUodC50YXJnZXQpLHQuZyx0Lm8pfXZhciBmLGwscCxnPXMuYmluZCh7ZzoxfSksZD1mdW5jdGlvbihyLGUsdCl7Zj1yLGw9ZSxwPXR9O2Z1bmN0aW9uIHYocil7dmFyIGU9dGhpc3x8e307cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzO2Z1bmN0aW9uIGEoYSxuKXt2YXIgYz1lLnA9T2JqZWN0LmFzc2lnbihwP3t0aGVtZTpwKCl9Ont9LGEpLGk9Yy5jbGFzc05hbWU7cmV0dXJuIGUubz0vXFxzKmdvWzAtOV0rL2cudGVzdChpKSxjLmNsYXNzTmFtZT1zLmFwcGx5KGUsdCkrKGk/XCIgXCIraTpcIlwiKSxjLnJlZj1uLGYocixjKX1yZXR1cm4gbD9sKGEpOmF9fWV4cG9ydHt2IGFzIHN0eWxlZCxkIGFzIHNldHVwLHQgYXMgZXh0cmFjdENzcyxzIGFzIGNzcyxnIGFzIGdsb2J9O1xuIiwiZnVuY3Rpb24gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbExvb3NlKHN0cmluZ3MsIHJhdykge1xuICBpZiAoIXJhdykge1xuICAgIHJhdyA9IHN0cmluZ3Muc2xpY2UoMCk7XG4gIH1cblxuICBzdHJpbmdzLnJhdyA9IHJhdztcbiAgcmV0dXJuIHN0cmluZ3M7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbExvb3NlOyIsIiFmdW5jdGlvbihlLHQpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPXQocmVxdWlyZShcInByZWFjdFwiKSk7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtcInByZWFjdFwiXSx0KTtlbHNle3ZhciBuPXQoXCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/cmVxdWlyZShcInByZWFjdFwiKTplLnByZWFjdCk7Zm9yKHZhciBvIGluIG4pKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHM6ZSlbb109bltvXX19KHRoaXMsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQobyl7aWYobltvXSlyZXR1cm4gbltvXS5leHBvcnRzO3ZhciByPW5bb109e2V4cG9ydHM6e30saWQ6byxsb2FkZWQ6ITF9O3JldHVybiBlW29dLmNhbGwoci5leHBvcnRzLHIsci5leHBvcnRzLHQpLHIubG9hZGVkPSEwLHIuZXhwb3J0c312YXIgbj17fTtyZXR1cm4gdC5tPWUsdC5jPW4sdC5wPVwiXCIsdCgwKX0oW2Z1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiByKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrKFwidW5kZWZpbmVkXCI9PXR5cGVvZiB0P1widW5kZWZpbmVkXCI6YSh0KSkpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCk6ZS5fX3Byb3RvX189dCl9ZnVuY3Rpb24gdShlLHQsbil7dmFyIHU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gdSgpe28odGhpcyx1KTt2YXIgdD1SZWZsZWN0LmNvbnN0cnVjdChIVE1MRWxlbWVudCxbXSx1KTtyZXR1cm4gdC5fdmRvbUNvbXBvbmVudD1lLHR9cmV0dXJuIHIodSx0KSxzKHUsW3trZXk6XCJjb25uZWN0ZWRDYWxsYmFja1wiLHZhbHVlOmZ1bmN0aW9uKCl7aS5hcHBseSh0aGlzKX19LHtrZXk6XCJhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2tcIix2YWx1ZTpmdW5jdGlvbigpe2kuYXBwbHkodGhpcyl9fSx7a2V5OlwiZGV0YWNoZWRDYWxsYmFja1wiLHZhbHVlOmZ1bmN0aW9uKCl7Zi5hcHBseSh0aGlzKX19XSxbe2tleTpcIm9ic2VydmVkQXR0cmlidXRlc1wiLGdldDpmdW5jdGlvbigpe3JldHVybiBufX1dKSx1fShIVE1MRWxlbWVudCk7cmV0dXJuIHdpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUodHx8ZS5kaXNwbGF5TmFtZXx8ZS5uYW1lLHUpfWZ1bmN0aW9uIGkoKXt0aGlzLl9yb290PSgwLGwucmVuZGVyKShjKHRoaXMsdGhpcy5fdmRvbUNvbXBvbmVudCksdGhpcyx0aGlzLl9yb290KX1mdW5jdGlvbiBmKCl7KDAsbC5yZW5kZXIpKCgwLGwuaCkocCksdGhpcyx0aGlzLl9yb290KX1mdW5jdGlvbiBjKGUsdCl7aWYoMz09PWUubm9kZVR5cGUpcmV0dXJuIGUubm9kZVZhbHVlO2lmKDEhPT1lLm5vZGVUeXBlKXJldHVybiBudWxsO3ZhciBuPVtdLG89e30scj0wLHU9ZS5hdHRyaWJ1dGVzLGk9ZS5jaGlsZE5vZGVzO2ZvcihyPXUubGVuZ3RoO3ItLTspb1t1W3JdLm5hbWVdPXVbcl0udmFsdWU7Zm9yKHI9aS5sZW5ndGg7ci0tOyluW3JdPWMoaVtyXSk7cmV0dXJuKDAsbC5oKSh0fHxlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksbyxuKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfTt0W1wiZGVmYXVsdFwiXT11O3ZhciBsPW4oMSkscD1mdW5jdGlvbigpe3JldHVybiBudWxsfSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgbz10W25dO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixvKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxvJiZlKHQsbyksdH19KCl9LGZ1bmN0aW9uKHQsbil7dC5leHBvcnRzPWV9XSl9KTsiLCJcbmNvbnN0IGNvbG9ycyA9IHtcbiAgJEQxMDogXCIjMTYyRDNEXCIsIC8vIE1haW4gaW5wdXQgdGV4dCwgdGl0bGVzXG4gICREMjA6IFwiIzMyNTM2QVwiLCAvLyBUaXRsZXMsIHRleHRzXG4gICREMzA6IFwiIzU3NzA4M1wiLCAvLyBUZXh0c1xuICAkRDQwOiBcIiM3QTkyQTVcIiwgLy8gRGl2aWRlcnMsIHRleHRzLCBQbGFjZWhvbGRlclxuICAkRDUwOiBcIiNCNkMxQ0RcIiwgLy8gRGl2aWRlcnMsIHRleHRzXG4gICRENTU6IFwiI0NCRDNEQ1wiLCAvLyBEaXNhYmxlZCBidXR0b24gLSBuZXcgdmVyc2lvbiAtIG5hbWluZyBub3QgZmluYWxcbiAgJEQ2MDogXCIjREZFNUVCXCIsIC8vIERpdmlkZXJzXG4gICRENzA6IFwiI0YwRjRGN1wiLCAvLyBQYWdlIGJhY2tncm91bmQsIGRpdmlkZXJzXG4gICREODA6IFwiI0ZGRkZGRlwiLCAvLyBDb250ZW50IGJveCBiYWNrZ3JvdW5kXG5cbiAgJEIwMDogXCIjMkI4MUNCXCIsIC8vIEJ1dHRvbnNcbiAgJEIwNTogXCIjMzA4REREXCIsIC8vIENUQVxuICAkQjEwOiBcIiMzODk5RUNcIiwgLy8gTWFpbiBhY3Rpb24gY29sb3IsIGFjdGl2ZSwgYnV0dG9uc1xuICAkQjIwOiBcIiM0RUI3RjVcIiwgLy8gSG92ZXIgZm9yIGVsZW1lbnRzIHdpdGggQjEwLCBidXR0b25zXG4gICRCMjU6IFwiI0ExRDdGQlwiLFxuICAkQjI3OiBcIiNCM0UwRkJcIixcbiAgJEIzMDogXCIjQzFFNEZFXCIsIC8vIE5vdGlmaWNhdGlvbnNcbiAgJEI0MDogXCIjREFFRkZFXCIsIC8vIERpdmlkZXJzLCB0YWJsZSBzZWxlY3RlZCwgdGFibGUgaGVhZGVyc1xuICAkQjUwOiBcIiNFQUY3RkZcIiwgLy8gRGl2aWRlcnNcbiAgJEI2MDogXCIjRjRGQUZFXCIsIC8vIFRhYmxlIGhvdmVyXG59O1xuXG5jb25zdCBzaWRlYmFyID0ge1xuICBjb2xvcnM6IHtcbiAgICAkYmc6IFwiIzIzMjYzZVwiLFxuICAgICRkaXZpZGVyOiBcIiM0MzQ1NjdcIixcbiAgICAkYmdIb3ZlcjogXCIjMmUzMjQ5XCIsXG4gICAgJGJnQWN0aXZlOiBcIiMzOTNmNTlcIixcbiAgfSxcbn1cbmNvbnN0IHRoZW1lID0ge1xuICBjb2xvcnMsXG4gIHNpZGViYXIsXG59O1xuXG5cbmV4cG9ydCBkZWZhdWx0IHRoZW1lO1xuIiwiaW1wb3J0IHtcbiBoLCBjcmVhdGVDb250ZXh0LCBDb21wb25lbnRDaGlsZHJlbiwgRnVuY3Rpb25Db21wb25lbnQsXG59IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCB7IGZvcndhcmRSZWYsIHVzZUNvbnRleHQgfSBmcm9tIFwicHJlYWN0L2NvbXBhdFwiO1xuaW1wb3J0IHsgc3R5bGVkLCBzZXR1cCB9IGZyb20gXCJAbmtzYXJhZi9nb29iZXJcIjtcbmltcG9ydCB0aGVtZSBmcm9tIFwiLi91dGlscy9nbG9iYWxTdHlsZXNcIjtcblxuY29uc3QgVGhlbWVDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh0aGVtZSk7XG5jb25zdCB1c2VUaGVtZSA9ICgpID0+IHVzZUNvbnRleHQoVGhlbWVDb250ZXh0KTtcbnNldHVwKGgsIGZvcndhcmRSZWYsIHVzZVRoZW1lKTtcblxuXG5jb25zdCBBcHA6IEZ1bmN0aW9uQ29tcG9uZW50ID0gKHsgY2hpbGRyZW4gfSkgPT4gPFN0eWxlZEJhc2U+e2NoaWxkcmVufTwvU3R5bGVkQmFzZT47XG5cblxuY29uc3QgU3R5bGVkQmFzZSA9IHN0eWxlZDx7IGNoaWxkcmVuOiBDb21wb25lbnRDaGlsZHJlbiB9PihcImRpdlwiKWBcbiAgLXdlYmtpdC1mb250LXNtb290aGluZzogYW50aWFsaWFzZWQ7XG4gIC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBncmF5c2NhbGU7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG5gO1xuXG5leHBvcnQgZGVmYXVsdCBBcHA7XG4iLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2V4dGVuZHM7IiwiaW1wb3J0IHsgUHJvcFJlZiB9IGZyb20gXCJwcmVhY3QvaG9va3Mvc3JjXCI7XG5cbmludGVyZmFjZSBDdXN0b21FdmVudCB7XG4gICAgcmVmOiBQcm9wUmVmPGFueT4sXG4gICAgZXZlbnROYW1lOiBzdHJpbmcsXG59XG5cbmNvbnN0IHVzZUN1c3RvbUV2ZW50ID0gKHsgcmVmLCBldmVudE5hbWUgfTogQ3VzdG9tRXZlbnQpID0+IHtcbiAgICBjb25zdCBjdXN0b21FdmVudCA9IChkZXRhaWwpID0+IG5ldyBDdXN0b21FdmVudChldmVudE5hbWUsIHtcbiAgICAgICAgZGV0YWlsLFxuICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgIH0pO1xuXG4gICAgY29uc3QgZGlzcGF0Y2hFdmVudCA9IChldkRhdGEpID0+IHtcbiAgICAgICAgaWYgKHJlZi5jdXJyZW50KSByZWYuY3VycmVudC5kaXNwYXRjaEV2ZW50KGN1c3RvbUV2ZW50KGV2RGF0YSkpO1xuICAgIH1cbiAgICByZXR1cm4gZGlzcGF0Y2hFdmVudFxufVxuXG5leHBvcnQgZGVmYXVsdCB1c2VDdXN0b21FdmVudDtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcblxubGV0IHJlbmRlckVyciA9ICdSZW5kZXJlciBFcnJvcidcblxuZXhwb3J0IGNvbnN0IGFjdGlvbnMgPSB7XG4gIGluaXQ6ICdpbml0Jyxcbn1cblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRDb2x1bW4gPSB7XG4gIENlbGw6ICh7IGNlbGw6IHsgdmFsdWUgPSAnJyB9IH0pID0+IHZhbHVlLFxuICB3aWR0aDogMTUwLFxuICBtaW5XaWR0aDogMCxcbiAgbWF4V2lkdGg6IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSLFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdE9yZGVyQnlGbihhcnIsIGZ1bmNzLCBkaXJzKSB7XG4gIHJldHVybiBbLi4uYXJyXS5zb3J0KChyb3dBLCByb3dCKSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmdW5jcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgY29uc3Qgc29ydEZuID0gZnVuY3NbaV1cbiAgICAgIGNvbnN0IGRlc2MgPSBkaXJzW2ldID09PSBmYWxzZSB8fCBkaXJzW2ldID09PSAnZGVzYydcbiAgICAgIGNvbnN0IHNvcnRJbnQgPSBzb3J0Rm4ocm93QSwgcm93QilcbiAgICAgIGlmIChzb3J0SW50ICE9PSAwKSB7XG4gICAgICAgIHJldHVybiBkZXNjID8gLXNvcnRJbnQgOiBzb3J0SW50XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkaXJzWzBdID8gcm93QS5pbmRleCAtIHJvd0IuaW5kZXggOiByb3dCLmluZGV4IC0gcm93QS5pbmRleFxuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdEdyb3VwQnlGbihyb3dzLCBjb2x1bW5JZCkge1xuICByZXR1cm4gcm93cy5yZWR1Y2UoKHByZXYsIHJvdywgaSkgPT4ge1xuICAgIC8vIFRPRE86IE1pZ2h0IHdhbnQgdG8gaW1wbGVtZW50IGEga2V5IHNlcmlhbGl6ZXIgaGVyZSBzb1xuICAgIC8vIGlycmVndWxhciBjb2x1bW4gdmFsdWVzIGNhbiBzdGlsbCBiZSBncm91cGVkIGlmIG5lZWRlZD9cbiAgICBjb25zdCByZXNLZXkgPSBgJHtyb3cudmFsdWVzW2NvbHVtbklkXX1gXG4gICAgcHJldltyZXNLZXldID0gQXJyYXkuaXNBcnJheShwcmV2W3Jlc0tleV0pID8gcHJldltyZXNLZXldIDogW11cbiAgICBwcmV2W3Jlc0tleV0ucHVzaChyb3cpXG4gICAgcmV0dXJuIHByZXZcbiAgfSwge30pXG59XG5cbmZ1bmN0aW9uIG1lcmdlUHJvcHMoLi4ucHJvcExpc3QpIHtcbiAgcmV0dXJuIHByb3BMaXN0LnJlZHVjZSgocHJvcHMsIG5leHQpID0+IHtcbiAgICBjb25zdCB7IHN0eWxlLCBjbGFzc05hbWUsIC4uLnJlc3QgfSA9IG5leHRcblxuICAgIHByb3BzID0ge1xuICAgICAgLi4ucHJvcHMsXG4gICAgICAuLi5yZXN0LFxuICAgIH1cblxuICAgIGlmIChzdHlsZSkge1xuICAgICAgcHJvcHMuc3R5bGUgPSBwcm9wcy5zdHlsZVxuICAgICAgICA/IHsgLi4uKHByb3BzLnN0eWxlIHx8IHt9KSwgLi4uKHN0eWxlIHx8IHt9KSB9XG4gICAgICAgIDogc3R5bGVcbiAgICB9XG5cbiAgICBpZiAoY2xhc3NOYW1lKSB7XG4gICAgICBwcm9wcy5jbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWVcbiAgICAgICAgPyBwcm9wcy5jbGFzc05hbWUgKyAnICcgKyBjbGFzc05hbWVcbiAgICAgICAgOiBjbGFzc05hbWVcbiAgICB9XG5cbiAgICBpZiAocHJvcHMuY2xhc3NOYW1lID09PSAnJykge1xuICAgICAgZGVsZXRlIHByb3BzLmNsYXNzTmFtZVxuICAgIH1cblxuICAgIHJldHVybiBwcm9wc1xuICB9LCB7fSlcbn1cblxuZnVuY3Rpb24gaGFuZGxlUHJvcEdldHRlcihwcmV2UHJvcHMsIHVzZXJQcm9wcywgbWV0YSkge1xuICAvLyBIYW5kbGUgYSBsYW1iZGEsIHBhc3MgaXQgdGhlIHByZXZpb3VzIHByb3BzXG4gIGlmICh0eXBlb2YgdXNlclByb3BzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGhhbmRsZVByb3BHZXR0ZXIoe30sIHVzZXJQcm9wcyhwcmV2UHJvcHMsIG1ldGEpKVxuICB9XG5cbiAgLy8gSGFuZGxlIGFuIGFycmF5LCBtZXJnZSBlYWNoIGl0ZW0gYXMgc2VwYXJhdGUgcHJvcHNcbiAgaWYgKEFycmF5LmlzQXJyYXkodXNlclByb3BzKSkge1xuICAgIHJldHVybiBtZXJnZVByb3BzKHByZXZQcm9wcywgLi4udXNlclByb3BzKVxuICB9XG5cbiAgLy8gSGFuZGxlIGFuIG9iamVjdCBieSBkZWZhdWx0LCBtZXJnZSB0aGUgdHdvIG9iamVjdHNcbiAgcmV0dXJuIG1lcmdlUHJvcHMocHJldlByb3BzLCB1c2VyUHJvcHMpXG59XG5cbmV4cG9ydCBjb25zdCBtYWtlUHJvcEdldHRlciA9IChob29rcywgbWV0YSA9IHt9KSA9PiB7XG4gIHJldHVybiAodXNlclByb3BzID0ge30pID0+XG4gICAgWy4uLmhvb2tzLCB1c2VyUHJvcHNdLnJlZHVjZShcbiAgICAgIChwcmV2LCBuZXh0KSA9PlxuICAgICAgICBoYW5kbGVQcm9wR2V0dGVyKHByZXYsIG5leHQsIHtcbiAgICAgICAgICAuLi5tZXRhLFxuICAgICAgICAgIHVzZXJQcm9wcyxcbiAgICAgICAgfSksXG4gICAgICB7fVxuICAgIClcbn1cblxuZXhwb3J0IGNvbnN0IHJlZHVjZUhvb2tzID0gKGhvb2tzLCBpbml0aWFsLCBtZXRhID0ge30pID0+XG4gIGhvb2tzLnJlZHVjZSgocHJldiwgbmV4dCkgPT4ge1xuICAgIGNvbnN0IG5leHRWYWx1ZSA9IG5leHQocHJldiwgbWV0YSlcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaWYgKHR5cGVvZiBuZXh0VmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnNvbGUuaW5mbyhuZXh0KVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ1JlYWN0IFRhYmxlOiBBIHJlZHVjZXIgaG9vayDimJ3vuI8ganVzdCByZXR1cm5lZCB1bmRlZmluZWQhIFRoaXMgaXMgbm90IGFsbG93ZWQuJ1xuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXh0VmFsdWVcbiAgfSwgaW5pdGlhbClcblxuZXhwb3J0IGNvbnN0IGxvb3BIb29rcyA9IChob29rcywgbWV0YSA9IHt9KSA9PlxuICBob29rcy5mb3JFYWNoKGhvb2sgPT4ge1xuICAgIGNvbnN0IG5leHRWYWx1ZSA9IGhvb2sobWV0YSlcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaWYgKHR5cGVvZiBuZXh0VmFsdWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnNvbGUuaW5mbyhob29rLCBuZXh0VmFsdWUpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnUmVhY3QgVGFibGU6IEEgbG9vcC10eXBlIGhvb2sg4pid77iPIGp1c3QgcmV0dXJuZWQgYSB2YWx1ZSEgVGhpcyBpcyBub3QgYWxsb3dlZC4nXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9XG4gIH0pXG5cbmV4cG9ydCBmdW5jdGlvbiBlbnN1cmVQbHVnaW5PcmRlcihwbHVnaW5zLCBiZWZvcmVzLCBwbHVnaW5OYW1lLCBhZnRlcnMpIHtcbiAgY29uc3QgcGx1Z2luSW5kZXggPSBwbHVnaW5zLmZpbmRJbmRleChcbiAgICBwbHVnaW4gPT4gcGx1Z2luLnBsdWdpbk5hbWUgPT09IHBsdWdpbk5hbWVcbiAgKVxuXG4gIGlmIChwbHVnaW5JbmRleCA9PT0gLTEpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgcGx1Z2luIFwiJHtwbHVnaW5OYW1lfVwiIHdhcyBub3QgZm91bmQgaW4gdGhlIHBsdWdpbiBsaXN0IVxuVGhpcyB1c3VhbGx5IG1lYW5zIHlvdSBuZWVkIHRvIG5lZWQgdG8gbmFtZSB5b3VyIHBsdWdpbiBob29rIGJ5IHNldHRpbmcgdGhlICdwbHVnaW5OYW1lJyBwcm9wZXJ0eSBvZiB0aGUgaG9vayBmdW5jdGlvbiwgZWc6XG5cbiAgJHtwbHVnaW5OYW1lfS5wbHVnaW5OYW1lID0gJyR7cGx1Z2luTmFtZX0nXG5gKVxuICAgIH1cbiAgfVxuXG4gIGJlZm9yZXMuZm9yRWFjaChiZWZvcmUgPT4ge1xuICAgIGNvbnN0IGJlZm9yZUluZGV4ID0gcGx1Z2lucy5maW5kSW5kZXgoXG4gICAgICBwbHVnaW4gPT4gcGx1Z2luLnBsdWdpbk5hbWUgPT09IGJlZm9yZVxuICAgIClcbiAgICBpZiAoYmVmb3JlSW5kZXggPiAtMSAmJiBiZWZvcmVJbmRleCA+IHBsdWdpbkluZGV4KSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYFJlYWN0IFRhYmxlOiBUaGUgJHtwbHVnaW5OYW1lfSBwbHVnaW4gaG9vayBtdXN0IGJlIHBsYWNlZCBhZnRlciB0aGUgJHtiZWZvcmV9IHBsdWdpbiBob29rIWBcbiAgICAgICAgKVxuICAgICAgfVxuICAgIH1cbiAgfSlcblxuICBhZnRlcnMuZm9yRWFjaChhZnRlciA9PiB7XG4gICAgY29uc3QgYWZ0ZXJJbmRleCA9IHBsdWdpbnMuZmluZEluZGV4KHBsdWdpbiA9PiBwbHVnaW4ucGx1Z2luTmFtZSA9PT0gYWZ0ZXIpXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmIChhZnRlckluZGV4ID4gLTEgJiYgYWZ0ZXJJbmRleCA8IHBsdWdpbkluZGV4KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgUmVhY3QgVGFibGU6IFRoZSAke3BsdWdpbk5hbWV9IHBsdWdpbiBob29rIG11c3QgYmUgcGxhY2VkIGJlZm9yZSB0aGUgJHthZnRlcn0gcGx1Z2luIGhvb2shYFxuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZnVuY3Rpb25hbFVwZGF0ZSh1cGRhdGVyLCBvbGQpIHtcbiAgcmV0dXJuIHR5cGVvZiB1cGRhdGVyID09PSAnZnVuY3Rpb24nID8gdXBkYXRlcihvbGQpIDogdXBkYXRlclxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlR2V0TGF0ZXN0KG9iaikge1xuICBjb25zdCByZWYgPSBSZWFjdC51c2VSZWYoKVxuICByZWYuY3VycmVudCA9IG9ialxuXG4gIHJldHVybiBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiByZWYuY3VycmVudCwgW10pXG59XG5cbi8vIFNTUiBoYXMgaXNzdWVzIHdpdGggdXNlTGF5b3V0RWZmZWN0IHN0aWxsLCBzbyB1c2UgdXNlRWZmZWN0IGR1cmluZyBTU1JcbmV4cG9ydCBjb25zdCBzYWZlVXNlTGF5b3V0RWZmZWN0ID1cbiAgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyA/IFJlYWN0LnVzZUxheW91dEVmZmVjdCA6IFJlYWN0LnVzZUVmZmVjdFxuXG5leHBvcnQgZnVuY3Rpb24gdXNlTW91bnRlZExheW91dEVmZmVjdChmbiwgZGVwcykge1xuICBjb25zdCBtb3VudGVkUmVmID0gUmVhY3QudXNlUmVmKGZhbHNlKVxuXG4gIHNhZmVVc2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChtb3VudGVkUmVmLmN1cnJlbnQpIHtcbiAgICAgIGZuKClcbiAgICB9XG4gICAgbW91bnRlZFJlZi5jdXJyZW50ID0gdHJ1ZVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICB9LCBkZXBzKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlQXN5bmNEZWJvdW5jZShkZWZhdWx0Rm4sIGRlZmF1bHRXYWl0ID0gMCkge1xuICBjb25zdCBkZWJvdW5jZVJlZiA9IFJlYWN0LnVzZVJlZih7fSlcbiAgZGVib3VuY2VSZWYuY3VycmVudC5kZWZhdWx0Rm4gPSBkZWZhdWx0Rm5cbiAgZGVib3VuY2VSZWYuY3VycmVudC5kZWZhdWx0V2FpdCA9IGRlZmF1bHRXYWl0XG5cbiAgY29uc3QgZGVib3VuY2UgPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICBhc3luYyAoXG4gICAgICBmbiA9IGRlYm91bmNlUmVmLmN1cnJlbnQuZGVmYXVsdEZuLFxuICAgICAgd2FpdCA9IGRlYm91bmNlUmVmLmN1cnJlbnQuZGVmYXVsdFdhaXRcbiAgICApID0+IHtcbiAgICAgIGlmICghZGVib3VuY2VSZWYuY3VycmVudC5wcm9taXNlKSB7XG4gICAgICAgIGRlYm91bmNlUmVmLmN1cnJlbnQucHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICBkZWJvdW5jZVJlZi5jdXJyZW50LnJlc29sdmUgPSByZXNvbHZlXG4gICAgICAgICAgZGVib3VuY2VSZWYuY3VycmVudC5yZWplY3QgPSByZWplY3RcbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgaWYgKGRlYm91bmNlUmVmLmN1cnJlbnQudGltZW91dCkge1xuICAgICAgICBjbGVhclRpbWVvdXQoZGVib3VuY2VSZWYuY3VycmVudC50aW1lb3V0KVxuICAgICAgfVxuXG4gICAgICBkZWJvdW5jZVJlZi5jdXJyZW50LnRpbWVvdXQgPSBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgICAgZGVsZXRlIGRlYm91bmNlUmVmLmN1cnJlbnQudGltZW91dFxuICAgICAgICB0cnkge1xuICAgICAgICAgIGRlYm91bmNlUmVmLmN1cnJlbnQucmVzb2x2ZShhd2FpdCBmbigpKVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBkZWJvdW5jZVJlZi5jdXJyZW50LnJlamVjdChlcnIpXG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgZGVsZXRlIGRlYm91bmNlUmVmLmN1cnJlbnQucHJvbWlzZVxuICAgICAgICB9XG4gICAgICB9LCB3YWl0KVxuXG4gICAgICByZXR1cm4gZGVib3VuY2VSZWYuY3VycmVudC5wcm9taXNlXG4gICAgfSxcbiAgICBbXVxuICApXG5cbiAgcmV0dXJuIGRlYm91bmNlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VDb25zdW1lSG9va0dldHRlcihob29rcywgaG9va05hbWUpIHtcbiAgY29uc3QgZ2V0dGVyID0gdXNlR2V0TGF0ZXN0KGhvb2tzW2hvb2tOYW1lXSlcbiAgaG9va3NbaG9va05hbWVdID0gdW5kZWZpbmVkXG4gIHJldHVybiBnZXR0ZXJcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VSZW5kZXJlcihpbnN0YW5jZSwgY29sdW1uLCBtZXRhID0ge30pIHtcbiAgcmV0dXJuICh0eXBlLCB1c2VyUHJvcHMgPSB7fSkgPT4ge1xuICAgIGNvbnN0IENvbXAgPSB0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgPyBjb2x1bW5bdHlwZV0gOiB0eXBlXG5cbiAgICBpZiAodHlwZW9mIENvbXAgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IocmVuZGVyRXJyKVxuICAgIH1cblxuICAgIHJldHVybiBmbGV4UmVuZGVyKENvbXAsIHsgLi4uaW5zdGFuY2UsIGNvbHVtbiwgLi4ubWV0YSwgLi4udXNlclByb3BzIH0pXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZsZXhSZW5kZXIoQ29tcCwgcHJvcHMpIHtcbiAgcmV0dXJuIGlzUmVhY3RDb21wb25lbnQoQ29tcCkgPyA8Q29tcCB7Li4ucHJvcHN9IC8+IDogQ29tcFxufVxuXG5mdW5jdGlvbiBpc0NsYXNzQ29tcG9uZW50KGNvbXBvbmVudCkge1xuICByZXR1cm4gKFxuICAgIHR5cGVvZiBjb21wb25lbnQgPT09ICdmdW5jdGlvbicgJiZcbiAgICAhISgoKSA9PiB7XG4gICAgICBsZXQgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoY29tcG9uZW50KVxuICAgICAgcmV0dXJuIHByb3RvLnByb3RvdHlwZSAmJiBwcm90by5wcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudFxuICAgIH0pKClcbiAgKVxufVxuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uQ29tcG9uZW50KGNvbXBvbmVudCkge1xuICByZXR1cm4gdHlwZW9mIGNvbXBvbmVudCA9PT0gJ2Z1bmN0aW9uJ1xufVxuXG5mdW5jdGlvbiBpc0V4b3RpY0NvbXBvbmVudChjb21wb25lbnQpIHtcbiAgcmV0dXJuIChcbiAgICB0eXBlb2YgY29tcG9uZW50ID09PSAnb2JqZWN0JyAmJlxuICAgIHR5cGVvZiBjb21wb25lbnQuJCR0eXBlb2YgPT09ICdzeW1ib2wnICYmXG4gICAgWydyZWFjdC5tZW1vJywgJ3JlYWN0LmZvcndhcmRfcmVmJ10uaW5jbHVkZXMoY29tcG9uZW50LiQkdHlwZW9mLmRlc2NyaXB0aW9uKVxuICApXG59XG5cbmZ1bmN0aW9uIGlzUmVhY3RDb21wb25lbnQoY29tcG9uZW50KSB7XG4gIHJldHVybiAoXG4gICAgaXNDbGFzc0NvbXBvbmVudChjb21wb25lbnQpIHx8XG4gICAgaXNGdW5jdGlvbkNvbXBvbmVudChjb21wb25lbnQpIHx8XG4gICAgaXNFeG90aWNDb21wb25lbnQoY29tcG9uZW50KVxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBkZWZhdWx0Q29sdW1uIH0gZnJvbSAnLi9wdWJsaWNVdGlscydcblxuZXhwb3J0ICogZnJvbSAnLi9wdWJsaWNVdGlscydcblxuLy8gRmluZCB0aGUgZGVwdGggb2YgdGhlIGNvbHVtbnNcbmV4cG9ydCBmdW5jdGlvbiBmaW5kTWF4RGVwdGgoY29sdW1ucywgZGVwdGggPSAwKSB7XG4gIHJldHVybiBjb2x1bW5zLnJlZHVjZSgocHJldiwgY3VycikgPT4ge1xuICAgIGlmIChjdXJyLmNvbHVtbnMpIHtcbiAgICAgIHJldHVybiBNYXRoLm1heChwcmV2LCBmaW5kTWF4RGVwdGgoY3Vyci5jb2x1bW5zLCBkZXB0aCArIDEpKVxuICAgIH1cbiAgICByZXR1cm4gZGVwdGhcbiAgfSwgMClcbn1cblxuZnVuY3Rpb24gZGVjb3JhdGVDb2x1bW4oY29sdW1uLCB1c2VyRGVmYXVsdENvbHVtbiwgcGFyZW50LCBkZXB0aCwgaW5kZXgpIHtcbiAgLy8gQXBwbHkgdGhlIHVzZXJEZWZhdWx0Q29sdW1uXG4gIGNvbHVtbiA9IHsgLi4uZGVmYXVsdENvbHVtbiwgLi4udXNlckRlZmF1bHRDb2x1bW4sIC4uLmNvbHVtbiB9XG5cbiAgLy8gRmlyc3QgY2hlY2sgZm9yIHN0cmluZyBhY2Nlc3NvclxuICBsZXQgeyBpZCwgYWNjZXNzb3IsIEhlYWRlciB9ID0gY29sdW1uXG5cbiAgaWYgKHR5cGVvZiBhY2Nlc3NvciA9PT0gJ3N0cmluZycpIHtcbiAgICBpZCA9IGlkIHx8IGFjY2Vzc29yXG4gICAgY29uc3QgYWNjZXNzb3JQYXRoID0gYWNjZXNzb3Iuc3BsaXQoJy4nKVxuICAgIGFjY2Vzc29yID0gcm93ID0+IGdldEJ5KHJvdywgYWNjZXNzb3JQYXRoKVxuICB9XG5cbiAgaWYgKCFpZCAmJiB0eXBlb2YgSGVhZGVyID09PSAnc3RyaW5nJyAmJiBIZWFkZXIpIHtcbiAgICBpZCA9IEhlYWRlclxuICB9XG5cbiAgaWYgKCFpZCAmJiBjb2x1bW4uY29sdW1ucykge1xuICAgIGNvbnNvbGUuZXJyb3IoY29sdW1uKVxuICAgIHRocm93IG5ldyBFcnJvcignQSBjb2x1bW4gSUQgKG9yIHVuaXF1ZSBcIkhlYWRlclwiIHZhbHVlKSBpcyByZXF1aXJlZCEnKVxuICB9XG5cbiAgaWYgKCFpZCkge1xuICAgIGNvbnNvbGUuZXJyb3IoY29sdW1uKVxuICAgIHRocm93IG5ldyBFcnJvcignQSBjb2x1bW4gSUQgKG9yIHN0cmluZyBhY2Nlc3NvcikgaXMgcmVxdWlyZWQhJylcbiAgfVxuXG4gIGNvbHVtbiA9IHtcbiAgICAvLyBNYWtlIHN1cmUgdGhlcmUgaXMgYSBmYWxsYmFjayBoZWFkZXIsIGp1c3QgaW4gY2FzZVxuICAgIEhlYWRlcjogKCkgPT4gPD4mbmJzcDs8Lz4sXG4gICAgRm9vdGVyOiAoKSA9PiA8PiZuYnNwOzwvPixcbiAgICAuLi5jb2x1bW4sXG4gICAgLy8gTWF0ZXJpYWxpemUgYW5kIG92ZXJyaWRlIHRoaXMgc3R1ZmZcbiAgICBpZCxcbiAgICBhY2Nlc3NvcixcbiAgICBwYXJlbnQsXG4gICAgZGVwdGgsXG4gICAgaW5kZXgsXG4gIH1cblxuICByZXR1cm4gY29sdW1uXG59XG5cbi8vIEJ1aWxkIHRoZSB2aXNpYmxlIGNvbHVtbnMsIGhlYWRlcnMgYW5kIGZsYXQgY29sdW1uIGxpc3RcbmV4cG9ydCBmdW5jdGlvbiBkZWNvcmF0ZUNvbHVtblRyZWUoY29sdW1ucywgZGVmYXVsdENvbHVtbiwgcGFyZW50LCBkZXB0aCA9IDApIHtcbiAgcmV0dXJuIGNvbHVtbnMubWFwKChjb2x1bW4sIGNvbHVtbkluZGV4KSA9PiB7XG4gICAgY29sdW1uID0gZGVjb3JhdGVDb2x1bW4oY29sdW1uLCBkZWZhdWx0Q29sdW1uLCBwYXJlbnQsIGRlcHRoLCBjb2x1bW5JbmRleClcbiAgICBpZiAoY29sdW1uLmNvbHVtbnMpIHtcbiAgICAgIGNvbHVtbi5jb2x1bW5zID0gZGVjb3JhdGVDb2x1bW5UcmVlKFxuICAgICAgICBjb2x1bW4uY29sdW1ucyxcbiAgICAgICAgZGVmYXVsdENvbHVtbixcbiAgICAgICAgY29sdW1uLFxuICAgICAgICBkZXB0aCArIDFcbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIGNvbHVtblxuICB9KVxufVxuXG4vLyBCdWlsZCB0aGUgaGVhZGVyIGdyb3VwcyBmcm9tIHRoZSBib3R0b20gdXBcbmV4cG9ydCBmdW5jdGlvbiBtYWtlSGVhZGVyR3JvdXBzKGZsYXRDb2x1bW5zLCBkZWZhdWx0Q29sdW1uKSB7XG4gIGNvbnN0IGhlYWRlckdyb3VwcyA9IFtdXG5cbiAgLy8gQnVpbGQgZWFjaCBoZWFkZXIgZ3JvdXAgZnJvbSB0aGUgYm90dG9tIHVwXG4gIGNvbnN0IGJ1aWxkR3JvdXAgPSAoY29sdW1ucywgZGVwdGgpID0+IHtcbiAgICBjb25zdCBoZWFkZXJHcm91cCA9IHtcbiAgICAgIGhlYWRlcnM6IFtdLFxuICAgIH1cblxuICAgIGNvbnN0IHBhcmVudENvbHVtbnMgPSBbXVxuXG4gICAgLy8gRG8gYW55IG9mIHRoZXNlIGNvbHVtbnMgaGF2ZSBwYXJlbnRzP1xuICAgIGNvbnN0IGhhc1BhcmVudHMgPSBjb2x1bW5zLnNvbWUoY29sID0+IGNvbC5wYXJlbnQpXG5cbiAgICBjb2x1bW5zLmZvckVhY2goY29sdW1uID0+IHtcbiAgICAgIC8vIEFyZSB3ZSB0aGUgZmlyc3QgY29sdW1uIGluIHRoaXMgZ3JvdXA/XG4gICAgICBjb25zdCBpc0ZpcnN0ID0gIXBhcmVudENvbHVtbnMubGVuZ3RoXG5cbiAgICAgIC8vIFdoYXQgaXMgdGhlIGxhdGVzdCAobGFzdCkgcGFyZW50IGNvbHVtbj9cbiAgICAgIGxldCBsYXRlc3RQYXJlbnRDb2x1bW4gPSBbLi4ucGFyZW50Q29sdW1uc10ucmV2ZXJzZSgpWzBdXG5cbiAgICAgIC8vIElmIHRoZSBjb2x1bW4gaGFzIGEgcGFyZW50LCBhZGQgaXQgaWYgbmVjZXNzYXJ5XG4gICAgICBpZiAoY29sdW1uLnBhcmVudCkge1xuICAgICAgICBjb25zdCBzaW1pbGFyUGFyZW50Q29sdW1ucyA9IHBhcmVudENvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgIGQgPT4gZC5vcmlnaW5hbElkID09PSBjb2x1bW4ucGFyZW50LmlkXG4gICAgICAgIClcbiAgICAgICAgaWYgKGlzRmlyc3QgfHwgbGF0ZXN0UGFyZW50Q29sdW1uLm9yaWdpbmFsSWQgIT09IGNvbHVtbi5wYXJlbnQuaWQpIHtcbiAgICAgICAgICBwYXJlbnRDb2x1bW5zLnB1c2goe1xuICAgICAgICAgICAgLi4uY29sdW1uLnBhcmVudCxcbiAgICAgICAgICAgIG9yaWdpbmFsSWQ6IGNvbHVtbi5wYXJlbnQuaWQsXG4gICAgICAgICAgICBpZDogW2NvbHVtbi5wYXJlbnQuaWQsIHNpbWlsYXJQYXJlbnRDb2x1bW5zLmxlbmd0aF0uam9pbignXycpLFxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaGFzUGFyZW50cykge1xuICAgICAgICAvLyBJZiBvdGhlciBjb2x1bW5zIGhhdmUgcGFyZW50cywgd2UnbGwgbmVlZCB0byBhZGQgYSBwbGFjZSBob2xkZXIgaWYgbmVjZXNzYXJ5XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsSWQgPSBbY29sdW1uLmlkLCAncGxhY2Vob2xkZXInXS5qb2luKCdfJylcbiAgICAgICAgY29uc3Qgc2ltaWxhclBhcmVudENvbHVtbnMgPSBwYXJlbnRDb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICBkID0+IGQub3JpZ2luYWxJZCA9PT0gb3JpZ2luYWxJZFxuICAgICAgICApXG4gICAgICAgIGNvbnN0IHBsYWNlaG9sZGVyQ29sdW1uID0gZGVjb3JhdGVDb2x1bW4oXG4gICAgICAgICAge1xuICAgICAgICAgICAgb3JpZ2luYWxJZCxcbiAgICAgICAgICAgIGlkOiBbY29sdW1uLmlkLCAncGxhY2Vob2xkZXInLCBzaW1pbGFyUGFyZW50Q29sdW1ucy5sZW5ndGhdLmpvaW4oXG4gICAgICAgICAgICAgICdfJ1xuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyT2Y6IGNvbHVtbixcbiAgICAgICAgICB9LFxuICAgICAgICAgIGRlZmF1bHRDb2x1bW5cbiAgICAgICAgKVxuICAgICAgICBpZiAoXG4gICAgICAgICAgaXNGaXJzdCB8fFxuICAgICAgICAgIGxhdGVzdFBhcmVudENvbHVtbi5vcmlnaW5hbElkICE9PSBwbGFjZWhvbGRlckNvbHVtbi5vcmlnaW5hbElkXG4gICAgICAgICkge1xuICAgICAgICAgIHBhcmVudENvbHVtbnMucHVzaChwbGFjZWhvbGRlckNvbHVtbilcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBFc3RhYmxpc2ggdGhlIG5ldyBoZWFkZXJzW10gcmVsYXRpb25zaGlwIG9uIHRoZSBwYXJlbnRcbiAgICAgIGlmIChjb2x1bW4ucGFyZW50IHx8IGhhc1BhcmVudHMpIHtcbiAgICAgICAgbGF0ZXN0UGFyZW50Q29sdW1uID0gWy4uLnBhcmVudENvbHVtbnNdLnJldmVyc2UoKVswXVxuICAgICAgICBsYXRlc3RQYXJlbnRDb2x1bW4uaGVhZGVycyA9IGxhdGVzdFBhcmVudENvbHVtbi5oZWFkZXJzIHx8IFtdXG4gICAgICAgIGlmICghbGF0ZXN0UGFyZW50Q29sdW1uLmhlYWRlcnMuaW5jbHVkZXMoY29sdW1uKSkge1xuICAgICAgICAgIGxhdGVzdFBhcmVudENvbHVtbi5oZWFkZXJzLnB1c2goY29sdW1uKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbHVtbi50b3RhbEhlYWRlckNvdW50ID0gY29sdW1uLmhlYWRlcnNcbiAgICAgICAgPyBjb2x1bW4uaGVhZGVycy5yZWR1Y2UoXG4gICAgICAgICAgICAoc3VtLCBoZWFkZXIpID0+IHN1bSArIGhlYWRlci50b3RhbEhlYWRlckNvdW50LFxuICAgICAgICAgICAgMFxuICAgICAgICAgIClcbiAgICAgICAgOiAxIC8vIExlYWYgbm9kZSBjb2x1bW5zIHRha2UgdXAgYXQgbGVhc3Qgb25lIGNvdW50XG4gICAgICBoZWFkZXJHcm91cC5oZWFkZXJzLnB1c2goY29sdW1uKVxuICAgIH0pXG5cbiAgICBoZWFkZXJHcm91cHMucHVzaChoZWFkZXJHcm91cClcblxuICAgIGlmIChwYXJlbnRDb2x1bW5zLmxlbmd0aCkge1xuICAgICAgYnVpbGRHcm91cChwYXJlbnRDb2x1bW5zLCBkZXB0aCArIDEpXG4gICAgfVxuICB9XG5cbiAgYnVpbGRHcm91cChmbGF0Q29sdW1ucywgMClcblxuICByZXR1cm4gaGVhZGVyR3JvdXBzLnJldmVyc2UoKVxufVxuXG5jb25zdCBwYXRoT2JqQ2FjaGUgPSBuZXcgTWFwKClcblxuZXhwb3J0IGZ1bmN0aW9uIGdldEJ5KG9iaiwgcGF0aCwgZGVmKSB7XG4gIGlmICghcGF0aCkge1xuICAgIHJldHVybiBvYmpcbiAgfVxuICBjb25zdCBjYWNoZUtleSA9IHR5cGVvZiBwYXRoID09PSAnZnVuY3Rpb24nID8gcGF0aCA6IEpTT04uc3RyaW5naWZ5KHBhdGgpXG5cbiAgY29uc3QgcGF0aE9iaiA9XG4gICAgcGF0aE9iakNhY2hlLmdldChjYWNoZUtleSkgfHxcbiAgICAoKCkgPT4ge1xuICAgICAgY29uc3QgcGF0aE9iaiA9IG1ha2VQYXRoQXJyYXkocGF0aClcbiAgICAgIHBhdGhPYmpDYWNoZS5zZXQoY2FjaGVLZXksIHBhdGhPYmopXG4gICAgICByZXR1cm4gcGF0aE9ialxuICAgIH0pKClcblxuICBsZXQgdmFsXG5cbiAgdHJ5IHtcbiAgICB2YWwgPSBwYXRoT2JqLnJlZHVjZSgoY3Vyc29yLCBwYXRoUGFydCkgPT4gY3Vyc29yW3BhdGhQYXJ0XSwgb2JqKVxuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gY29udGludWUgcmVnYXJkbGVzcyBvZiBlcnJvclxuICB9XG4gIHJldHVybiB0eXBlb2YgdmFsICE9PSAndW5kZWZpbmVkJyA/IHZhbCA6IGRlZlxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Rmlyc3REZWZpbmVkKC4uLmFyZ3MpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgaWYgKHR5cGVvZiBhcmdzW2ldICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIGFyZ3NbaV1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnREaW1lbnNpb25zKGVsZW1lbnQpIHtcbiAgY29uc3QgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgY29uc3Qgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KVxuICBjb25zdCBtYXJnaW5zID0ge1xuICAgIGxlZnQ6IHBhcnNlSW50KHN0eWxlLm1hcmdpbkxlZnQpLFxuICAgIHJpZ2h0OiBwYXJzZUludChzdHlsZS5tYXJnaW5SaWdodCksXG4gIH1cbiAgY29uc3QgcGFkZGluZyA9IHtcbiAgICBsZWZ0OiBwYXJzZUludChzdHlsZS5wYWRkaW5nTGVmdCksXG4gICAgcmlnaHQ6IHBhcnNlSW50KHN0eWxlLnBhZGRpbmdSaWdodCksXG4gIH1cbiAgcmV0dXJuIHtcbiAgICBsZWZ0OiBNYXRoLmNlaWwocmVjdC5sZWZ0KSxcbiAgICB3aWR0aDogTWF0aC5jZWlsKHJlY3Qud2lkdGgpLFxuICAgIG91dGVyV2lkdGg6IE1hdGguY2VpbChcbiAgICAgIHJlY3Qud2lkdGggKyBtYXJnaW5zLmxlZnQgKyBtYXJnaW5zLnJpZ2h0ICsgcGFkZGluZy5sZWZ0ICsgcGFkZGluZy5yaWdodFxuICAgICksXG4gICAgbWFyZ2luTGVmdDogbWFyZ2lucy5sZWZ0LFxuICAgIG1hcmdpblJpZ2h0OiBtYXJnaW5zLnJpZ2h0LFxuICAgIHBhZGRpbmdMZWZ0OiBwYWRkaW5nLmxlZnQsXG4gICAgcGFkZGluZ1JpZ2h0OiBwYWRkaW5nLnJpZ2h0LFxuICAgIHNjcm9sbFdpZHRoOiBlbGVtZW50LnNjcm9sbFdpZHRoLFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uKGEpIHtcbiAgaWYgKHR5cGVvZiBhID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGFcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZmxhdHRlbkJ5KGNvbHVtbnMsIGNoaWxkS2V5KSB7XG4gIGNvbnN0IGZsYXRDb2x1bW5zID0gW11cblxuICBjb25zdCByZWN1cnNlID0gY29sdW1ucyA9PiB7XG4gICAgY29sdW1ucy5mb3JFYWNoKGQgPT4ge1xuICAgICAgaWYgKCFkW2NoaWxkS2V5XSkge1xuICAgICAgICBmbGF0Q29sdW1ucy5wdXNoKGQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZWN1cnNlKGRbY2hpbGRLZXldKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICByZWN1cnNlKGNvbHVtbnMpXG5cbiAgcmV0dXJuIGZsYXRDb2x1bW5zXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBleHBhbmRSb3dzKFxuICByb3dzLFxuICB7IG1hbnVhbEV4cGFuZGVkS2V5LCBleHBhbmRlZCwgZXhwYW5kU3ViUm93cyA9IHRydWUgfVxuKSB7XG4gIGNvbnN0IGV4cGFuZGVkUm93cyA9IFtdXG5cbiAgY29uc3QgaGFuZGxlUm93ID0gcm93ID0+IHtcbiAgICByb3cuaXNFeHBhbmRlZCA9XG4gICAgICAocm93Lm9yaWdpbmFsICYmIHJvdy5vcmlnaW5hbFttYW51YWxFeHBhbmRlZEtleV0pIHx8IGV4cGFuZGVkW3Jvdy5pZF1cblxuICAgIHJvdy5jYW5FeHBhbmQgPSByb3cuc3ViUm93cyAmJiAhIXJvdy5zdWJSb3dzLmxlbmd0aFxuXG4gICAgZXhwYW5kZWRSb3dzLnB1c2gocm93KVxuXG4gICAgaWYgKGV4cGFuZFN1YlJvd3MgJiYgcm93LnN1YlJvd3MgJiYgcm93LnN1YlJvd3MubGVuZ3RoICYmIHJvdy5pc0V4cGFuZGVkKSB7XG4gICAgICByb3cuc3ViUm93cy5mb3JFYWNoKGhhbmRsZVJvdylcbiAgICB9XG4gIH1cblxuICByb3dzLmZvckVhY2goaGFuZGxlUm93KVxuXG4gIHJldHVybiBleHBhbmRlZFJvd3Ncbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEZpbHRlck1ldGhvZChmaWx0ZXIsIHVzZXJGaWx0ZXJUeXBlcywgZmlsdGVyVHlwZXMpIHtcbiAgcmV0dXJuIChcbiAgICBpc0Z1bmN0aW9uKGZpbHRlcikgfHxcbiAgICB1c2VyRmlsdGVyVHlwZXNbZmlsdGVyXSB8fFxuICAgIGZpbHRlclR5cGVzW2ZpbHRlcl0gfHxcbiAgICBmaWx0ZXJUeXBlcy50ZXh0XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNob3VsZEF1dG9SZW1vdmVGaWx0ZXIoYXV0b1JlbW92ZSwgdmFsdWUpIHtcbiAgcmV0dXJuIGF1dG9SZW1vdmUgPyBhdXRvUmVtb3ZlKHZhbHVlKSA6IHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCdcbn1cblxuLy9cblxuY29uc3QgcmVPcGVuQnJhY2tldCA9IC9cXFsvZ1xuY29uc3QgcmVDbG9zZUJyYWNrZXQgPSAvXFxdL2dcblxuZnVuY3Rpb24gbWFrZVBhdGhBcnJheShvYmopIHtcbiAgcmV0dXJuIChcbiAgICBmbGF0dGVuRGVlcChvYmopXG4gICAgICAvLyByZW1vdmUgYWxsIHBlcmlvZHMgaW4gcGFydHNcbiAgICAgIC5tYXAoZCA9PiBTdHJpbmcoZCkucmVwbGFjZSgnLicsICdfJykpXG4gICAgICAvLyBqb2luIHBhcnRzIHVzaW5nIHBlcmlvZFxuICAgICAgLmpvaW4oJy4nKVxuICAgICAgLy8gcmVwbGFjZSBicmFja2V0cyB3aXRoIHBlcmlvZHNcbiAgICAgIC5yZXBsYWNlKHJlT3BlbkJyYWNrZXQsICcuJylcbiAgICAgIC5yZXBsYWNlKHJlQ2xvc2VCcmFja2V0LCAnJylcbiAgICAgIC8vIHNwbGl0IGl0IGJhY2sgb3V0IG9uIHBlcmlvZHNcbiAgICAgIC5zcGxpdCgnLicpXG4gIClcbn1cblxuZnVuY3Rpb24gZmxhdHRlbkRlZXAoYXJyLCBuZXdBcnIgPSBbXSkge1xuICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyKSkge1xuICAgIG5ld0Fyci5wdXNoKGFycilcbiAgfSBlbHNlIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgZmxhdHRlbkRlZXAoYXJyW2ldLCBuZXdBcnIpXG4gICAgfVxuICB9XG4gIHJldHVybiBuZXdBcnJcbn1cbiIsImNvbnN0IGRlZmF1bHRDZWxscyA9IGNlbGwgPT4gY2VsbC5maWx0ZXIoZCA9PiBkLmNvbHVtbi5pc1Zpc2libGUpXG5cbmNvbnN0IGRlZmF1bHRHZXRIZWFkZXJQcm9wcyA9IChwcm9wcywgeyBjb2x1bW4gfSkgPT4gKHtcbiAga2V5OiBgaGVhZGVyXyR7Y29sdW1uLmlkfWAsXG4gIGNvbFNwYW46IGNvbHVtbi50b3RhbFZpc2libGVIZWFkZXJDb3VudCxcbiAgLi4ucHJvcHMsXG59KVxuXG5jb25zdCBkZWZhdWx0R2V0Rm9vdGVyUHJvcHMgPSAocHJvcHMsIHsgY29sdW1uIH0pID0+ICh7XG4gIGtleTogYGZvb3Rlcl8ke2NvbHVtbi5pZH1gLFxuICBjb2xTcGFuOiBjb2x1bW4udG90YWxWaXNpYmxlSGVhZGVyQ291bnQsXG4gIC4uLnByb3BzLFxufSlcblxuY29uc3QgZGVmYXVsdEdldEhlYWRlckdyb3VwUHJvcHMgPSAocHJvcHMsIHsgaW5kZXggfSkgPT4gKHtcbiAga2V5OiBgaGVhZGVyR3JvdXBfJHtpbmRleH1gLFxuICAuLi5wcm9wcyxcbn0pXG5cbmNvbnN0IGRlZmF1bHRHZXRGb290ZXJHcm91cFByb3BzID0gKHByb3BzLCB7IGluZGV4IH0pID0+ICh7XG4gIGtleTogYGZvb3Rlckdyb3VwXyR7aW5kZXh9YCxcbiAgLi4ucHJvcHMsXG59KVxuXG5jb25zdCBkZWZhdWx0R2V0Um93UHJvcHMgPSAocHJvcHMsIHsgcm93IH0pID0+ICh7XG4gIGtleTogYHJvd18ke3Jvdy5pZH1gLFxuICAuLi5wcm9wcyxcbn0pXG5cbmNvbnN0IGRlZmF1bHRHZXRDZWxsUHJvcHMgPSAocHJvcHMsIHsgY2VsbCB9KSA9PiAoe1xuICAuLi5wcm9wcyxcbiAga2V5OiBgY2VsbF8ke2NlbGwucm93LmlkfV8ke2NlbGwuY29sdW1uLmlkfWAsXG59KVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtYWtlRGVmYXVsdFBsdWdpbkhvb2tzKCkge1xuICByZXR1cm4ge1xuICAgIHVzZU9wdGlvbnM6IFtdLFxuICAgIHN0YXRlUmVkdWNlcnM6IFtdLFxuICAgIHVzZUNvbnRyb2xsZWRTdGF0ZTogW10sXG4gICAgY29sdW1uczogW10sXG4gICAgY29sdW1uc0RlcHM6IFtdLFxuICAgIGZsYXRDb2x1bW5zOiBbXSxcbiAgICBmbGF0Q29sdW1uc0RlcHM6IFtdLFxuICAgIGhlYWRlckdyb3VwczogW10sXG4gICAgaGVhZGVyR3JvdXBzRGVwczogW10sXG4gICAgdXNlSW5zdGFuY2VCZWZvcmVEaW1lbnNpb25zOiBbXSxcbiAgICB1c2VJbnN0YW5jZTogW10sXG4gICAgdXNlUm93czogW10sXG4gICAgY2VsbHM6IFtkZWZhdWx0Q2VsbHNdLFxuICAgIHByZXBhcmVSb3c6IFtdLFxuICAgIGdldFRhYmxlUHJvcHM6IFtdLFxuICAgIGdldFRhYmxlQm9keVByb3BzOiBbXSxcbiAgICBnZXRIZWFkZXJHcm91cFByb3BzOiBbZGVmYXVsdEdldEhlYWRlckdyb3VwUHJvcHNdLFxuICAgIGdldEZvb3Rlckdyb3VwUHJvcHM6IFtkZWZhdWx0R2V0Rm9vdGVyR3JvdXBQcm9wc10sXG4gICAgZ2V0SGVhZGVyUHJvcHM6IFtkZWZhdWx0R2V0SGVhZGVyUHJvcHNdLFxuICAgIGdldEZvb3RlclByb3BzOiBbZGVmYXVsdEdldEZvb3RlclByb3BzXSxcbiAgICBnZXRSb3dQcm9wczogW2RlZmF1bHRHZXRSb3dQcm9wc10sXG4gICAgZ2V0Q2VsbFByb3BzOiBbZGVmYXVsdEdldENlbGxQcm9wc10sXG4gICAgdXNlRmluYWxJbnN0YW5jZTogW10sXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHtcbiAgYWN0aW9ucyxcbiAgZnVuY3Rpb25hbFVwZGF0ZSxcbiAgdXNlR2V0TGF0ZXN0LFxuICB1c2VDb25zdW1lSG9va0dldHRlcixcbiAgbWFrZVByb3BHZXR0ZXIsXG59IGZyb20gJy4uL3V0aWxzJ1xuXG5hY3Rpb25zLnJlc2V0SGlkZGVuQ29sdW1ucyA9ICdyZXNldEhpZGRlbkNvbHVtbnMnXG5hY3Rpb25zLnRvZ2dsZUhpZGVDb2x1bW4gPSAndG9nZ2xlSGlkZUNvbHVtbidcbmFjdGlvbnMuc2V0SGlkZGVuQ29sdW1ucyA9ICdzZXRIaWRkZW5Db2x1bW5zJ1xuYWN0aW9ucy50b2dnbGVIaWRlQWxsQ29sdW1ucyA9ICd0b2dnbGVIaWRlQWxsQ29sdW1ucydcblxuZXhwb3J0IGNvbnN0IHVzZUNvbHVtblZpc2liaWxpdHkgPSBob29rcyA9PiB7XG4gIGhvb2tzLmdldFRvZ2dsZUhpZGRlblByb3BzID0gW2RlZmF1bHRHZXRUb2dnbGVIaWRkZW5Qcm9wc11cbiAgaG9va3MuZ2V0VG9nZ2xlSGlkZUFsbENvbHVtbnNQcm9wcyA9IFtkZWZhdWx0R2V0VG9nZ2xlSGlkZUFsbENvbHVtbnNQcm9wc11cblxuICBob29rcy5zdGF0ZVJlZHVjZXJzLnB1c2gocmVkdWNlcilcbiAgaG9va3MudXNlSW5zdGFuY2VCZWZvcmVEaW1lbnNpb25zLnB1c2godXNlSW5zdGFuY2VCZWZvcmVEaW1lbnNpb25zKVxuICBob29rcy5oZWFkZXJHcm91cHNEZXBzLnB1c2goKGRlcHMsIHsgaW5zdGFuY2UgfSkgPT4gW1xuICAgIC4uLmRlcHMsXG4gICAgaW5zdGFuY2Uuc3RhdGUuaGlkZGVuQ29sdW1ucyxcbiAgXSlcbiAgaG9va3MudXNlSW5zdGFuY2UucHVzaCh1c2VJbnN0YW5jZSlcbn1cblxudXNlQ29sdW1uVmlzaWJpbGl0eS5wbHVnaW5OYW1lID0gJ3VzZUNvbHVtblZpc2liaWxpdHknXG5cbmNvbnN0IGRlZmF1bHRHZXRUb2dnbGVIaWRkZW5Qcm9wcyA9IChwcm9wcywgeyBjb2x1bW4gfSkgPT4gW1xuICBwcm9wcyxcbiAge1xuICAgIG9uQ2hhbmdlOiBlID0+IHtcbiAgICAgIGNvbHVtbi50b2dnbGVIaWRkZW4oIWUudGFyZ2V0LmNoZWNrZWQpXG4gICAgfSxcbiAgICBzdHlsZToge1xuICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgfSxcbiAgICBjaGVja2VkOiBjb2x1bW4uaXNWaXNpYmxlLFxuICAgIHRpdGxlOiAnVG9nZ2xlIENvbHVtbiBWaXNpYmxlJyxcbiAgfSxcbl1cblxuY29uc3QgZGVmYXVsdEdldFRvZ2dsZUhpZGVBbGxDb2x1bW5zUHJvcHMgPSAocHJvcHMsIHsgaW5zdGFuY2UgfSkgPT4gW1xuICBwcm9wcyxcbiAge1xuICAgIG9uQ2hhbmdlOiBlID0+IHtcbiAgICAgIGluc3RhbmNlLnRvZ2dsZUhpZGVBbGxDb2x1bW5zKCFlLnRhcmdldC5jaGVja2VkKVxuICAgIH0sXG4gICAgc3R5bGU6IHtcbiAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgIH0sXG4gICAgY2hlY2tlZDogIWluc3RhbmNlLmFsbENvbHVtbnNIaWRkZW4gJiYgIWluc3RhbmNlLnN0YXRlLmhpZGRlbkNvbHVtbnMubGVuZ3RoLFxuICAgIHRpdGxlOiAnVG9nZ2xlIEFsbCBDb2x1bW5zIEhpZGRlbicsXG4gICAgaW5kZXRlcm1pbmF0ZTpcbiAgICAgICFpbnN0YW5jZS5hbGxDb2x1bW5zSGlkZGVuICYmIGluc3RhbmNlLnN0YXRlLmhpZGRlbkNvbHVtbnMubGVuZ3RoLFxuICB9LFxuXVxuXG5mdW5jdGlvbiByZWR1Y2VyKHN0YXRlLCBhY3Rpb24sIHByZXZpb3VzU3RhdGUsIGluc3RhbmNlKSB7XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5pbml0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGhpZGRlbkNvbHVtbnM6IFtdLFxuICAgICAgLi4uc3RhdGUsXG4gICAgfVxuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLnJlc2V0SGlkZGVuQ29sdW1ucykge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIGhpZGRlbkNvbHVtbnM6IGluc3RhbmNlLmluaXRpYWxTdGF0ZS5oaWRkZW5Db2x1bW5zIHx8IFtdLFxuICAgIH1cbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy50b2dnbGVIaWRlQ29sdW1uKSB7XG4gICAgY29uc3Qgc2hvdWxkID1cbiAgICAgIHR5cGVvZiBhY3Rpb24udmFsdWUgIT09ICd1bmRlZmluZWQnXG4gICAgICAgID8gYWN0aW9uLnZhbHVlXG4gICAgICAgIDogIXN0YXRlLmhpZGRlbkNvbHVtbnMuaW5jbHVkZXMoYWN0aW9uLmNvbHVtbklkKVxuXG4gICAgY29uc3QgaGlkZGVuQ29sdW1ucyA9IHNob3VsZFxuICAgICAgPyBbLi4uc3RhdGUuaGlkZGVuQ29sdW1ucywgYWN0aW9uLmNvbHVtbklkXVxuICAgICAgOiBzdGF0ZS5oaWRkZW5Db2x1bW5zLmZpbHRlcihkID0+IGQgIT09IGFjdGlvbi5jb2x1bW5JZClcblxuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIGhpZGRlbkNvbHVtbnMsXG4gICAgfVxuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLnNldEhpZGRlbkNvbHVtbnMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBoaWRkZW5Db2x1bW5zOiBmdW5jdGlvbmFsVXBkYXRlKGFjdGlvbi52YWx1ZSwgc3RhdGUuaGlkZGVuQ29sdW1ucyksXG4gICAgfVxuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLnRvZ2dsZUhpZGVBbGxDb2x1bW5zKSB7XG4gICAgY29uc3Qgc2hvdWxkQWxsID1cbiAgICAgIHR5cGVvZiBhY3Rpb24udmFsdWUgIT09ICd1bmRlZmluZWQnXG4gICAgICAgID8gYWN0aW9uLnZhbHVlXG4gICAgICAgIDogIXN0YXRlLmhpZGRlbkNvbHVtbnMubGVuZ3RoXG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBoaWRkZW5Db2x1bW5zOiBzaG91bGRBbGwgPyBpbnN0YW5jZS5mbGF0Q29sdW1ucy5tYXAoZCA9PiBkLmlkKSA6IFtdLFxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB1c2VJbnN0YW5jZUJlZm9yZURpbWVuc2lvbnMoaW5zdGFuY2UpIHtcbiAgY29uc3Qge1xuICAgIGhlYWRlcnMsXG4gICAgc3RhdGU6IHsgaGlkZGVuQ29sdW1ucyB9LFxuICB9ID0gaW5zdGFuY2VcblxuICBjb25zdCBpc01vdW50ZWRSZWYgPSBSZWFjdC51c2VSZWYoZmFsc2UpXG5cbiAgaWYgKCFpc01vdW50ZWRSZWYuY3VycmVudCkge1xuICB9XG5cbiAgY29uc3QgaGFuZGxlQ29sdW1uID0gKGNvbHVtbiwgcGFyZW50VmlzaWJsZSkgPT4ge1xuICAgIGNvbHVtbi5pc1Zpc2libGUgPSBwYXJlbnRWaXNpYmxlICYmICFoaWRkZW5Db2x1bW5zLmluY2x1ZGVzKGNvbHVtbi5pZClcblxuICAgIGxldCB0b3RhbFZpc2libGVIZWFkZXJDb3VudCA9IDBcblxuICAgIGlmIChjb2x1bW4uaGVhZGVycyAmJiBjb2x1bW4uaGVhZGVycy5sZW5ndGgpIHtcbiAgICAgIGNvbHVtbi5oZWFkZXJzLmZvckVhY2goXG4gICAgICAgIHN1YkNvbHVtbiA9PlxuICAgICAgICAgICh0b3RhbFZpc2libGVIZWFkZXJDb3VudCArPSBoYW5kbGVDb2x1bW4oc3ViQ29sdW1uLCBjb2x1bW4uaXNWaXNpYmxlKSlcbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgdG90YWxWaXNpYmxlSGVhZGVyQ291bnQgPSBjb2x1bW4uaXNWaXNpYmxlID8gMSA6IDBcbiAgICB9XG5cbiAgICBjb2x1bW4udG90YWxWaXNpYmxlSGVhZGVyQ291bnQgPSB0b3RhbFZpc2libGVIZWFkZXJDb3VudFxuXG4gICAgcmV0dXJuIHRvdGFsVmlzaWJsZUhlYWRlckNvdW50XG4gIH1cblxuICBsZXQgdG90YWxWaXNpYmxlSGVhZGVyQ291bnQgPSAwXG5cbiAgaGVhZGVycy5mb3JFYWNoKFxuICAgIHN1YkhlYWRlciA9PiAodG90YWxWaXNpYmxlSGVhZGVyQ291bnQgKz0gaGFuZGxlQ29sdW1uKHN1YkhlYWRlciwgdHJ1ZSkpXG4gIClcbn1cblxuZnVuY3Rpb24gdXNlSW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgY29uc3Qge1xuICAgIGZsYXRIZWFkZXJzLFxuICAgIGRpc3BhdGNoLFxuICAgIGZsYXRDb2x1bW5zLFxuICAgIHN0YXRlOiB7IGhpZGRlbkNvbHVtbnMgfSxcbiAgfSA9IGluc3RhbmNlXG5cbiAgY29uc3QgZ2V0SW5zdGFuY2UgPSB1c2VHZXRMYXRlc3QoaW5zdGFuY2UpXG5cbiAgY29uc3QgYWxsQ29sdW1uc0hpZGRlbiA9IGZsYXRDb2x1bW5zLmxlbmd0aCA9PT0gaGlkZGVuQ29sdW1ucy5sZW5ndGhcblxuICBjb25zdCB0b2dnbGVIaWRlQ29sdW1uID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgKGNvbHVtbklkLCB2YWx1ZSkgPT5cbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogYWN0aW9ucy50b2dnbGVIaWRlQ29sdW1uLCBjb2x1bW5JZCwgdmFsdWUgfSksXG4gICAgW2Rpc3BhdGNoXVxuICApXG5cbiAgY29uc3Qgc2V0SGlkZGVuQ29sdW1ucyA9IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgIHZhbHVlID0+IGRpc3BhdGNoKHsgdHlwZTogYWN0aW9ucy5zZXRIaWRkZW5Db2x1bW5zLCB2YWx1ZSB9KSxcbiAgICBbZGlzcGF0Y2hdXG4gIClcblxuICBjb25zdCB0b2dnbGVIaWRlQWxsQ29sdW1ucyA9IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgIHZhbHVlID0+IGRpc3BhdGNoKHsgdHlwZTogYWN0aW9ucy50b2dnbGVIaWRlQWxsQ29sdW1ucywgdmFsdWUgfSksXG4gICAgW2Rpc3BhdGNoXVxuICApXG5cbiAgLy8gU25hcHNob3QgaG9vayBhbmQgZGlzYWxsb3cgbW9yZSBmcm9tIGJlaW5nIGFkZGVkXG4gIGNvbnN0IGdldFRvZ2dsZUhpZGVBbGxDb2x1bW5zUHJvcHNIb29rcyA9IHVzZUNvbnN1bWVIb29rR2V0dGVyKFxuICAgIGdldEluc3RhbmNlKCkuaG9va3MsXG4gICAgJ2dldFRvZ2dsZUhpZGVBbGxDb2x1bW5zUHJvcHMnXG4gIClcblxuICBjb25zdCBnZXRUb2dnbGVIaWRlQWxsQ29sdW1uc1Byb3BzID0gbWFrZVByb3BHZXR0ZXIoXG4gICAgZ2V0VG9nZ2xlSGlkZUFsbENvbHVtbnNQcm9wc0hvb2tzKCksXG4gICAgeyBpbnN0YW5jZTogZ2V0SW5zdGFuY2UoKSB9XG4gIClcblxuICAvLyBTbmFwc2hvdCBob29rIGFuZCBkaXNhbGxvdyBtb3JlIGZyb20gYmVpbmcgYWRkZWRcbiAgY29uc3QgZ2V0VG9nZ2xlSGlkZGVuUHJvcHNIb29rcyA9IHVzZUNvbnN1bWVIb29rR2V0dGVyKFxuICAgIGdldEluc3RhbmNlKCkuaG9va3MsXG4gICAgJ2dldFRvZ2dsZUhpZGRlblByb3BzJ1xuICApXG5cbiAgZmxhdEhlYWRlcnMuZm9yRWFjaChjb2x1bW4gPT4ge1xuICAgIGNvbHVtbi50b2dnbGVIaWRkZW4gPSB2YWx1ZSA9PiB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6IGFjdGlvbnMudG9nZ2xlSGlkZUNvbHVtbixcbiAgICAgICAgY29sdW1uSWQ6IGNvbHVtbi5pZCxcbiAgICAgICAgdmFsdWUsXG4gICAgICB9KVxuICAgIH1cblxuICAgIGNvbHVtbi5nZXRUb2dnbGVIaWRkZW5Qcm9wcyA9IG1ha2VQcm9wR2V0dGVyKGdldFRvZ2dsZUhpZGRlblByb3BzSG9va3MoKSwge1xuICAgICAgaW5zdGFuY2U6IGdldEluc3RhbmNlKCksXG4gICAgICBjb2x1bW4sXG4gICAgfSlcbiAgfSlcblxuICBPYmplY3QuYXNzaWduKGluc3RhbmNlLCB7XG4gICAgYWxsQ29sdW1uc0hpZGRlbixcbiAgICB0b2dnbGVIaWRlQ29sdW1uLFxuICAgIHNldEhpZGRlbkNvbHVtbnMsXG4gICAgdG9nZ2xlSGlkZUFsbENvbHVtbnMsXG4gICAgZ2V0VG9nZ2xlSGlkZUFsbENvbHVtbnNQcm9wcyxcbiAgfSlcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcblxuLy9cbmltcG9ydCB7XG4gIGFjdGlvbnMsXG4gIHJlZHVjZUhvb2tzLFxuICBsb29wSG9va3MsXG4gIG1ha2VQcm9wR2V0dGVyLFxuICBtYWtlUmVuZGVyZXIsXG4gIGRlY29yYXRlQ29sdW1uVHJlZSxcbiAgbWFrZUhlYWRlckdyb3VwcyxcbiAgZmxhdHRlbkJ5LFxuICB1c2VHZXRMYXRlc3QsXG4gIHVzZUNvbnN1bWVIb29rR2V0dGVyLFxufSBmcm9tICcuLi91dGlscydcblxuaW1wb3J0IG1ha2VEZWZhdWx0UGx1Z2luSG9va3MgZnJvbSAnLi4vbWFrZURlZmF1bHRQbHVnaW5Ib29rcydcblxuaW1wb3J0IHsgdXNlQ29sdW1uVmlzaWJpbGl0eSB9IGZyb20gJy4vdXNlQ29sdW1uVmlzaWJpbGl0eSdcblxuY29uc3QgZGVmYXVsdEluaXRpYWxTdGF0ZSA9IHt9XG5jb25zdCBkZWZhdWx0Q29sdW1uSW5zdGFuY2UgPSB7fVxuY29uc3QgZGVmYXVsdFJlZHVjZXIgPSAoc3RhdGUsIGFjdGlvbiwgcHJldlN0YXRlKSA9PiBzdGF0ZVxuY29uc3QgZGVmYXVsdEdldFN1YlJvd3MgPSAocm93LCBpbmRleCkgPT4gcm93LnN1YlJvd3MgfHwgW11cbmNvbnN0IGRlZmF1bHRHZXRSb3dJZCA9IChyb3csIGluZGV4LCBwYXJlbnQpID0+XG4gIGAke3BhcmVudCA/IFtwYXJlbnQuaWQsIGluZGV4XS5qb2luKCcuJykgOiBpbmRleH1gXG5jb25zdCBkZWZhdWx0VXNlQ29udHJvbGxlZFN0YXRlID0gZCA9PiBkXG5cbmZ1bmN0aW9uIGFwcGx5RGVmYXVsdHMocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGluaXRpYWxTdGF0ZSA9IGRlZmF1bHRJbml0aWFsU3RhdGUsXG4gICAgZGVmYXVsdENvbHVtbiA9IGRlZmF1bHRDb2x1bW5JbnN0YW5jZSxcbiAgICBnZXRTdWJSb3dzID0gZGVmYXVsdEdldFN1YlJvd3MsXG4gICAgZ2V0Um93SWQgPSBkZWZhdWx0R2V0Um93SWQsXG4gICAgc3RhdGVSZWR1Y2VyID0gZGVmYXVsdFJlZHVjZXIsXG4gICAgdXNlQ29udHJvbGxlZFN0YXRlID0gZGVmYXVsdFVzZUNvbnRyb2xsZWRTdGF0ZSxcbiAgICAuLi5yZXN0XG4gIH0gPSBwcm9wc1xuXG4gIHJldHVybiB7XG4gICAgLi4ucmVzdCxcbiAgICBpbml0aWFsU3RhdGUsXG4gICAgZGVmYXVsdENvbHVtbixcbiAgICBnZXRTdWJSb3dzLFxuICAgIGdldFJvd0lkLFxuICAgIHN0YXRlUmVkdWNlcixcbiAgICB1c2VDb250cm9sbGVkU3RhdGUsXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHVzZVRhYmxlID0gKHByb3BzLCAuLi5wbHVnaW5zKSA9PiB7XG4gIC8vIEFwcGx5IGRlZmF1bHQgcHJvcHNcbiAgcHJvcHMgPSBhcHBseURlZmF1bHRzKHByb3BzKVxuXG4gIC8vIEFkZCBjb3JlIHBsdWdpbnNcbiAgcGx1Z2lucyA9IFt1c2VDb2x1bW5WaXNpYmlsaXR5LCAuLi5wbHVnaW5zXVxuXG4gIC8vIENyZWF0ZSB0aGUgdGFibGUgaW5zdGFuY2VcbiAgbGV0IGluc3RhbmNlUmVmID0gUmVhY3QudXNlUmVmKHt9KVxuXG4gIC8vIENyZWF0ZSBhIGdldHRlciBmb3IgdGhlIGluc3RhbmNlIChoZWxwcyBhdm9pZCBhIGxvdCBvZiBwb3RlbnRpYWwgbWVtb3J5IGxlYWtzKVxuICBjb25zdCBnZXRJbnN0YW5jZSA9IHVzZUdldExhdGVzdChpbnN0YW5jZVJlZi5jdXJyZW50KVxuXG4gIC8vIEFzc2lnbiB0aGUgcHJvcHMsIHBsdWdpbnMgYW5kIGhvb2tzIHRvIHRoZSBpbnN0YW5jZVxuICBPYmplY3QuYXNzaWduKGdldEluc3RhbmNlKCksIHtcbiAgICAuLi5wcm9wcyxcbiAgICBwbHVnaW5zLFxuICAgIGhvb2tzOiBtYWtlRGVmYXVsdFBsdWdpbkhvb2tzKCksXG4gIH0pXG5cbiAgLy8gQWxsb3cgcGx1Z2lucyB0byByZWdpc3RlciBob29rcyBhcyBlYXJseSBhcyBwb3NzaWJsZVxuICBwbHVnaW5zLmZpbHRlcihCb29sZWFuKS5mb3JFYWNoKHBsdWdpbiA9PiB7XG4gICAgcGx1Z2luKGdldEluc3RhbmNlKCkuaG9va3MpXG4gIH0pXG5cbiAgY29uc3QgZ2V0VXNlT3B0aW9uc0hvb2tzID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoXG4gICAgZ2V0SW5zdGFuY2UoKS5ob29rcyxcbiAgICAndXNlT3B0aW9ucydcbiAgKVxuXG4gIC8vIEFsbG93IHVzZU9wdGlvbnMgaG9va3MgdG8gbW9kaWZ5IHRoZSBvcHRpb25zIGNvbWluZyBpbnRvIHRoZSB0YWJsZVxuICBPYmplY3QuYXNzaWduKFxuICAgIGdldEluc3RhbmNlKCksXG4gICAgcmVkdWNlSG9va3MoZ2V0VXNlT3B0aW9uc0hvb2tzKCksIGFwcGx5RGVmYXVsdHMocHJvcHMpKVxuICApXG5cbiAgY29uc3Qge1xuICAgIGRhdGEsXG4gICAgY29sdW1uczogdXNlckNvbHVtbnMsXG4gICAgaW5pdGlhbFN0YXRlLFxuICAgIGRlZmF1bHRDb2x1bW4sXG4gICAgZ2V0U3ViUm93cyxcbiAgICBnZXRSb3dJZCxcbiAgICBzdGF0ZVJlZHVjZXIsXG4gICAgdXNlQ29udHJvbGxlZFN0YXRlLFxuICB9ID0gZ2V0SW5zdGFuY2UoKVxuXG4gIC8vIFNuYXBzaG90IGhvb2sgYW5kIGRpc2FsbG93IG1vcmUgZnJvbSBiZWluZyBhZGRlZFxuICBjb25zdCBnZXRTdGF0ZVJlZHVjZXJzID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoXG4gICAgZ2V0SW5zdGFuY2UoKS5ob29rcyxcbiAgICAnc3RhdGVSZWR1Y2VycydcbiAgKVxuXG4gIC8vIFNldHVwIHVzZXIgcmVkdWNlciByZWZcbiAgY29uc3QgZ2V0U3RhdGVSZWR1Y2VyID0gdXNlR2V0TGF0ZXN0KHN0YXRlUmVkdWNlcilcblxuICAvLyBCdWlsZCB0aGUgcmVkdWNlclxuICBjb25zdCByZWR1Y2VyID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgKHN0YXRlLCBhY3Rpb24pID0+IHtcbiAgICAgIC8vIERldGVjdCBpbnZhbGlkIGFjdGlvbnNcbiAgICAgIGlmICghYWN0aW9uLnR5cGUpIHtcbiAgICAgICAgY29uc29sZS5pbmZvKHsgYWN0aW9uIH0pXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biBBY3Rpb24g8J+RhicpXG4gICAgICB9XG5cbiAgICAgIC8vIFJlZHVjZSB0aGUgc3RhdGUgZnJvbSBhbGwgcGx1Z2luIHJlZHVjZXJzXG4gICAgICByZXR1cm4gW1xuICAgICAgICAuLi5nZXRTdGF0ZVJlZHVjZXJzKCksXG4gICAgICAgIC8vIEFsbG93IHRoZSB1c2VyIHRvIGFkZCB0aGVpciBvd24gc3RhdGUgcmVkdWNlcihzKVxuICAgICAgICAuLi4oQXJyYXkuaXNBcnJheShnZXRTdGF0ZVJlZHVjZXIoKSlcbiAgICAgICAgICA/IGdldFN0YXRlUmVkdWNlcigpXG4gICAgICAgICAgOiBbZ2V0U3RhdGVSZWR1Y2VyKCldKSxcbiAgICAgIF0ucmVkdWNlKFxuICAgICAgICAocywgaGFuZGxlcikgPT4gaGFuZGxlcihzLCBhY3Rpb24sIHN0YXRlLCBnZXRJbnN0YW5jZSgpKSB8fCBzLFxuICAgICAgICBzdGF0ZVxuICAgICAgKVxuICAgIH0sXG4gICAgW2dldFN0YXRlUmVkdWNlcnMsIGdldFN0YXRlUmVkdWNlciwgZ2V0SW5zdGFuY2VdXG4gIClcblxuICAvLyBTdGFydCB0aGUgcmVkdWNlclxuICBjb25zdCBbcmVkdWNlclN0YXRlLCBkaXNwYXRjaF0gPSBSZWFjdC51c2VSZWR1Y2VyKHJlZHVjZXIsIHVuZGVmaW5lZCwgKCkgPT5cbiAgICByZWR1Y2VyKGluaXRpYWxTdGF0ZSwgeyB0eXBlOiBhY3Rpb25zLmluaXQgfSlcbiAgKVxuXG4gIC8vIFNuYXBzaG90IGhvb2sgYW5kIGRpc2FsbG93IG1vcmUgZnJvbSBiZWluZyBhZGRlZFxuICBjb25zdCBnZXRVc2VDb250cm9sbGVkU3RhdGVIb29rcyA9IHVzZUNvbnN1bWVIb29rR2V0dGVyKFxuICAgIGdldEluc3RhbmNlKCkuaG9va3MsXG4gICAgJ3VzZUNvbnRyb2xsZWRTdGF0ZSdcbiAgKVxuXG4gIC8vIEFsbG93IHRoZSB1c2VyIHRvIGNvbnRyb2wgdGhlIGZpbmFsIHN0YXRlIHdpdGggaG9va3NcbiAgY29uc3Qgc3RhdGUgPSByZWR1Y2VIb29rcyhcbiAgICBbLi4uZ2V0VXNlQ29udHJvbGxlZFN0YXRlSG9va3MoKSwgdXNlQ29udHJvbGxlZFN0YXRlXSxcbiAgICByZWR1Y2VyU3RhdGUsXG4gICAgeyBpbnN0YW5jZTogZ2V0SW5zdGFuY2UoKSB9XG4gIClcblxuICBPYmplY3QuYXNzaWduKGdldEluc3RhbmNlKCksIHtcbiAgICBzdGF0ZSxcbiAgICBkaXNwYXRjaCxcbiAgfSlcblxuICAvLyBTbmFwc2hvdCBob29rIGFuZCBkaXNhbGxvdyBtb3JlIGZyb20gYmVpbmcgYWRkZWRcbiAgY29uc3QgZ2V0Q29sdW1uc0hvb2tzID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoZ2V0SW5zdGFuY2UoKS5ob29rcywgJ2NvbHVtbnMnKVxuXG4gIC8vIFNuYXBzaG90IGhvb2sgYW5kIGRpc2FsbG93IG1vcmUgZnJvbSBiZWluZyBhZGRlZFxuICBjb25zdCBnZXRDb2x1bW5zRGVwc0hvb2tzID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoXG4gICAgZ2V0SW5zdGFuY2UoKS5ob29rcyxcbiAgICAnY29sdW1uc0RlcHMnXG4gIClcblxuICAvLyBEZWNvcmF0ZSBBbGwgdGhlIGNvbHVtbnNcbiAgbGV0IGNvbHVtbnMgPSBSZWFjdC51c2VNZW1vKFxuICAgICgpID0+XG4gICAgICBkZWNvcmF0ZUNvbHVtblRyZWUoXG4gICAgICAgIHJlZHVjZUhvb2tzKGdldENvbHVtbnNIb29rcygpLCB1c2VyQ29sdW1ucywge1xuICAgICAgICAgIGluc3RhbmNlOiBnZXRJbnN0YW5jZSgpLFxuICAgICAgICB9KSxcbiAgICAgICAgZGVmYXVsdENvbHVtblxuICAgICAgKSxcbiAgICBbXG4gICAgICBkZWZhdWx0Q29sdW1uLFxuICAgICAgZ2V0Q29sdW1uc0hvb2tzLFxuICAgICAgZ2V0SW5zdGFuY2UsXG4gICAgICB1c2VyQ29sdW1ucyxcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgICAgIC4uLnJlZHVjZUhvb2tzKGdldENvbHVtbnNEZXBzSG9va3MoKSwgW10sIHsgaW5zdGFuY2U6IGdldEluc3RhbmNlKCkgfSksXG4gICAgXVxuICApXG5cbiAgZ2V0SW5zdGFuY2UoKS5jb2x1bW5zID0gY29sdW1uc1xuXG4gIC8vIEdldCB0aGUgZmxhdCBsaXN0IG9mIGFsbCBjb2x1bW5zIGFuZCBhbGxvdyBob29rcyB0byBkZWNvcmF0ZVxuICAvLyB0aG9zZSBjb2x1bW5zIChhbmQgdHJpZ2dlciB0aGlzIG1lbW9pemF0aW9uIHZpYSBkZXBzKVxuICBsZXQgZmxhdENvbHVtbnMgPSBSZWFjdC51c2VNZW1vKCgpID0+IGZsYXR0ZW5CeShjb2x1bW5zLCAnY29sdW1ucycpLCBbXG4gICAgY29sdW1ucyxcbiAgXSlcblxuICBnZXRJbnN0YW5jZSgpLmZsYXRDb2x1bW5zID0gZmxhdENvbHVtbnNcblxuICAvLyBBY2Nlc3MgdGhlIHJvdyBtb2RlbFxuICBjb25zdCBbcm93cywgZmxhdFJvd3NdID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgbGV0IGZsYXRSb3dzID0gW11cblxuICAgIC8vIEFjY2VzcyB0aGUgcm93J3MgZGF0YVxuICAgIGNvbnN0IGFjY2Vzc1JvdyA9IChvcmlnaW5hbFJvdywgaSwgZGVwdGggPSAwLCBwYXJlbnQpID0+IHtcbiAgICAgIC8vIEtlZXAgdGhlIG9yaWdpbmFsIHJlZmVyZW5jZSBhcm91bmRcbiAgICAgIGNvbnN0IG9yaWdpbmFsID0gb3JpZ2luYWxSb3dcblxuICAgICAgY29uc3QgaWQgPSBnZXRSb3dJZChvcmlnaW5hbFJvdywgaSwgcGFyZW50KVxuXG4gICAgICBjb25zdCByb3cgPSB7XG4gICAgICAgIGlkLFxuICAgICAgICBvcmlnaW5hbCxcbiAgICAgICAgaW5kZXg6IGksXG4gICAgICAgIGRlcHRoLFxuICAgICAgICBjZWxsczogW3t9XSwgLy8gVGhpcyBpcyBhIGR1bW15IGNlbGxcbiAgICAgIH1cblxuICAgICAgZmxhdFJvd3MucHVzaChyb3cpXG5cbiAgICAgIC8vIFByb2Nlc3MgYW55IHN1YlJvd3NcbiAgICAgIGxldCBzdWJSb3dzID0gZ2V0U3ViUm93cyhvcmlnaW5hbFJvdywgaSlcblxuICAgICAgaWYgKHN1YlJvd3MpIHtcbiAgICAgICAgcm93LnN1YlJvd3MgPSBzdWJSb3dzLm1hcCgoZCwgaSkgPT4gYWNjZXNzUm93KGQsIGksIGRlcHRoICsgMSwgcm93KSlcbiAgICAgIH1cblxuICAgICAgLy8gT3ZlcnJpZGUgY29tbW9uIGFycmF5IGZ1bmN0aW9ucyAoYW5kIHRoZSBkdW1teSBjZWxsJ3MgZ2V0Q2VsbFByb3BzIGZ1bmN0aW9uKVxuICAgICAgLy8gdG8gc2hvdyBhbiBlcnJvciBpZiBpdCBpcyBhY2Nlc3NlZCB3aXRob3V0IGNhbGxpbmcgcHJlcGFyZVJvd1xuICAgICAgY29uc3QgdW5wcmVwYXJlZEFjY2Vzc1dhcm5pbmcgPSAoKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnUmVhY3QtVGFibGU6IFlvdSBoYXZlIG5vdCBjYWxsZWQgcHJlcGFyZVJvdyhyb3cpIG9uZSBvciBtb3JlIHJvd3MgeW91IGFyZSBhdHRlbXB0aW5nIHRvIHJlbmRlci4nXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIHJvdy5jZWxscy5tYXAgPSB1bnByZXBhcmVkQWNjZXNzV2FybmluZ1xuICAgICAgcm93LmNlbGxzLmZpbHRlciA9IHVucHJlcGFyZWRBY2Nlc3NXYXJuaW5nXG4gICAgICByb3cuY2VsbHMuZm9yRWFjaCA9IHVucHJlcGFyZWRBY2Nlc3NXYXJuaW5nXG4gICAgICByb3cuY2VsbHNbMF0uZ2V0Q2VsbFByb3BzID0gdW5wcmVwYXJlZEFjY2Vzc1dhcm5pbmdcblxuICAgICAgLy8gQ3JlYXRlIHRoZSBjZWxscyBhbmQgdmFsdWVzXG4gICAgICByb3cudmFsdWVzID0ge31cbiAgICAgIGZsYXRDb2x1bW5zLmZvckVhY2goKHsgaWQsIGFjY2Vzc29yIH0pID0+IHtcbiAgICAgICAgcm93LnZhbHVlc1tpZF0gPSBhY2Nlc3NvclxuICAgICAgICAgID8gYWNjZXNzb3Iob3JpZ2luYWxSb3csIGksIHsgc3ViUm93cywgZGVwdGgsIGRhdGEgfSlcbiAgICAgICAgICA6IHVuZGVmaW5lZFxuICAgICAgfSlcblxuICAgICAgcmV0dXJuIHJvd1xuICAgIH1cblxuICAgIC8vIFVzZSB0aGUgcmVzb2x2ZWQgZGF0YVxuICAgIGNvbnN0IGFjY2Vzc2VkRGF0YSA9IGRhdGEubWFwKChkLCBpKSA9PiBhY2Nlc3NSb3coZCwgaSkpXG5cbiAgICByZXR1cm4gW2FjY2Vzc2VkRGF0YSwgZmxhdFJvd3NdXG4gIH0sIFtkYXRhLCBmbGF0Q29sdW1ucywgZ2V0Um93SWQsIGdldFN1YlJvd3NdKVxuXG4gIGdldEluc3RhbmNlKCkucm93cyA9IHJvd3NcbiAgZ2V0SW5zdGFuY2UoKS5mbGF0Um93cyA9IGZsYXRSb3dzXG5cbiAgLy8gU25hcHNob3QgaG9vayBhbmQgZGlzYWxsb3cgbW9yZSBmcm9tIGJlaW5nIGFkZGVkXG4gIGNvbnN0IGZsYXRDb2x1bW5zSG9va3MgPSB1c2VDb25zdW1lSG9va0dldHRlcihcbiAgICBnZXRJbnN0YW5jZSgpLmhvb2tzLFxuICAgICdmbGF0Q29sdW1ucydcbiAgKVxuXG4gIC8vIFNuYXBzaG90IGhvb2sgYW5kIGRpc2FsbG93IG1vcmUgZnJvbSBiZWluZyBhZGRlZFxuICBjb25zdCBmbGF0Q29sdW1uc0RlcHNIb29rcyA9IHVzZUNvbnN1bWVIb29rR2V0dGVyKFxuICAgIGdldEluc3RhbmNlKCkuaG9va3MsXG4gICAgJ2ZsYXRDb2x1bW5zRGVwcydcbiAgKVxuXG4gIC8vIEdldCB0aGUgZmxhdCBsaXN0IG9mIGFsbCBjb2x1bW5zIEFGVEVSIHRoZSByb3dzXG4gIC8vIGhhdmUgYmVlbiBhY2Nlc3MsIGFuZCBhbGxvdyBob29rcyB0byBkZWNvcmF0ZVxuICAvLyB0aG9zZSBjb2x1bW5zIChhbmQgdHJpZ2dlciB0aGlzIG1lbW9pemF0aW9uIHZpYSBkZXBzKVxuICBmbGF0Q29sdW1ucyA9IFJlYWN0LnVzZU1lbW8oXG4gICAgKCkgPT5cbiAgICAgIHJlZHVjZUhvb2tzKGZsYXRDb2x1bW5zSG9va3MoKSwgZmxhdENvbHVtbnMsIHsgaW5zdGFuY2U6IGdldEluc3RhbmNlKCkgfSksXG4gICAgW1xuICAgICAgZmxhdENvbHVtbnMsXG4gICAgICBmbGF0Q29sdW1uc0hvb2tzLFxuICAgICAgZ2V0SW5zdGFuY2UsXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gICAgICAuLi5yZWR1Y2VIb29rcyhmbGF0Q29sdW1uc0RlcHNIb29rcygpLCBbXSwgeyBpbnN0YW5jZTogZ2V0SW5zdGFuY2UoKSB9KSxcbiAgICBdXG4gIClcblxuICBnZXRJbnN0YW5jZSgpLmZsYXRDb2x1bW5zID0gZmxhdENvbHVtbnNcblxuICAvLyBTbmFwc2hvdCBob29rIGFuZCBkaXNhbGxvdyBtb3JlIGZyb20gYmVpbmcgYWRkZWRcbiAgY29uc3QgZ2V0SGVhZGVyR3JvdXBzID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoXG4gICAgZ2V0SW5zdGFuY2UoKS5ob29rcyxcbiAgICAnaGVhZGVyR3JvdXBzJ1xuICApXG5cbiAgLy8gU25hcHNob3QgaG9vayBhbmQgZGlzYWxsb3cgbW9yZSBmcm9tIGJlaW5nIGFkZGVkXG4gIGNvbnN0IGdldEhlYWRlckdyb3Vwc0RlcHMgPSB1c2VDb25zdW1lSG9va0dldHRlcihcbiAgICBnZXRJbnN0YW5jZSgpLmhvb2tzLFxuICAgICdoZWFkZXJHcm91cHNEZXBzJ1xuICApXG5cbiAgLy8gTWFrZSB0aGUgaGVhZGVyR3JvdXBzXG4gIGNvbnN0IGhlYWRlckdyb3VwcyA9IFJlYWN0LnVzZU1lbW8oXG4gICAgKCkgPT5cbiAgICAgIHJlZHVjZUhvb2tzKFxuICAgICAgICBnZXRIZWFkZXJHcm91cHMoKSxcbiAgICAgICAgbWFrZUhlYWRlckdyb3VwcyhmbGF0Q29sdW1ucywgZGVmYXVsdENvbHVtbiksXG4gICAgICAgIGdldEluc3RhbmNlKClcbiAgICAgICksXG4gICAgW1xuICAgICAgZGVmYXVsdENvbHVtbixcbiAgICAgIGZsYXRDb2x1bW5zLFxuICAgICAgZ2V0SGVhZGVyR3JvdXBzLFxuICAgICAgZ2V0SW5zdGFuY2UsXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gICAgICAuLi5yZWR1Y2VIb29rcyhnZXRIZWFkZXJHcm91cHNEZXBzKCksIFtdLCB7IGluc3RhbmNlOiBnZXRJbnN0YW5jZSgpIH0pLFxuICAgIF1cbiAgKVxuXG4gIGdldEluc3RhbmNlKCkuaGVhZGVyR3JvdXBzID0gaGVhZGVyR3JvdXBzXG5cbiAgY29uc3QgaGVhZGVycyA9IFJlYWN0LnVzZU1lbW8oXG4gICAgKCkgPT4gKGhlYWRlckdyb3Vwcy5sZW5ndGggPyBoZWFkZXJHcm91cHNbMF0uaGVhZGVycyA6IFtdKSxcbiAgICBbaGVhZGVyR3JvdXBzXVxuICApXG5cbiAgZ2V0SW5zdGFuY2UoKS5oZWFkZXJzID0gaGVhZGVyc1xuXG4gIC8vIFByb3ZpZGUgYSBmbGF0IGhlYWRlciBsaXN0IGZvciB1dGlsaXRpZXNcbiAgZ2V0SW5zdGFuY2UoKS5mbGF0SGVhZGVycyA9IGhlYWRlckdyb3Vwcy5yZWR1Y2UoXG4gICAgKGFsbCwgaGVhZGVyR3JvdXApID0+IFsuLi5hbGwsIC4uLmhlYWRlckdyb3VwLmhlYWRlcnNdLFxuICAgIFtdXG4gIClcblxuICAvLyBTbmFwc2hvdCBob29rIGFuZCBkaXNhbGxvdyBtb3JlIGZyb20gYmVpbmcgYWRkZWRcbiAgY29uc3QgZ2V0VXNlSW5zdGFuY2VCZWZvcmVEaW1lbnNpb25zID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoXG4gICAgZ2V0SW5zdGFuY2UoKS5ob29rcyxcbiAgICAndXNlSW5zdGFuY2VCZWZvcmVEaW1lbnNpb25zJ1xuICApXG5cbiAgbG9vcEhvb2tzKGdldFVzZUluc3RhbmNlQmVmb3JlRGltZW5zaW9ucygpLCBnZXRJbnN0YW5jZSgpKVxuXG4gIC8vIEhlYWRlciBWaXNpYmlsaXR5IGlzIG5lZWRlZCBieSB0aGlzIHBvaW50XG4gIGNvbnN0IFtcbiAgICB0b3RhbENvbHVtbnNNaW5XaWR0aCxcbiAgICB0b3RhbENvbHVtbnNXaWR0aCxcbiAgICB0b3RhbENvbHVtbnNNYXhXaWR0aCxcbiAgXSA9IGNhbGN1bGF0ZUhlYWRlcldpZHRocyhoZWFkZXJzKVxuXG4gIGdldEluc3RhbmNlKCkudG90YWxDb2x1bW5zTWluV2lkdGggPSB0b3RhbENvbHVtbnNNaW5XaWR0aFxuICBnZXRJbnN0YW5jZSgpLnRvdGFsQ29sdW1uc1dpZHRoID0gdG90YWxDb2x1bW5zV2lkdGhcbiAgZ2V0SW5zdGFuY2UoKS50b3RhbENvbHVtbnNNYXhXaWR0aCA9IHRvdGFsQ29sdW1uc01heFdpZHRoXG5cbiAgLy8gU25hcHNob3QgaG9vayBhbmQgZGlzYWxsb3cgbW9yZSBmcm9tIGJlaW5nIGFkZGVkXG4gIGNvbnN0IGdldFVzZUluc3RhbmNlID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoXG4gICAgZ2V0SW5zdGFuY2UoKS5ob29rcyxcbiAgICAndXNlSW5zdGFuY2UnXG4gIClcblxuICBsb29wSG9va3MoZ2V0VXNlSW5zdGFuY2UoKSwgZ2V0SW5zdGFuY2UoKSlcblxuICAvLyBTbmFwc2hvdCBob29rIGFuZCBkaXNhbGxvdyBtb3JlIGZyb20gYmVpbmcgYWRkZWRcbiAgY29uc3QgZ2V0SGVhZGVyUHJvcHNIb29rcyA9IHVzZUNvbnN1bWVIb29rR2V0dGVyKFxuICAgIGdldEluc3RhbmNlKCkuaG9va3MsXG4gICAgJ2dldEhlYWRlclByb3BzJ1xuICApXG5cbiAgLy8gU25hcHNob3QgaG9vayBhbmQgZGlzYWxsb3cgbW9yZSBmcm9tIGJlaW5nIGFkZGVkXG4gIGNvbnN0IGdldEZvb3RlclByb3BzSG9va3MgPSB1c2VDb25zdW1lSG9va0dldHRlcihcbiAgICBnZXRJbnN0YW5jZSgpLmhvb2tzLFxuICAgICdnZXRGb290ZXJQcm9wcydcbiAgKVxuXG4gIC8vIEVhY2ggbWF0ZXJpYWxpemVkIGhlYWRlciBuZWVkcyB0byBiZSBhc3NpZ25lZCBhIHJlbmRlciBmdW5jdGlvbiBhbmQgb3RoZXJcbiAgLy8gcHJvcCBnZXR0ZXIgcHJvcGVydGllcyBoZXJlLlxuICA7Wy4uLmdldEluc3RhbmNlKCkuZmxhdEhlYWRlcnMsIC4uLmdldEluc3RhbmNlKCkuZmxhdENvbHVtbnNdLmZvckVhY2goXG4gICAgY29sdW1uID0+IHtcbiAgICAgIC8vIEdpdmUgY29sdW1ucy9oZWFkZXJzIHJlbmRlcmluZyBwb3dlclxuICAgICAgY29sdW1uLnJlbmRlciA9IG1ha2VSZW5kZXJlcihnZXRJbnN0YW5jZSgpLCBjb2x1bW4pXG5cbiAgICAgIC8vIEdpdmUgY29sdW1ucy9oZWFkZXJzIGEgZGVmYXVsdCBnZXRIZWFkZXJQcm9wc1xuICAgICAgY29sdW1uLmdldEhlYWRlclByb3BzID0gbWFrZVByb3BHZXR0ZXIoZ2V0SGVhZGVyUHJvcHNIb29rcygpLCB7XG4gICAgICAgIGluc3RhbmNlOiBnZXRJbnN0YW5jZSgpLFxuICAgICAgICBjb2x1bW4sXG4gICAgICB9KVxuXG4gICAgICAvLyBHaXZlIGNvbHVtbnMvaGVhZGVycyBhIGRlZmF1bHQgZ2V0Rm9vdGVyUHJvcHNcbiAgICAgIGNvbHVtbi5nZXRGb290ZXJQcm9wcyA9IG1ha2VQcm9wR2V0dGVyKGdldEZvb3RlclByb3BzSG9va3MoKSwge1xuICAgICAgICBpbnN0YW5jZTogZ2V0SW5zdGFuY2UoKSxcbiAgICAgICAgY29sdW1uLFxuICAgICAgfSlcbiAgICB9XG4gIClcblxuICAvLyBTbmFwc2hvdCBob29rIGFuZCBkaXNhbGxvdyBtb3JlIGZyb20gYmVpbmcgYWRkZWRcbiAgY29uc3QgZ2V0SGVhZGVyR3JvdXBQcm9wc0hvb2tzID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoXG4gICAgZ2V0SW5zdGFuY2UoKS5ob29rcyxcbiAgICAnZ2V0SGVhZGVyR3JvdXBQcm9wcydcbiAgKVxuXG4gIC8vIFNuYXBzaG90IGhvb2sgYW5kIGRpc2FsbG93IG1vcmUgZnJvbSBiZWluZyBhZGRlZFxuICBjb25zdCBnZXRGb290ZXJHcm91cFByb3BzSG9va3MgPSB1c2VDb25zdW1lSG9va0dldHRlcihcbiAgICBnZXRJbnN0YW5jZSgpLmhvb2tzLFxuICAgICdnZXRGb290ZXJHcm91cFByb3BzJ1xuICApXG5cbiAgZ2V0SW5zdGFuY2UoKS5oZWFkZXJHcm91cHMgPSBnZXRJbnN0YW5jZSgpLmhlYWRlckdyb3Vwcy5maWx0ZXIoXG4gICAgKGhlYWRlckdyb3VwLCBpKSA9PiB7XG4gICAgICAvLyBGaWx0ZXIgb3V0IGFueSBoZWFkZXJzIGFuZCBoZWFkZXJHcm91cHMgdGhhdCBkb24ndCBoYXZlIHZpc2libGUgY29sdW1uc1xuICAgICAgaGVhZGVyR3JvdXAuaGVhZGVycyA9IGhlYWRlckdyb3VwLmhlYWRlcnMuZmlsdGVyKGNvbHVtbiA9PiB7XG4gICAgICAgIGNvbnN0IHJlY3Vyc2UgPSBoZWFkZXJzID0+XG4gICAgICAgICAgaGVhZGVycy5maWx0ZXIoY29sdW1uID0+IHtcbiAgICAgICAgICAgIGlmIChjb2x1bW4uaGVhZGVycykge1xuICAgICAgICAgICAgICByZXR1cm4gcmVjdXJzZShjb2x1bW4uaGVhZGVycylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb2x1bW4uaXNWaXNpYmxlXG4gICAgICAgICAgfSkubGVuZ3RoXG4gICAgICAgIGlmIChjb2x1bW4uaGVhZGVycykge1xuICAgICAgICAgIHJldHVybiByZWN1cnNlKGNvbHVtbi5oZWFkZXJzKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2x1bW4uaXNWaXNpYmxlXG4gICAgICB9KVxuXG4gICAgICAvLyBHaXZlIGhlYWRlckdyb3VwcyBnZXRSb3dQcm9wc1xuICAgICAgaWYgKGhlYWRlckdyb3VwLmhlYWRlcnMubGVuZ3RoKSB7XG4gICAgICAgIGhlYWRlckdyb3VwLmdldEhlYWRlckdyb3VwUHJvcHMgPSBtYWtlUHJvcEdldHRlcihcbiAgICAgICAgICBnZXRIZWFkZXJHcm91cFByb3BzSG9va3MoKSxcbiAgICAgICAgICB7IGluc3RhbmNlOiBnZXRJbnN0YW5jZSgpLCBoZWFkZXJHcm91cCwgaW5kZXg6IGkgfVxuICAgICAgICApXG5cbiAgICAgICAgaGVhZGVyR3JvdXAuZ2V0Rm9vdGVyR3JvdXBQcm9wcyA9IG1ha2VQcm9wR2V0dGVyKFxuICAgICAgICAgIGdldEZvb3Rlckdyb3VwUHJvcHNIb29rcygpLFxuICAgICAgICAgIHsgaW5zdGFuY2U6IGdldEluc3RhbmNlKCksIGhlYWRlckdyb3VwLCBpbmRleDogaSB9XG4gICAgICAgIClcblxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIClcblxuICBnZXRJbnN0YW5jZSgpLmZvb3Rlckdyb3VwcyA9IFsuLi5nZXRJbnN0YW5jZSgpLmhlYWRlckdyb3Vwc10ucmV2ZXJzZSgpXG5cbiAgLy8gUnVuIHRoZSByb3dzICh0aGlzIGNvdWxkIGJlIGEgZGFuZ2Vyb3VzIGhvb2sgd2l0aCBhIHRvbiBvZiBkYXRhKVxuXG4gIC8vIFNuYXBzaG90IGhvb2sgYW5kIGRpc2FsbG93IG1vcmUgZnJvbSBiZWluZyBhZGRlZFxuICBjb25zdCBnZXRVc2VSb3dzSG9va3MgPSB1c2VDb25zdW1lSG9va0dldHRlcihnZXRJbnN0YW5jZSgpLmhvb2tzLCAndXNlUm93cycpXG5cbiAgZ2V0SW5zdGFuY2UoKS5yb3dzID0gcmVkdWNlSG9va3MoZ2V0VXNlUm93c0hvb2tzKCksIGdldEluc3RhbmNlKCkucm93cywge1xuICAgIGluc3RhbmNlOiBnZXRJbnN0YW5jZSgpLFxuICB9KVxuXG4gIC8vIFRoZSBwcmVwYXJlUm93IGZ1bmN0aW9uIGlzIGFic29sdXRlbHkgbmVjZXNzYXJ5IGFuZCBNVVNUIGJlIGNhbGxlZCBvblxuICAvLyBhbnkgcm93cyB0aGUgdXNlciB3aXNoZXMgdG8gYmUgZGlzcGxheWVkLlxuXG4gIC8vIFNuYXBzaG90IGhvb2sgYW5kIGRpc2FsbG93IG1vcmUgZnJvbSBiZWluZyBhZGRlZFxuICBjb25zdCBnZXRQcmVwYXJlUm93SG9va3MgPSB1c2VDb25zdW1lSG9va0dldHRlcihcbiAgICBnZXRJbnN0YW5jZSgpLmhvb2tzLFxuICAgICdwcmVwYXJlUm93J1xuICApXG5cbiAgLy8gU25hcHNob3QgaG9vayBhbmQgZGlzYWxsb3cgbW9yZSBmcm9tIGJlaW5nIGFkZGVkXG4gIGNvbnN0IGdldFJvd1Byb3BzSG9va3MgPSB1c2VDb25zdW1lSG9va0dldHRlcihcbiAgICBnZXRJbnN0YW5jZSgpLmhvb2tzLFxuICAgICdnZXRSb3dQcm9wcydcbiAgKVxuXG4gIC8vIFNuYXBzaG90IGhvb2sgYW5kIGRpc2FsbG93IG1vcmUgZnJvbSBiZWluZyBhZGRlZFxuICBjb25zdCBnZXRDZWxsUHJvcHNIb29rcyA9IHVzZUNvbnN1bWVIb29rR2V0dGVyKFxuICAgIGdldEluc3RhbmNlKCkuaG9va3MsXG4gICAgJ2dldENlbGxQcm9wcydcbiAgKVxuXG4gIC8vIFNuYXBzaG90IGhvb2sgYW5kIGRpc2FsbG93IG1vcmUgZnJvbSBiZWluZyBhZGRlZFxuICBjb25zdCBjZWxsc0hvb2tzID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoZ2V0SW5zdGFuY2UoKS5ob29rcywgJ2NlbGxzJylcblxuICBnZXRJbnN0YW5jZSgpLnByZXBhcmVSb3cgPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICByb3cgPT4ge1xuICAgICAgcm93LmdldFJvd1Byb3BzID0gbWFrZVByb3BHZXR0ZXIoZ2V0Um93UHJvcHNIb29rcygpLCB7XG4gICAgICAgIGluc3RhbmNlOiBnZXRJbnN0YW5jZSgpLFxuICAgICAgICByb3csXG4gICAgICB9KVxuXG4gICAgICAvLyBCdWlsZCB0aGUgdmlzaWJsZSBjZWxscyBmb3IgZWFjaCByb3dcbiAgICAgIHJvdy5hbGxDZWxscyA9IGZsYXRDb2x1bW5zLm1hcChjb2x1bW4gPT4ge1xuICAgICAgICBjb25zdCBjZWxsID0ge1xuICAgICAgICAgIGNvbHVtbixcbiAgICAgICAgICByb3csXG4gICAgICAgICAgdmFsdWU6IHJvdy52YWx1ZXNbY29sdW1uLmlkXSxcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdpdmUgZWFjaCBjZWxsIGEgZ2V0Q2VsbFByb3BzIGJhc2VcbiAgICAgICAgY2VsbC5nZXRDZWxsUHJvcHMgPSBtYWtlUHJvcEdldHRlcihnZXRDZWxsUHJvcHNIb29rcygpLCB7XG4gICAgICAgICAgaW5zdGFuY2U6IGdldEluc3RhbmNlKCksXG4gICAgICAgICAgY2VsbCxcbiAgICAgICAgfSlcblxuICAgICAgICAvLyBHaXZlIGVhY2ggY2VsbCBhIHJlbmRlcmVyIGZ1bmN0aW9uIChzdXBwb3J0cyBtdWx0aXBsZSByZW5kZXJlcnMpXG4gICAgICAgIGNlbGwucmVuZGVyID0gbWFrZVJlbmRlcmVyKGdldEluc3RhbmNlKCksIGNvbHVtbiwge1xuICAgICAgICAgIHJvdyxcbiAgICAgICAgICBjZWxsLFxuICAgICAgICB9KVxuXG4gICAgICAgIHJldHVybiBjZWxsXG4gICAgICB9KVxuXG4gICAgICByb3cuY2VsbHMgPSByZWR1Y2VIb29rcyhjZWxsc0hvb2tzKCksIHJvdy5hbGxDZWxscywge1xuICAgICAgICBpbnN0YW5jZTogZ2V0SW5zdGFuY2UoKSxcbiAgICAgIH0pXG5cbiAgICAgIC8vIG5lZWQgdG8gYXBwbHkgYW55IHJvdyBzcGVjaWZpYyBob29rcyAodXNlRXhwYW5kZWQgcmVxdWlyZXMgdGhpcylcbiAgICAgIGxvb3BIb29rcyhnZXRQcmVwYXJlUm93SG9va3MoKSwgcm93LCB7IGluc3RhbmNlOiBnZXRJbnN0YW5jZSgpIH0pXG4gICAgfSxcbiAgICBbXG4gICAgICBnZXRSb3dQcm9wc0hvb2tzLFxuICAgICAgZ2V0SW5zdGFuY2UsXG4gICAgICBmbGF0Q29sdW1ucyxcbiAgICAgIGNlbGxzSG9va3MsXG4gICAgICBnZXRQcmVwYXJlUm93SG9va3MsXG4gICAgICBnZXRDZWxsUHJvcHNIb29rcyxcbiAgICBdXG4gIClcblxuICAvLyBTbmFwc2hvdCBob29rIGFuZCBkaXNhbGxvdyBtb3JlIGZyb20gYmVpbmcgYWRkZWRcbiAgY29uc3QgZ2V0VGFibGVQcm9wc0hvb2tzID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoXG4gICAgZ2V0SW5zdGFuY2UoKS5ob29rcyxcbiAgICAnZ2V0VGFibGVQcm9wcydcbiAgKVxuXG4gIGdldEluc3RhbmNlKCkuZ2V0VGFibGVQcm9wcyA9IG1ha2VQcm9wR2V0dGVyKGdldFRhYmxlUHJvcHNIb29rcygpLCB7XG4gICAgaW5zdGFuY2U6IGdldEluc3RhbmNlKCksXG4gIH0pXG5cbiAgLy8gU25hcHNob3QgaG9vayBhbmQgZGlzYWxsb3cgbW9yZSBmcm9tIGJlaW5nIGFkZGVkXG4gIGNvbnN0IGdldFRhYmxlQm9keVByb3BzSG9va3MgPSB1c2VDb25zdW1lSG9va0dldHRlcihcbiAgICBnZXRJbnN0YW5jZSgpLmhvb2tzLFxuICAgICdnZXRUYWJsZUJvZHlQcm9wcydcbiAgKVxuXG4gIGdldEluc3RhbmNlKCkuZ2V0VGFibGVCb2R5UHJvcHMgPSBtYWtlUHJvcEdldHRlcihnZXRUYWJsZUJvZHlQcm9wc0hvb2tzKCksIHtcbiAgICBpbnN0YW5jZTogZ2V0SW5zdGFuY2UoKSxcbiAgfSlcblxuICAvLyBTbmFwc2hvdCBob29rIGFuZCBkaXNhbGxvdyBtb3JlIGZyb20gYmVpbmcgYWRkZWRcbiAgY29uc3QgZ2V0VXNlRmluYWxJbnN0YW5jZUhvb2tzID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoXG4gICAgZ2V0SW5zdGFuY2UoKS5ob29rcyxcbiAgICAndXNlRmluYWxJbnN0YW5jZSdcbiAgKVxuXG4gIGxvb3BIb29rcyhnZXRVc2VGaW5hbEluc3RhbmNlSG9va3MoKSwgZ2V0SW5zdGFuY2UoKSlcblxuICByZXR1cm4gZ2V0SW5zdGFuY2UoKVxufVxuXG5mdW5jdGlvbiBjYWxjdWxhdGVIZWFkZXJXaWR0aHMoaGVhZGVycywgbGVmdCA9IDApIHtcbiAgbGV0IHN1bVRvdGFsTWluV2lkdGggPSAwXG4gIGxldCBzdW1Ub3RhbFdpZHRoID0gMFxuICBsZXQgc3VtVG90YWxNYXhXaWR0aCA9IDBcblxuICBoZWFkZXJzLmZvckVhY2goaGVhZGVyID0+IHtcbiAgICBsZXQgeyBoZWFkZXJzOiBzdWJIZWFkZXJzIH0gPSBoZWFkZXJcblxuICAgIGhlYWRlci50b3RhbExlZnQgPSBsZWZ0XG5cbiAgICBpZiAoc3ViSGVhZGVycyAmJiBzdWJIZWFkZXJzLmxlbmd0aCkge1xuICAgICAgY29uc3QgW3RvdGFsTWluV2lkdGgsIHRvdGFsV2lkdGgsIHRvdGFsTWF4V2lkdGhdID0gY2FsY3VsYXRlSGVhZGVyV2lkdGhzKFxuICAgICAgICBzdWJIZWFkZXJzLFxuICAgICAgICBsZWZ0XG4gICAgICApXG4gICAgICBoZWFkZXIudG90YWxNaW5XaWR0aCA9IHRvdGFsTWluV2lkdGhcbiAgICAgIGhlYWRlci50b3RhbFdpZHRoID0gdG90YWxXaWR0aFxuICAgICAgaGVhZGVyLnRvdGFsTWF4V2lkdGggPSB0b3RhbE1heFdpZHRoXG4gICAgfSBlbHNlIHtcbiAgICAgIGhlYWRlci50b3RhbE1pbldpZHRoID0gaGVhZGVyLm1pbldpZHRoXG4gICAgICBoZWFkZXIudG90YWxXaWR0aCA9IE1hdGgubWluKFxuICAgICAgICBNYXRoLm1heChoZWFkZXIubWluV2lkdGgsIGhlYWRlci53aWR0aCksXG4gICAgICAgIGhlYWRlci5tYXhXaWR0aFxuICAgICAgKVxuICAgICAgaGVhZGVyLnRvdGFsTWF4V2lkdGggPSBoZWFkZXIubWF4V2lkdGhcbiAgICB9XG4gICAgaWYgKGhlYWRlci5pc1Zpc2libGUpIHtcbiAgICAgIGxlZnQgKz0gaGVhZGVyLnRvdGFsV2lkdGhcbiAgICAgIHN1bVRvdGFsTWluV2lkdGggKz0gaGVhZGVyLnRvdGFsTWluV2lkdGhcbiAgICAgIHN1bVRvdGFsV2lkdGggKz0gaGVhZGVyLnRvdGFsV2lkdGhcbiAgICAgIHN1bVRvdGFsTWF4V2lkdGggKz0gaGVhZGVyLnRvdGFsTWF4V2lkdGhcbiAgICB9XG4gIH0pXG5cbiAgcmV0dXJuIFtzdW1Ub3RhbE1pbldpZHRoLCBzdW1Ub3RhbFdpZHRoLCBzdW1Ub3RhbE1heFdpZHRoXVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQge1xuICBhY3Rpb25zLFxuICBtYWtlUHJvcEdldHRlcixcbiAgZXhwYW5kUm93cyxcbiAgdXNlTW91bnRlZExheW91dEVmZmVjdCxcbiAgdXNlR2V0TGF0ZXN0LFxufSBmcm9tICcuLi91dGlscydcbmltcG9ydCB7IHVzZUNvbnN1bWVIb29rR2V0dGVyLCBmdW5jdGlvbmFsVXBkYXRlIH0gZnJvbSAnLi4vcHVibGljVXRpbHMnXG5cbi8vIEFjdGlvbnNcbmFjdGlvbnMudG9nZ2xlRXhwYW5kZWQgPSAndG9nZ2xlRXhwYW5kZWQnXG5hY3Rpb25zLnRvZ2dsZUFsbEV4cGFuZGVkID0gJ3RvZ2dsZUFsbEV4cGFuZGVkJ1xuYWN0aW9ucy5zZXRFeHBhbmRlZCA9ICdzZXRFeHBhbmRlZCdcbmFjdGlvbnMucmVzZXRFeHBhbmRlZCA9ICdyZXNldEV4cGFuZGVkJ1xuXG5leHBvcnQgY29uc3QgdXNlRXhwYW5kZWQgPSBob29rcyA9PiB7XG4gIGhvb2tzLmdldEV4cGFuZGVkVG9nZ2xlUHJvcHMgPSBbZGVmYXVsdEdldEV4cGFuZGVkVG9nZ2xlUHJvcHNdXG4gIGhvb2tzLnN0YXRlUmVkdWNlcnMucHVzaChyZWR1Y2VyKVxuICBob29rcy51c2VJbnN0YW5jZS5wdXNoKHVzZUluc3RhbmNlKVxufVxuXG51c2VFeHBhbmRlZC5wbHVnaW5OYW1lID0gJ3VzZUV4cGFuZGVkJ1xuXG5jb25zdCBkZWZhdWx0R2V0RXhwYW5kZWRUb2dnbGVQcm9wcyA9IChwcm9wcywgeyByb3cgfSkgPT4gW1xuICBwcm9wcyxcbiAge1xuICAgIG9uQ2xpY2s6IGUgPT4ge1xuICAgICAgZS5wZXJzaXN0KClcbiAgICAgIHJvdy50b2dnbGVFeHBhbmRlZCgpXG4gICAgfSxcbiAgICBzdHlsZToge1xuICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgfSxcbiAgICB0aXRsZTogJ1RvZ2dsZSBFeHBhbmRlZCcsXG4gIH0sXG5dXG5cbi8vIFJlZHVjZXJcbmZ1bmN0aW9uIHJlZHVjZXIoc3RhdGUsIGFjdGlvbiwgcHJldmlvdXNTdGF0ZSwgaW5zdGFuY2UpIHtcbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLmluaXQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZXhwYW5kZWQ6IHt9LFxuICAgICAgLi4uc3RhdGUsXG4gICAgfVxuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLnJlc2V0RXhwYW5kZWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBleHBhbmRlZDogaW5zdGFuY2UuaW5pdGlhbFN0YXRlLmV4cGFuZGVkIHx8IHt9LFxuICAgIH1cbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5zZXRFeHBhbmRlZCkge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIGV4cGFuZGVkOiBmdW5jdGlvbmFsVXBkYXRlKGFjdGlvbi5leHBhbmRlZCwgc3RhdGUuZXhwYW5kZWQpLFxuICAgIH1cbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy50b2dnbGVFeHBhbmRlZCkge1xuICAgIGNvbnN0IHsgaWQsIGV4cGFuZGVkOiBzZXRFeHBhbmRlZCB9ID0gYWN0aW9uXG4gICAgY29uc3QgZXhpc3RzID0gc3RhdGUuZXhwYW5kZWRbaWRdXG5cbiAgICBjb25zdCBzaG91bGRFeGlzdCA9XG4gICAgICB0eXBlb2Ygc2V0RXhwYW5kZWQgIT09ICd1bmRlZmluZWQnID8gc2V0RXhwYW5kZWQgOiAhZXhpc3RzXG5cbiAgICBpZiAoIWV4aXN0cyAmJiBzaG91bGRFeGlzdCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGV4cGFuZGVkOiB7XG4gICAgICAgICAgLi4uc3RhdGUuZXhwYW5kZWQsXG4gICAgICAgICAgW2lkXTogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGV4aXN0cyAmJiAhc2hvdWxkRXhpc3QpIHtcbiAgICAgIGNvbnN0IHsgW2lkXTogXywgLi4ucmVzdCB9ID0gc3RhdGUuZXhwYW5kZWRcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBleHBhbmRlZDogcmVzdCxcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHN0YXRlXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHVzZUluc3RhbmNlKGluc3RhbmNlKSB7XG4gIGNvbnN0IHtcbiAgICBkYXRhLFxuICAgIHJvd3MsXG4gICAgbWFudWFsRXhwYW5kZWRLZXkgPSAnZXhwYW5kZWQnLFxuICAgIHBhZ2luYXRlRXhwYW5kZWRSb3dzID0gdHJ1ZSxcbiAgICBleHBhbmRTdWJSb3dzID0gdHJ1ZSxcbiAgICBob29rcyxcbiAgICBhdXRvUmVzZXRFeHBhbmRlZCA9IHRydWUsXG4gICAgc3RhdGU6IHsgZXhwYW5kZWQgfSxcbiAgICBkaXNwYXRjaCxcbiAgfSA9IGluc3RhbmNlXG5cbiAgY29uc3QgZ2V0QXV0b1Jlc2V0RXhwYW5kZWQgPSB1c2VHZXRMYXRlc3QoYXV0b1Jlc2V0RXhwYW5kZWQpXG5cbiAgLy8gQnlwYXNzIGFueSBlZmZlY3RzIGZyb20gZmlyaW5nIHdoZW4gdGhpcyBjaGFuZ2VzXG4gIHVzZU1vdW50ZWRMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChnZXRBdXRvUmVzZXRFeHBhbmRlZCgpKSB7XG4gICAgICBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvbnMucmVzZXRFeHBhbmRlZCB9KVxuICAgIH1cbiAgfSwgW2Rpc3BhdGNoLCBkYXRhXSlcblxuICBjb25zdCB0b2dnbGVFeHBhbmRlZCA9IChpZCwgZXhwYW5kZWQpID0+IHtcbiAgICBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvbnMudG9nZ2xlRXhwYW5kZWQsIGlkLCBleHBhbmRlZCB9KVxuICB9XG5cbiAgLy8gdXNlIHJlZmVyZW5jZSB0byBhdm9pZCBtZW1vcnkgbGVhayBpbiAjMTYwOFxuICBjb25zdCBnZXRJbnN0YW5jZSA9IHVzZUdldExhdGVzdChpbnN0YW5jZSlcblxuICBjb25zdCBnZXRFeHBhbmRlZFRvZ2dsZVByb3BzSG9va3MgPSB1c2VDb25zdW1lSG9va0dldHRlcihcbiAgICBnZXRJbnN0YW5jZSgpLmhvb2tzLFxuICAgICdnZXRFeHBhbmRlZFRvZ2dsZVByb3BzJ1xuICApXG5cbiAgaG9va3MucHJlcGFyZVJvdy5wdXNoKHJvdyA9PiB7XG4gICAgcm93LnRvZ2dsZUV4cGFuZGVkID0gc2V0ID0+IGluc3RhbmNlLnRvZ2dsZUV4cGFuZGVkKHJvdy5pZCwgc2V0KVxuXG4gICAgcm93LmdldEV4cGFuZGVkVG9nZ2xlUHJvcHMgPSBtYWtlUHJvcEdldHRlcihnZXRFeHBhbmRlZFRvZ2dsZVByb3BzSG9va3MoKSwge1xuICAgICAgaW5zdGFuY2U6IGdldEluc3RhbmNlKCksXG4gICAgICByb3csXG4gICAgfSlcbiAgfSlcblxuICBjb25zdCBleHBhbmRlZFJvd3MgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICBpZiAocGFnaW5hdGVFeHBhbmRlZFJvd3MpIHtcbiAgICAgIHJldHVybiBleHBhbmRSb3dzKHJvd3MsIHsgbWFudWFsRXhwYW5kZWRLZXksIGV4cGFuZGVkLCBleHBhbmRTdWJSb3dzIH0pXG4gICAgfVxuXG4gICAgcmV0dXJuIHJvd3NcbiAgfSwgW3BhZ2luYXRlRXhwYW5kZWRSb3dzLCByb3dzLCBtYW51YWxFeHBhbmRlZEtleSwgZXhwYW5kZWQsIGV4cGFuZFN1YlJvd3NdKVxuXG4gIGNvbnN0IGV4cGFuZGVkRGVwdGggPSBSZWFjdC51c2VNZW1vKCgpID0+IGZpbmRFeHBhbmRlZERlcHRoKGV4cGFuZGVkKSwgW1xuICAgIGV4cGFuZGVkLFxuICBdKVxuXG4gIE9iamVjdC5hc3NpZ24oaW5zdGFuY2UsIHtcbiAgICBwcmVFeHBhbmRlZFJvd3M6IHJvd3MsXG4gICAgZXhwYW5kZWRSb3dzLFxuICAgIHJvd3M6IGV4cGFuZGVkUm93cyxcbiAgICB0b2dnbGVFeHBhbmRlZCxcbiAgICBleHBhbmRlZERlcHRoLFxuICB9KVxufVxuXG5mdW5jdGlvbiBmaW5kRXhwYW5kZWREZXB0aChleHBhbmRlZCkge1xuICBsZXQgbWF4RGVwdGggPSAwXG5cbiAgT2JqZWN0LmtleXMoZXhwYW5kZWQpLmZvckVhY2goaWQgPT4ge1xuICAgIGNvbnN0IHNwbGl0SWQgPSBpZC5zcGxpdCgnLicpXG4gICAgbWF4RGVwdGggPSBNYXRoLm1heChtYXhEZXB0aCwgc3BsaXRJZC5sZW5ndGgpXG4gIH0pXG5cbiAgcmV0dXJuIG1heERlcHRoXG59XG4iLCJleHBvcnQgY29uc3QgdGV4dCA9IChyb3dzLCBpZHMsIGZpbHRlclZhbHVlKSA9PiB7XG4gIHJvd3MgPSByb3dzLmZpbHRlcihyb3cgPT4ge1xuICAgIHJldHVybiBpZHMuc29tZShpZCA9PiB7XG4gICAgICBjb25zdCByb3dWYWx1ZSA9IHJvdy52YWx1ZXNbaWRdXG4gICAgICByZXR1cm4gU3RyaW5nKHJvd1ZhbHVlKVxuICAgICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgICAuaW5jbHVkZXMoU3RyaW5nKGZpbHRlclZhbHVlKS50b0xvd2VyQ2FzZSgpKVxuICAgIH0pXG4gIH0pXG4gIHJldHVybiByb3dzXG59XG5cbnRleHQuYXV0b1JlbW92ZSA9IHZhbCA9PiAhdmFsXG5cbmV4cG9ydCBjb25zdCBleGFjdFRleHQgPSAocm93cywgaWRzLCBmaWx0ZXJWYWx1ZSkgPT4ge1xuICByZXR1cm4gcm93cy5maWx0ZXIocm93ID0+IHtcbiAgICByZXR1cm4gaWRzLnNvbWUoaWQgPT4ge1xuICAgICAgY29uc3Qgcm93VmFsdWUgPSByb3cudmFsdWVzW2lkXVxuICAgICAgcmV0dXJuIHJvd1ZhbHVlICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBTdHJpbmcocm93VmFsdWUpLnRvTG93ZXJDYXNlKCkgPT09IFN0cmluZyhmaWx0ZXJWYWx1ZSkudG9Mb3dlckNhc2UoKVxuICAgICAgICA6IHRydWVcbiAgICB9KVxuICB9KVxufVxuXG5leGFjdFRleHQuYXV0b1JlbW92ZSA9IHZhbCA9PiAhdmFsXG5cbmV4cG9ydCBjb25zdCBleGFjdFRleHRDYXNlID0gKHJvd3MsIGlkcywgZmlsdGVyVmFsdWUpID0+IHtcbiAgcmV0dXJuIHJvd3MuZmlsdGVyKHJvdyA9PiB7XG4gICAgcmV0dXJuIGlkcy5zb21lKGlkID0+IHtcbiAgICAgIGNvbnN0IHJvd1ZhbHVlID0gcm93LnZhbHVlc1tpZF1cbiAgICAgIHJldHVybiByb3dWYWx1ZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gU3RyaW5nKHJvd1ZhbHVlKSA9PT0gU3RyaW5nKGZpbHRlclZhbHVlKVxuICAgICAgICA6IHRydWVcbiAgICB9KVxuICB9KVxufVxuXG5leGFjdFRleHRDYXNlLmF1dG9SZW1vdmUgPSB2YWwgPT4gIXZhbFxuXG5leHBvcnQgY29uc3QgaW5jbHVkZXMgPSAocm93cywgaWRzLCBmaWx0ZXJWYWx1ZSkgPT4ge1xuICByZXR1cm4gcm93cy5maWx0ZXIocm93ID0+IHtcbiAgICByZXR1cm4gaWRzLnNvbWUoaWQgPT4ge1xuICAgICAgY29uc3Qgcm93VmFsdWUgPSByb3cudmFsdWVzW2lkXVxuICAgICAgcmV0dXJuIGZpbHRlclZhbHVlLmluY2x1ZGVzKHJvd1ZhbHVlKVxuICAgIH0pXG4gIH0pXG59XG5cbmluY2x1ZGVzLmF1dG9SZW1vdmUgPSB2YWwgPT4gIXZhbCB8fCAhdmFsLmxlbmd0aFxuXG5leHBvcnQgY29uc3QgaW5jbHVkZXNBbGwgPSAocm93cywgaWRzLCBmaWx0ZXJWYWx1ZSkgPT4ge1xuICByZXR1cm4gcm93cy5maWx0ZXIocm93ID0+IHtcbiAgICByZXR1cm4gaWRzLnNvbWUoaWQgPT4ge1xuICAgICAgY29uc3Qgcm93VmFsdWUgPSByb3cudmFsdWVzW2lkXVxuICAgICAgcmV0dXJuIChcbiAgICAgICAgcm93VmFsdWUgJiZcbiAgICAgICAgcm93VmFsdWUubGVuZ3RoICYmXG4gICAgICAgIGZpbHRlclZhbHVlLmV2ZXJ5KHZhbCA9PiByb3dWYWx1ZS5pbmNsdWRlcyh2YWwpKVxuICAgICAgKVxuICAgIH0pXG4gIH0pXG59XG5cbmluY2x1ZGVzQWxsLmF1dG9SZW1vdmUgPSB2YWwgPT4gIXZhbCB8fCAhdmFsLmxlbmd0aFxuXG5leHBvcnQgY29uc3QgZXhhY3QgPSAocm93cywgaWRzLCBmaWx0ZXJWYWx1ZSkgPT4ge1xuICByZXR1cm4gcm93cy5maWx0ZXIocm93ID0+IHtcbiAgICByZXR1cm4gaWRzLnNvbWUoaWQgPT4ge1xuICAgICAgY29uc3Qgcm93VmFsdWUgPSByb3cudmFsdWVzW2lkXVxuICAgICAgcmV0dXJuIHJvd1ZhbHVlID09PSBmaWx0ZXJWYWx1ZVxuICAgIH0pXG4gIH0pXG59XG5cbmV4YWN0LmF1dG9SZW1vdmUgPSB2YWwgPT4gdHlwZW9mIHZhbCA9PT0gJ3VuZGVmaW5lZCdcblxuZXhwb3J0IGNvbnN0IGVxdWFscyA9IChyb3dzLCBpZHMsIGZpbHRlclZhbHVlKSA9PiB7XG4gIHJldHVybiByb3dzLmZpbHRlcihyb3cgPT4ge1xuICAgIHJldHVybiBpZHMuc29tZShpZCA9PiB7XG4gICAgICBjb25zdCByb3dWYWx1ZSA9IHJvdy52YWx1ZXNbaWRdXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG4gICAgICByZXR1cm4gcm93VmFsdWUgPT0gZmlsdGVyVmFsdWVcbiAgICB9KVxuICB9KVxufVxuXG5lcXVhbHMuYXV0b1JlbW92ZSA9IHZhbCA9PiB2YWwgPT0gbnVsbFxuXG5leHBvcnQgY29uc3QgYmV0d2VlbiA9IChyb3dzLCBpZHMsIGZpbHRlclZhbHVlKSA9PiB7XG4gIGxldCBbbWluLCBtYXhdID0gZmlsdGVyVmFsdWUgfHwgW11cblxuICBtaW4gPSB0eXBlb2YgbWluID09PSAnbnVtYmVyJyA/IG1pbiA6IC1JbmZpbml0eVxuICBtYXggPSB0eXBlb2YgbWF4ID09PSAnbnVtYmVyJyA/IG1heCA6IEluZmluaXR5XG5cbiAgaWYgKG1pbiA+IG1heCkge1xuICAgIGNvbnN0IHRlbXAgPSBtaW5cbiAgICBtaW4gPSBtYXhcbiAgICBtYXggPSB0ZW1wXG4gIH1cblxuICByZXR1cm4gcm93cy5maWx0ZXIocm93ID0+IHtcbiAgICByZXR1cm4gaWRzLnNvbWUoaWQgPT4ge1xuICAgICAgY29uc3Qgcm93VmFsdWUgPSByb3cudmFsdWVzW2lkXVxuICAgICAgcmV0dXJuIHJvd1ZhbHVlID49IG1pbiAmJiByb3dWYWx1ZSA8PSBtYXhcbiAgICB9KVxuICB9KVxufVxuXG5iZXR3ZWVuLmF1dG9SZW1vdmUgPSB2YWwgPT5cbiAgIXZhbCB8fCAodHlwZW9mIHZhbFswXSAhPT0gJ251bWJlcicgJiYgdHlwZW9mIHZhbFsxXSAhPT0gJ251bWJlcicpXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5cbmltcG9ydCB7XG4gIGFjdGlvbnMsXG4gIGdldEZpcnN0RGVmaW5lZCxcbiAgZ2V0RmlsdGVyTWV0aG9kLFxuICB1c2VNb3VudGVkTGF5b3V0RWZmZWN0LFxuICBmdW5jdGlvbmFsVXBkYXRlLFxuICB1c2VHZXRMYXRlc3QsXG4gIHNob3VsZEF1dG9SZW1vdmVGaWx0ZXIsXG59IGZyb20gJy4uL3V0aWxzJ1xuaW1wb3J0ICogYXMgZmlsdGVyVHlwZXMgZnJvbSAnLi4vZmlsdGVyVHlwZXMnXG5cbi8vIEFjdGlvbnNcbmFjdGlvbnMucmVzZXRGaWx0ZXJzID0gJ3Jlc2V0RmlsdGVycydcbmFjdGlvbnMuc2V0RmlsdGVyID0gJ3NldEZpbHRlcidcbmFjdGlvbnMuc2V0QWxsRmlsdGVycyA9ICdzZXRBbGxGaWx0ZXJzJ1xuXG5leHBvcnQgY29uc3QgdXNlRmlsdGVycyA9IGhvb2tzID0+IHtcbiAgaG9va3Muc3RhdGVSZWR1Y2Vycy5wdXNoKHJlZHVjZXIpXG4gIGhvb2tzLnVzZUluc3RhbmNlLnB1c2godXNlSW5zdGFuY2UpXG59XG5cbnVzZUZpbHRlcnMucGx1Z2luTmFtZSA9ICd1c2VGaWx0ZXJzJ1xuXG5mdW5jdGlvbiByZWR1Y2VyKHN0YXRlLCBhY3Rpb24sIHByZXZpb3VzU3RhdGUsIGluc3RhbmNlKSB7XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5pbml0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGZpbHRlcnM6IFtdLFxuICAgICAgLi4uc3RhdGUsXG4gICAgfVxuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLnJlc2V0RmlsdGVycykge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIGZpbHRlcnM6IGluc3RhbmNlLmluaXRpYWxTdGF0ZS5maWx0ZXJzIHx8IFtdLFxuICAgIH1cbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5zZXRGaWx0ZXIpIHtcbiAgICBjb25zdCB7IGNvbHVtbklkLCBmaWx0ZXJWYWx1ZSB9ID0gYWN0aW9uXG4gICAgY29uc3QgeyBmbGF0Q29sdW1ucywgdXNlckZpbHRlclR5cGVzIH0gPSBpbnN0YW5jZVxuXG4gICAgY29uc3QgY29sdW1uID0gZmxhdENvbHVtbnMuZmluZChkID0+IGQuaWQgPT09IGNvbHVtbklkKVxuXG4gICAgaWYgKCFjb2x1bW4pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFJlYWN0LVRhYmxlOiBDb3VsZCBub3QgZmluZCBhIGNvbHVtbiB3aXRoIGlkOiAke2NvbHVtbklkfWBcbiAgICAgIClcbiAgICB9XG5cbiAgICBjb25zdCBmaWx0ZXJNZXRob2QgPSBnZXRGaWx0ZXJNZXRob2QoXG4gICAgICBjb2x1bW4uZmlsdGVyLFxuICAgICAgdXNlckZpbHRlclR5cGVzIHx8IHt9LFxuICAgICAgZmlsdGVyVHlwZXNcbiAgICApXG5cbiAgICBjb25zdCBwcmV2aW91c2ZpbHRlciA9IHN0YXRlLmZpbHRlcnMuZmluZChkID0+IGQuaWQgPT09IGNvbHVtbklkKVxuXG4gICAgY29uc3QgbmV3RmlsdGVyID0gZnVuY3Rpb25hbFVwZGF0ZShcbiAgICAgIGZpbHRlclZhbHVlLFxuICAgICAgcHJldmlvdXNmaWx0ZXIgJiYgcHJldmlvdXNmaWx0ZXIudmFsdWVcbiAgICApXG5cbiAgICAvL1xuICAgIGlmIChzaG91bGRBdXRvUmVtb3ZlRmlsdGVyKGZpbHRlck1ldGhvZC5hdXRvUmVtb3ZlLCBuZXdGaWx0ZXIpKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgZmlsdGVyczogc3RhdGUuZmlsdGVycy5maWx0ZXIoZCA9PiBkLmlkICE9PSBjb2x1bW5JZCksXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHByZXZpb3VzZmlsdGVyKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgZmlsdGVyczogc3RhdGUuZmlsdGVycy5tYXAoZCA9PiB7XG4gICAgICAgICAgaWYgKGQuaWQgPT09IGNvbHVtbklkKSB7XG4gICAgICAgICAgICByZXR1cm4geyBpZDogY29sdW1uSWQsIHZhbHVlOiBuZXdGaWx0ZXIgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZFxuICAgICAgICB9KSxcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBmaWx0ZXJzOiBbLi4uc3RhdGUuZmlsdGVycywgeyBpZDogY29sdW1uSWQsIHZhbHVlOiBuZXdGaWx0ZXIgfV0sXG4gICAgfVxuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLnNldEFsbEZpbHRlcnMpIHtcbiAgICBjb25zdCB7IGZpbHRlcnMgfSA9IGFjdGlvblxuICAgIGNvbnN0IHsgZmxhdENvbHVtbnMsIGZpbHRlclR5cGVzOiB1c2VyRmlsdGVyVHlwZXMgfSA9IGluc3RhbmNlXG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICAvLyBGaWx0ZXIgb3V0IHVuZGVmaW5lZCB2YWx1ZXNcbiAgICAgIGZpbHRlcnM6IGZ1bmN0aW9uYWxVcGRhdGUoZmlsdGVycywgc3RhdGUuZmlsdGVycykuZmlsdGVyKGZpbHRlciA9PiB7XG4gICAgICAgIGNvbnN0IGNvbHVtbiA9IGZsYXRDb2x1bW5zLmZpbmQoZCA9PiBkLmlkID09PSBmaWx0ZXIuaWQpXG4gICAgICAgIGNvbnN0IGZpbHRlck1ldGhvZCA9IGdldEZpbHRlck1ldGhvZChcbiAgICAgICAgICBjb2x1bW4uZmlsdGVyLFxuICAgICAgICAgIHVzZXJGaWx0ZXJUeXBlcyB8fCB7fSxcbiAgICAgICAgICBmaWx0ZXJUeXBlc1xuICAgICAgICApXG5cbiAgICAgICAgaWYgKHNob3VsZEF1dG9SZW1vdmVGaWx0ZXIoZmlsdGVyTWV0aG9kLmF1dG9SZW1vdmUsIGZpbHRlci52YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfSksXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHVzZUluc3RhbmNlKGluc3RhbmNlKSB7XG4gIGNvbnN0IHtcbiAgICBkYXRhLFxuICAgIHJvd3MsXG4gICAgZmxhdFJvd3MsXG4gICAgZmxhdENvbHVtbnMsXG4gICAgZmlsdGVyVHlwZXM6IHVzZXJGaWx0ZXJUeXBlcyxcbiAgICBtYW51YWxGaWx0ZXJzLFxuICAgIGRlZmF1bHRDYW5GaWx0ZXIgPSBmYWxzZSxcbiAgICBkaXNhYmxlRmlsdGVycyxcbiAgICBzdGF0ZTogeyBmaWx0ZXJzIH0sXG4gICAgZGlzcGF0Y2gsXG4gICAgYXV0b1Jlc2V0RmlsdGVycyA9IHRydWUsXG4gIH0gPSBpbnN0YW5jZVxuXG4gIGNvbnN0IHNldEZpbHRlciA9IChjb2x1bW5JZCwgZmlsdGVyVmFsdWUpID0+IHtcbiAgICBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvbnMuc2V0RmlsdGVyLCBjb2x1bW5JZCwgZmlsdGVyVmFsdWUgfSlcbiAgfVxuXG4gIGNvbnN0IHNldEFsbEZpbHRlcnMgPSBmaWx0ZXJzID0+IHtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBhY3Rpb25zLnNldEFsbEZpbHRlcnMsXG4gICAgICBmaWx0ZXJzLFxuICAgIH0pXG4gIH1cblxuICBmbGF0Q29sdW1ucy5mb3JFYWNoKGNvbHVtbiA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgaWQsXG4gICAgICBhY2Nlc3NvcixcbiAgICAgIGRlZmF1bHRDYW5GaWx0ZXI6IGNvbHVtbkRlZmF1bHRDYW5GaWx0ZXIsXG4gICAgICBkaXNhYmxlRmlsdGVyczogY29sdW1uRGlzYWJsZUZpbHRlcnMsXG4gICAgfSA9IGNvbHVtblxuXG4gICAgLy8gRGV0ZXJtaW5lIGlmIGEgY29sdW1uIGlzIGZpbHRlcmFibGVcbiAgICBjb2x1bW4uY2FuRmlsdGVyID0gYWNjZXNzb3JcbiAgICAgID8gZ2V0Rmlyc3REZWZpbmVkKFxuICAgICAgICAgIGNvbHVtbkRpc2FibGVGaWx0ZXJzID09PSB0cnVlID8gZmFsc2UgOiB1bmRlZmluZWQsXG4gICAgICAgICAgZGlzYWJsZUZpbHRlcnMgPT09IHRydWUgPyBmYWxzZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICB0cnVlXG4gICAgICAgIClcbiAgICAgIDogZ2V0Rmlyc3REZWZpbmVkKGNvbHVtbkRlZmF1bHRDYW5GaWx0ZXIsIGRlZmF1bHRDYW5GaWx0ZXIsIGZhbHNlKVxuXG4gICAgLy8gUHJvdmlkZSB0aGUgY29sdW1uIGEgd2F5IG9mIHVwZGF0aW5nIHRoZSBmaWx0ZXIgdmFsdWVcbiAgICBjb2x1bW4uc2V0RmlsdGVyID0gdmFsID0+IHNldEZpbHRlcihjb2x1bW4uaWQsIHZhbClcblxuICAgIC8vIFByb3ZpZGUgdGhlIGN1cnJlbnQgZmlsdGVyIHZhbHVlIHRvIHRoZSBjb2x1bW4gZm9yXG4gICAgLy8gY29udmVuaWVuY2VcbiAgICBjb25zdCBmb3VuZCA9IGZpbHRlcnMuZmluZChkID0+IGQuaWQgPT09IGlkKVxuICAgIGNvbHVtbi5maWx0ZXJWYWx1ZSA9IGZvdW5kICYmIGZvdW5kLnZhbHVlXG4gIH0pXG5cbiAgY29uc3QgW2ZpbHRlcmVkUm93cywgZmlsdGVyZWRGbGF0Um93c10gPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICBpZiAobWFudWFsRmlsdGVycyB8fCAhZmlsdGVycy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBbcm93cywgZmxhdFJvd3NdXG4gICAgfVxuXG4gICAgY29uc3QgZmlsdGVyZWRGbGF0Um93cyA9IFtdXG5cbiAgICAvLyBGaWx0ZXJzIHRvcCBsZXZlbCBhbmQgbmVzdGVkIHJvd3NcbiAgICBjb25zdCBmaWx0ZXJSb3dzID0gKHJvd3MsIGRlcHRoID0gMCkgPT4ge1xuICAgICAgbGV0IGZpbHRlcmVkUm93cyA9IHJvd3NcblxuICAgICAgZmlsdGVyZWRSb3dzID0gZmlsdGVycy5yZWR1Y2UoXG4gICAgICAgIChmaWx0ZXJlZFNvRmFyLCB7IGlkOiBjb2x1bW5JZCwgdmFsdWU6IGZpbHRlclZhbHVlIH0pID0+IHtcbiAgICAgICAgICAvLyBGaW5kIHRoZSBmaWx0ZXJzIGNvbHVtblxuICAgICAgICAgIGNvbnN0IGNvbHVtbiA9IGZsYXRDb2x1bW5zLmZpbmQoZCA9PiBkLmlkID09PSBjb2x1bW5JZClcblxuICAgICAgICAgIGlmICghY29sdW1uKSB7XG4gICAgICAgICAgICByZXR1cm4gZmlsdGVyZWRTb0ZhclxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChkZXB0aCA9PT0gMCkge1xuICAgICAgICAgICAgY29sdW1uLnByZUZpbHRlcmVkUm93cyA9IGZpbHRlcmVkU29GYXJcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBmaWx0ZXJNZXRob2QgPSBnZXRGaWx0ZXJNZXRob2QoXG4gICAgICAgICAgICBjb2x1bW4uZmlsdGVyLFxuICAgICAgICAgICAgdXNlckZpbHRlclR5cGVzIHx8IHt9LFxuICAgICAgICAgICAgZmlsdGVyVHlwZXNcbiAgICAgICAgICApXG5cbiAgICAgICAgICBpZiAoIWZpbHRlck1ldGhvZCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICBgQ291bGQgbm90IGZpbmQgYSB2YWxpZCAnY29sdW1uLmZpbHRlcicgZm9yIGNvbHVtbiB3aXRoIHRoZSBJRDogJHtjb2x1bW4uaWR9LmBcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHJldHVybiBmaWx0ZXJlZFNvRmFyXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gUGFzcyB0aGUgcm93cywgaWQsIGZpbHRlclZhbHVlIGFuZCBjb2x1bW4gdG8gdGhlIGZpbHRlck1ldGhvZFxuICAgICAgICAgIC8vIHRvIGdldCB0aGUgZmlsdGVyZWQgcm93cyBiYWNrXG4gICAgICAgICAgY29sdW1uLmZpbHRlcmVkUm93cyA9IGZpbHRlck1ldGhvZChcbiAgICAgICAgICAgIGZpbHRlcmVkU29GYXIsXG4gICAgICAgICAgICBbY29sdW1uSWRdLFxuICAgICAgICAgICAgZmlsdGVyVmFsdWVcbiAgICAgICAgICApXG5cbiAgICAgICAgICByZXR1cm4gY29sdW1uLmZpbHRlcmVkUm93c1xuICAgICAgICB9LFxuICAgICAgICByb3dzXG4gICAgICApXG5cbiAgICAgIC8vIEFwcGx5IHRoZSBmaWx0ZXIgdG8gYW55IHN1YlJvd3NcbiAgICAgIC8vIFdlIHRlY2huaWNhbGx5IGNvdWxkIGRvIHRoaXMgcmVjdXJzaXZlbHkgaW4gdGhlIGFib3ZlIGxvb3AsXG4gICAgICAvLyBidXQgdGhhdCB3b3VsZCBzZXZlcmVseSBoaW5kZXIgdGhlIEFQSSBmb3IgdGhlIHVzZXIsIHNpbmNlIHRoZXlcbiAgICAgIC8vIHdvdWxkIGJlIHJlcXVpcmVkIHRvIGRvIHRoYXQgcmVjdXJzaW9uIGluIHNvbWUgc2NlbmFyaW9zXG4gICAgICBmaWx0ZXJlZFJvd3MgPSBmaWx0ZXJlZFJvd3MubWFwKHJvdyA9PiB7XG4gICAgICAgIGZpbHRlcmVkRmxhdFJvd3MucHVzaChyb3cpXG4gICAgICAgIGlmICghcm93LnN1YlJvd3MpIHtcbiAgICAgICAgICByZXR1cm4gcm93XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5yb3csXG4gICAgICAgICAgc3ViUm93czpcbiAgICAgICAgICAgIHJvdy5zdWJSb3dzICYmIHJvdy5zdWJSb3dzLmxlbmd0aCA+IDBcbiAgICAgICAgICAgICAgPyBmaWx0ZXJSb3dzKHJvdy5zdWJSb3dzLCBkZXB0aCArIDEpXG4gICAgICAgICAgICAgIDogcm93LnN1YlJvd3MsXG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIHJldHVybiBmaWx0ZXJlZFJvd3NcbiAgICB9XG5cbiAgICByZXR1cm4gW2ZpbHRlclJvd3Mocm93cyksIGZpbHRlcmVkRmxhdFJvd3NdXG4gIH0sIFttYW51YWxGaWx0ZXJzLCBmaWx0ZXJzLCByb3dzLCBmbGF0Um93cywgZmxhdENvbHVtbnMsIHVzZXJGaWx0ZXJUeXBlc10pXG5cbiAgUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgLy8gTm93IHRoYXQgZWFjaCBmaWx0ZXJlZCBjb2x1bW4gaGFzIGl0J3MgcGFydGlhbGx5IGZpbHRlcmVkIHJvd3MsXG4gICAgLy8gbGV0cyBhc3NpZ24gdGhlIGZpbmFsIGZpbHRlcmVkIHJvd3MgdG8gYWxsIG9mIHRoZSBvdGhlciBjb2x1bW5zXG4gICAgY29uc3Qgbm9uRmlsdGVyZWRDb2x1bW5zID0gZmxhdENvbHVtbnMuZmlsdGVyKFxuICAgICAgY29sdW1uID0+ICFmaWx0ZXJzLmZpbmQoZCA9PiBkLmlkID09PSBjb2x1bW4uaWQpXG4gICAgKVxuXG4gICAgLy8gVGhpcyBlc3NlbnRpYWxseSBlbmFibGVzIGZhY2V0ZWQgZmlsdGVyIG9wdGlvbnMgdG8gYmUgYnVpbHQgZWFzaWx5XG4gICAgLy8gdXNpbmcgZXZlcnkgY29sdW1uJ3MgcHJlRmlsdGVyZWRSb3dzIHZhbHVlXG4gICAgbm9uRmlsdGVyZWRDb2x1bW5zLmZvckVhY2goY29sdW1uID0+IHtcbiAgICAgIGNvbHVtbi5wcmVGaWx0ZXJlZFJvd3MgPSBmaWx0ZXJlZFJvd3NcbiAgICAgIGNvbHVtbi5maWx0ZXJlZFJvd3MgPSBmaWx0ZXJlZFJvd3NcbiAgICB9KVxuICB9LCBbZmlsdGVyZWRSb3dzLCBmaWx0ZXJzLCBmbGF0Q29sdW1uc10pXG5cbiAgY29uc3QgZ2V0QXV0b1Jlc2V0RmlsdGVycyA9IHVzZUdldExhdGVzdChhdXRvUmVzZXRGaWx0ZXJzKVxuXG4gIHVzZU1vdW50ZWRMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChnZXRBdXRvUmVzZXRGaWx0ZXJzKCkpIHtcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogYWN0aW9ucy5yZXNldEZpbHRlcnMgfSlcbiAgICB9XG4gIH0sIFtkaXNwYXRjaCwgbWFudWFsRmlsdGVycyA/IG51bGwgOiBkYXRhXSlcblxuICBPYmplY3QuYXNzaWduKGluc3RhbmNlLCB7XG4gICAgcHJlRmlsdGVyZWRSb3dzOiByb3dzLFxuICAgIHByZUZpbHRlcmVkRmxhdFJvd3M6IGZsYXRSb3dzLFxuICAgIGZpbHRlcmVkUm93cyxcbiAgICBmaWx0ZXJlZEZsYXRSb3dzLFxuICAgIHJvd3M6IGZpbHRlcmVkUm93cyxcbiAgICBmbGF0Um93czogZmlsdGVyZWRGbGF0Um93cyxcbiAgICBzZXRGaWx0ZXIsXG4gICAgc2V0QWxsRmlsdGVycyxcbiAgfSlcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHtcbiAgYWN0aW9ucyxcbiAgZ2V0RmlsdGVyTWV0aG9kLFxuICB1c2VNb3VudGVkTGF5b3V0RWZmZWN0LFxuICBmdW5jdGlvbmFsVXBkYXRlLFxuICB1c2VHZXRMYXRlc3QsXG4gIHNob3VsZEF1dG9SZW1vdmVGaWx0ZXIsXG4gIGVuc3VyZVBsdWdpbk9yZGVyLFxufSBmcm9tICcuLi91dGlscydcbmltcG9ydCAqIGFzIGZpbHRlclR5cGVzIGZyb20gJy4uL2ZpbHRlclR5cGVzJ1xuXG4vLyBBY3Rpb25zXG5hY3Rpb25zLnJlc2V0R2xvYmFsRmlsdGVyID0gJ3Jlc2V0R2xvYmFsRmlsdGVyJ1xuYWN0aW9ucy5zZXRHbG9iYWxGaWx0ZXIgPSAnc2V0R2xvYmFsRmlsdGVyJ1xuXG5leHBvcnQgY29uc3QgdXNlR2xvYmFsRmlsdGVyID0gaG9va3MgPT4ge1xuICBob29rcy5zdGF0ZVJlZHVjZXJzLnB1c2gocmVkdWNlcilcbiAgaG9va3MudXNlSW5zdGFuY2UucHVzaCh1c2VJbnN0YW5jZSlcbn1cblxudXNlR2xvYmFsRmlsdGVyLnBsdWdpbk5hbWUgPSAndXNlR2xvYmFsRmlsdGVyJ1xuXG5mdW5jdGlvbiByZWR1Y2VyKHN0YXRlLCBhY3Rpb24sIHByZXZpb3VzU3RhdGUsIGluc3RhbmNlKSB7XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5yZXNldEdsb2JhbEZpbHRlcikge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIGdsb2JhbEZpbHRlcjogaW5zdGFuY2UuaW5pdGlhbFN0YXRlLmdsb2JhbEZpbHRlciB8fCB1bmRlZmluZWQsXG4gICAgfVxuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLnNldEdsb2JhbEZpbHRlcikge1xuICAgIGNvbnN0IHsgZmlsdGVyVmFsdWUgfSA9IGFjdGlvblxuICAgIGNvbnN0IHsgdXNlckZpbHRlclR5cGVzIH0gPSBpbnN0YW5jZVxuXG4gICAgY29uc3QgZmlsdGVyTWV0aG9kID0gZ2V0RmlsdGVyTWV0aG9kKFxuICAgICAgaW5zdGFuY2UuZ2xvYmFsRmlsdGVyLFxuICAgICAgdXNlckZpbHRlclR5cGVzIHx8IHt9LFxuICAgICAgZmlsdGVyVHlwZXNcbiAgICApXG5cbiAgICBjb25zdCBuZXdGaWx0ZXIgPSBmdW5jdGlvbmFsVXBkYXRlKGZpbHRlclZhbHVlLCBzdGF0ZS5nbG9iYWxGaWx0ZXIpXG5cbiAgICAvL1xuICAgIGlmIChzaG91bGRBdXRvUmVtb3ZlRmlsdGVyKGZpbHRlck1ldGhvZC5hdXRvUmVtb3ZlLCBuZXdGaWx0ZXIpKSB7XG4gICAgICBjb25zdCB7IGdsb2JhbEZpbHRlciwgLi4uc3RhdGVXaXRob3V0R2xvYmFsRmlsdGVyIH0gPSBzdGF0ZVxuICAgICAgcmV0dXJuIHN0YXRlV2l0aG91dEdsb2JhbEZpbHRlclxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIGdsb2JhbEZpbHRlcjogbmV3RmlsdGVyLFxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB1c2VJbnN0YW5jZShpbnN0YW5jZSkge1xuICBjb25zdCB7XG4gICAgZGF0YSxcbiAgICByb3dzLFxuICAgIGZsYXRSb3dzLFxuICAgIGZsYXRDb2x1bW5zLFxuICAgIGZpbHRlclR5cGVzOiB1c2VyRmlsdGVyVHlwZXMsXG4gICAgZ2xvYmFsRmlsdGVyLFxuICAgIG1hbnVhbEdsb2JhbEZpbHRlcixcbiAgICBzdGF0ZTogeyBnbG9iYWxGaWx0ZXI6IGdsb2JhbEZpbHRlclZhbHVlIH0sXG4gICAgZGlzcGF0Y2gsXG4gICAgYXV0b1Jlc2V0R2xvYmFsRmlsdGVycyA9IHRydWUsXG4gICAgcGx1Z2lucyxcbiAgfSA9IGluc3RhbmNlXG5cbiAgZW5zdXJlUGx1Z2luT3JkZXIocGx1Z2lucywgW10sICd1c2VHbG9iYWxGaWx0ZXInLCBbXG4gICAgJ3VzZVNvcnRCeScsXG4gICAgJ3VzZUV4cGFuZGVkJyxcbiAgXSlcblxuICBjb25zdCBzZXRHbG9iYWxGaWx0ZXIgPSBmaWx0ZXJWYWx1ZSA9PiB7XG4gICAgZGlzcGF0Y2goeyB0eXBlOiBhY3Rpb25zLnNldEdsb2JhbEZpbHRlciwgZmlsdGVyVmFsdWUgfSlcbiAgfVxuXG4gIC8vIFRPRE86IENyZWF0ZSBhIGZpbHRlciBjYWNoZSBmb3IgaW5jcmVtZW50YWwgaGlnaCBzcGVlZCBtdWx0aS1maWx0ZXJpbmdcbiAgLy8gVGhpcyBnZXRzIHByZXR0eSBjb21wbGljYXRlZCBwcmV0dHkgZmFzdCwgc2luY2UgeW91IGhhdmUgdG8gbWFpbnRhaW4gYVxuICAvLyBjYWNoZSBmb3IgZWFjaCByb3cgZ3JvdXAgKHRvcC1sZXZlbCByb3dzLCBhbmQgZWFjaCByb3cncyByZWN1cnNpdmUgc3Vicm93cylcbiAgLy8gVGhpcyB3b3VsZCBtYWtlIG11bHRpLWZpbHRlcmluZyBhIGxvdCBmYXN0ZXIgdGhvdWdoLiBUb28gZmFyP1xuXG4gIGNvbnN0IFtnbG9iYWxGaWx0ZXJlZFJvd3MsIGdsb2JhbEZpbHRlcmVkRmxhdFJvd3NdID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKG1hbnVhbEdsb2JhbEZpbHRlciB8fCB0eXBlb2YgZ2xvYmFsRmlsdGVyVmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gW3Jvd3MsIGZsYXRSb3dzXVxuICAgIH1cblxuICAgIGNvbnN0IGZpbHRlcmVkRmxhdFJvd3MgPSBbXVxuXG4gICAgY29uc3QgZmlsdGVyTWV0aG9kID0gZ2V0RmlsdGVyTWV0aG9kKFxuICAgICAgZ2xvYmFsRmlsdGVyLFxuICAgICAgdXNlckZpbHRlclR5cGVzIHx8IHt9LFxuICAgICAgZmlsdGVyVHlwZXNcbiAgICApXG5cbiAgICBpZiAoIWZpbHRlck1ldGhvZCkge1xuICAgICAgY29uc29sZS53YXJuKGBDb3VsZCBub3QgZmluZCBhIHZhbGlkICdnbG9iYWxGaWx0ZXInIG9wdGlvbi5gKVxuICAgICAgcmV0dXJuIHJvd3NcbiAgICB9XG5cbiAgICAvLyBGaWx0ZXJzIHRvcCBsZXZlbCBhbmQgbmVzdGVkIHJvd3NcbiAgICBjb25zdCBmaWx0ZXJSb3dzID0gZmlsdGVyZWRSb3dzID0+IHtcbiAgICAgIHJldHVybiBmaWx0ZXJNZXRob2QoXG4gICAgICAgIGZpbHRlcmVkUm93cyxcbiAgICAgICAgZmxhdENvbHVtbnMubWFwKGQgPT4gZC5pZCksXG4gICAgICAgIGdsb2JhbEZpbHRlclZhbHVlXG4gICAgICApLm1hcChyb3cgPT4ge1xuICAgICAgICBmaWx0ZXJlZEZsYXRSb3dzLnB1c2gocm93KVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4ucm93LFxuICAgICAgICAgIHN1YlJvd3M6XG4gICAgICAgICAgICByb3cuc3ViUm93cyAmJiByb3cuc3ViUm93cy5sZW5ndGhcbiAgICAgICAgICAgICAgPyBmaWx0ZXJSb3dzKHJvdy5zdWJSb3dzKVxuICAgICAgICAgICAgICA6IHJvdy5zdWJSb3dzLFxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cblxuICAgIHJldHVybiBbZmlsdGVyUm93cyhyb3dzKSwgZmlsdGVyZWRGbGF0Um93c11cbiAgfSwgW1xuICAgIG1hbnVhbEdsb2JhbEZpbHRlcixcbiAgICBnbG9iYWxGaWx0ZXIsXG4gICAgdXNlckZpbHRlclR5cGVzLFxuICAgIHJvd3MsXG4gICAgZmxhdFJvd3MsXG4gICAgZmxhdENvbHVtbnMsXG4gICAgZ2xvYmFsRmlsdGVyVmFsdWUsXG4gIF0pXG5cbiAgY29uc3QgZ2V0QXV0b1Jlc2V0R2xvYmFsRmlsdGVycyA9IHVzZUdldExhdGVzdChhdXRvUmVzZXRHbG9iYWxGaWx0ZXJzKVxuXG4gIHVzZU1vdW50ZWRMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChnZXRBdXRvUmVzZXRHbG9iYWxGaWx0ZXJzKCkpIHtcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogYWN0aW9ucy5yZXNldEdsb2JhbEZpbHRlciB9KVxuICAgIH1cbiAgfSwgW2Rpc3BhdGNoLCBtYW51YWxHbG9iYWxGaWx0ZXIgPyBudWxsIDogZGF0YV0pXG5cbiAgT2JqZWN0LmFzc2lnbihpbnN0YW5jZSwge1xuICAgIHByZUdsb2JhbEZpbHRlcmVkUm93czogcm93cyxcbiAgICBwcmVHbG9iYWxGaWx0ZXJlZEZsYXRSb3dzOiBmbGF0Um93cyxcbiAgICBnbG9iYWxGaWx0ZXJlZFJvd3MsXG4gICAgZ2xvYmFsRmlsdGVyZWRGbGF0Um93cyxcbiAgICByb3dzOiBnbG9iYWxGaWx0ZXJlZFJvd3MsXG4gICAgZmxhdFJvd3M6IGdsb2JhbEZpbHRlcmVkRmxhdFJvd3MsXG4gICAgc2V0R2xvYmFsRmlsdGVyLFxuICB9KVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQgKiBhcyBhZ2dyZWdhdGlvbnMgZnJvbSAnLi4vYWdncmVnYXRpb25zJ1xuaW1wb3J0IHtcbiAgYWN0aW9ucyxcbiAgbWFrZVByb3BHZXR0ZXIsXG4gIGRlZmF1bHRHcm91cEJ5Rm4sXG4gIGdldEZpcnN0RGVmaW5lZCxcbiAgZW5zdXJlUGx1Z2luT3JkZXIsXG4gIHVzZU1vdW50ZWRMYXlvdXRFZmZlY3QsXG4gIHVzZUdldExhdGVzdCxcbn0gZnJvbSAnLi4vdXRpbHMnXG5pbXBvcnQgeyB1c2VDb25zdW1lSG9va0dldHRlciB9IGZyb20gJy4uL3B1YmxpY1V0aWxzJ1xuXG4vLyBBY3Rpb25zXG5hY3Rpb25zLnJlc2V0R3JvdXBCeSA9ICdyZXNldEdyb3VwQnknXG5hY3Rpb25zLnRvZ2dsZUdyb3VwQnkgPSAndG9nZ2xlR3JvdXBCeSdcblxuZXhwb3J0IGNvbnN0IHVzZUdyb3VwQnkgPSBob29rcyA9PiB7XG4gIGhvb2tzLmdldEdyb3VwQnlUb2dnbGVQcm9wcyA9IFtkZWZhdWx0R2V0R3JvdXBCeVRvZ2dsZVByb3BzXVxuICBob29rcy5zdGF0ZVJlZHVjZXJzLnB1c2gocmVkdWNlcilcbiAgaG9va3MuZmxhdENvbHVtbnNEZXBzLnB1c2goKGRlcHMsIHsgaW5zdGFuY2UgfSkgPT4gW1xuICAgIC4uLmRlcHMsXG4gICAgaW5zdGFuY2Uuc3RhdGUuZ3JvdXBCeSxcbiAgXSlcbiAgaG9va3MuZmxhdENvbHVtbnMucHVzaChmbGF0Q29sdW1ucylcbiAgaG9va3MudXNlSW5zdGFuY2UucHVzaCh1c2VJbnN0YW5jZSlcbn1cblxudXNlR3JvdXBCeS5wbHVnaW5OYW1lID0gJ3VzZUdyb3VwQnknXG5cbmNvbnN0IGRlZmF1bHRHZXRHcm91cEJ5VG9nZ2xlUHJvcHMgPSAocHJvcHMsIHsgaGVhZGVyIH0pID0+IFtcbiAgcHJvcHMsXG4gIHtcbiAgICBvbkNsaWNrOiBoZWFkZXIuY2FuR3JvdXBCeVxuICAgICAgPyBlID0+IHtcbiAgICAgICAgICBlLnBlcnNpc3QoKVxuICAgICAgICAgIGhlYWRlci50b2dnbGVHcm91cEJ5KClcbiAgICAgICAgfVxuICAgICAgOiB1bmRlZmluZWQsXG4gICAgc3R5bGU6IHtcbiAgICAgIGN1cnNvcjogaGVhZGVyLmNhbkdyb3VwQnkgPyAncG9pbnRlcicgOiB1bmRlZmluZWQsXG4gICAgfSxcbiAgICB0aXRsZTogJ1RvZ2dsZSBHcm91cEJ5JyxcbiAgfSxcbl1cblxuLy8gUmVkdWNlclxuZnVuY3Rpb24gcmVkdWNlcihzdGF0ZSwgYWN0aW9uLCBwcmV2aW91c1N0YXRlLCBpbnN0YW5jZSkge1xuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMuaW5pdCkge1xuICAgIHJldHVybiB7XG4gICAgICBncm91cEJ5OiBbXSxcbiAgICAgIC4uLnN0YXRlLFxuICAgIH1cbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5yZXNldEdyb3VwQnkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBncm91cEJ5OiBpbnN0YW5jZS5pbml0aWFsU3RhdGUuZ3JvdXBCeSB8fCBbXSxcbiAgICB9XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMudG9nZ2xlR3JvdXBCeSkge1xuICAgIGNvbnN0IHsgY29sdW1uSWQsIHRvZ2dsZSB9ID0gYWN0aW9uXG5cbiAgICBjb25zdCByZXNvbHZlZFRvZ2dsZSA9XG4gICAgICB0eXBlb2YgdG9nZ2xlICE9PSAndW5kZWZpbmVkJyA/IHRvZ2dsZSA6ICFzdGF0ZS5ncm91cEJ5LmluY2x1ZGVzKGNvbHVtbklkKVxuXG4gICAgaWYgKHJlc29sdmVkVG9nZ2xlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgZ3JvdXBCeTogWy4uLnN0YXRlLmdyb3VwQnksIGNvbHVtbklkXSxcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBncm91cEJ5OiBzdGF0ZS5ncm91cEJ5LmZpbHRlcihkID0+IGQgIT09IGNvbHVtbklkKSxcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZmxhdENvbHVtbnMoXG4gIGZsYXRDb2x1bW5zLFxuICB7XG4gICAgaW5zdGFuY2U6IHtcbiAgICAgIHN0YXRlOiB7IGdyb3VwQnkgfSxcbiAgICB9LFxuICB9XG4pIHtcbiAgLy8gU29ydCBncm91cGVkIGNvbHVtbnMgdG8gdGhlIHN0YXJ0IG9mIHRoZSBjb2x1bW4gbGlzdFxuICAvLyBiZWZvcmUgdGhlIGhlYWRlcnMgYXJlIGJ1aWx0XG5cbiAgY29uc3QgZ3JvdXBCeUNvbHVtbnMgPSBncm91cEJ5XG4gICAgLm1hcChnID0+IGZsYXRDb2x1bW5zLmZpbmQoY29sID0+IGNvbC5pZCA9PT0gZykpXG4gICAgLmZpbHRlcihjb2wgPT4gISFjb2wpXG4gIGNvbnN0IG5vbkdyb3VwQnlDb2x1bW5zID0gZmxhdENvbHVtbnMuZmlsdGVyKGNvbCA9PiAhZ3JvdXBCeS5pbmNsdWRlcyhjb2wuaWQpKVxuXG4gIGZsYXRDb2x1bW5zID0gWy4uLmdyb3VwQnlDb2x1bW5zLCAuLi5ub25Hcm91cEJ5Q29sdW1uc11cblxuICBmbGF0Q29sdW1ucy5mb3JFYWNoKGNvbHVtbiA9PiB7XG4gICAgY29sdW1uLmlzR3JvdXBlZCA9IGdyb3VwQnkuaW5jbHVkZXMoY29sdW1uLmlkKVxuICAgIGNvbHVtbi5ncm91cGVkSW5kZXggPSBncm91cEJ5LmluZGV4T2YoY29sdW1uLmlkKVxuICB9KVxuXG4gIHJldHVybiBmbGF0Q29sdW1uc1xufVxuXG5jb25zdCBkZWZhdWx0VXNlckFnZ3JlZ2F0aW9ucyA9IHt9XG5cbmZ1bmN0aW9uIHVzZUluc3RhbmNlKGluc3RhbmNlKSB7XG4gIGNvbnN0IHtcbiAgICBkYXRhLFxuICAgIHJvd3MsXG4gICAgZmxhdFJvd3MsXG4gICAgZmxhdENvbHVtbnMsXG4gICAgZmxhdEhlYWRlcnMsXG4gICAgZ3JvdXBCeUZuID0gZGVmYXVsdEdyb3VwQnlGbixcbiAgICBtYW51YWxHcm91cEJ5LFxuICAgIGFnZ3JlZ2F0aW9uczogdXNlckFnZ3JlZ2F0aW9ucyA9IGRlZmF1bHRVc2VyQWdncmVnYXRpb25zLFxuICAgIGhvb2tzLFxuICAgIHBsdWdpbnMsXG4gICAgc3RhdGU6IHsgZ3JvdXBCeSB9LFxuICAgIGRpc3BhdGNoLFxuICAgIGF1dG9SZXNldEdyb3VwQnkgPSB0cnVlLFxuICAgIG1hbmF1bEdyb3VwQnksXG4gICAgZGlzYWJsZUdyb3VwQnksXG4gICAgZGVmYXVsdENhbkdyb3VwQnksXG4gIH0gPSBpbnN0YW5jZVxuXG4gIGVuc3VyZVBsdWdpbk9yZGVyKHBsdWdpbnMsIFtdLCAndXNlR3JvdXBCeScsIFsndXNlU29ydEJ5JywgJ3VzZUV4cGFuZGVkJ10pXG5cbiAgY29uc3QgZ2V0SW5zdGFuY2UgPSB1c2VHZXRMYXRlc3QoaW5zdGFuY2UpXG5cbiAgZmxhdENvbHVtbnMuZm9yRWFjaChjb2x1bW4gPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGFjY2Vzc29yLFxuICAgICAgZGVmYXVsdEdyb3VwQnk6IGRlZmF1bHRDb2x1bW5Hcm91cEJ5LFxuICAgICAgZGlzYWJsZUdyb3VwQnk6IGNvbHVtbkRpc2FibGVHcm91cEJ5LFxuICAgIH0gPSBjb2x1bW5cblxuICAgIGNvbHVtbi5jYW5Hcm91cEJ5ID0gYWNjZXNzb3JcbiAgICAgID8gZ2V0Rmlyc3REZWZpbmVkKFxuICAgICAgICAgIGNvbHVtbkRpc2FibGVHcm91cEJ5ID09PSB0cnVlID8gZmFsc2UgOiB1bmRlZmluZWQsXG4gICAgICAgICAgZGlzYWJsZUdyb3VwQnkgPT09IHRydWUgPyBmYWxzZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICB0cnVlXG4gICAgICAgIClcbiAgICAgIDogZ2V0Rmlyc3REZWZpbmVkKGRlZmF1bHRDb2x1bW5Hcm91cEJ5LCBkZWZhdWx0Q2FuR3JvdXBCeSwgZmFsc2UpXG5cbiAgICBpZiAoY29sdW1uLmNhbkdyb3VwQnkpIHtcbiAgICAgIGNvbHVtbi50b2dnbGVHcm91cEJ5ID0gKCkgPT4gaW5zdGFuY2UudG9nZ2xlR3JvdXBCeShjb2x1bW4uaWQpXG4gICAgfVxuXG4gICAgY29sdW1uLkFnZ3JlZ2F0ZWQgPSBjb2x1bW4uQWdncmVnYXRlZCB8fCBjb2x1bW4uQ2VsbFxuICB9KVxuXG4gIGNvbnN0IHRvZ2dsZUdyb3VwQnkgPSAoY29sdW1uSWQsIHRvZ2dsZSkgPT4ge1xuICAgIGRpc3BhdGNoKHsgdHlwZTogYWN0aW9ucy50b2dnbGVHcm91cEJ5LCBjb2x1bW5JZCwgdG9nZ2xlIH0pXG4gIH1cblxuICBjb25zdCBnZXRHcm91cEJ5VG9nZ2xlUHJvcHNIb29rcyA9IHVzZUNvbnN1bWVIb29rR2V0dGVyKFxuICAgIGdldEluc3RhbmNlKCkuaG9va3MsXG4gICAgJ2dldEdyb3VwQnlUb2dnbGVQcm9wcydcbiAgKVxuXG4gIGZsYXRIZWFkZXJzLmZvckVhY2goaGVhZGVyID0+IHtcbiAgICBoZWFkZXIuZ2V0R3JvdXBCeVRvZ2dsZVByb3BzID0gbWFrZVByb3BHZXR0ZXIoXG4gICAgICBnZXRHcm91cEJ5VG9nZ2xlUHJvcHNIb29rcygpLFxuICAgICAgeyBpbnN0YW5jZTogZ2V0SW5zdGFuY2UoKSwgaGVhZGVyIH1cbiAgICApXG4gIH0pXG5cbiAgaG9va3MucHJlcGFyZVJvdy5wdXNoKHJvdyA9PiB7XG4gICAgcm93LmFsbENlbGxzLmZvckVhY2goY2VsbCA9PiB7XG4gICAgICAvLyBHcm91cGVkIGNlbGxzIGFyZSBpbiB0aGUgZ3JvdXBCeSBhbmQgdGhlIHBpdm90IGNlbGwgZm9yIHRoZSByb3dcbiAgICAgIGNlbGwuaXNHcm91cGVkID0gY2VsbC5jb2x1bW4uaXNHcm91cGVkICYmIGNlbGwuY29sdW1uLmlkID09PSByb3cuZ3JvdXBCeUlEXG4gICAgICAvLyBSZXBlYXRlZCBjZWxscyBhcmUgYW55IGNvbHVtbnMgaW4gdGhlIGdyb3VwQnkgdGhhdCBhcmUgbm90IGdyb3VwZWRcbiAgICAgIGNlbGwuaXNSZXBlYXRlZFZhbHVlID0gIWNlbGwuaXNHcm91cGVkICYmIGNlbGwuY29sdW1uLmlzR3JvdXBlZFxuICAgICAgLy8gQWdncmVnYXRlZCBjZWxscyBhcmUgbm90IGdyb3VwZWQsIG5vdCByZXBlYXRlZCwgYnV0IHN0aWxsIGhhdmUgc3ViUm93c1xuICAgICAgY2VsbC5pc0FnZ3JlZ2F0ZWQgPVxuICAgICAgICAhY2VsbC5pc0dyb3VwZWQgJiYgIWNlbGwuaXNSZXBlYXRlZFZhbHVlICYmIHJvdy5jYW5FeHBhbmRcbiAgICB9KVxuICB9KVxuXG4gIGNvbnN0IFtncm91cGVkUm93cywgZ3JvdXBlZEZsYXRSb3dzXSA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgIGlmIChtYW51YWxHcm91cEJ5IHx8ICFncm91cEJ5Lmxlbmd0aCkge1xuICAgICAgcmV0dXJuIFtyb3dzLCBmbGF0Um93c11cbiAgICB9XG5cbiAgICAvLyBFbnN1cmUgdGhhdCB0aGUgbGlzdCBvZiBmaWx0ZXJlZCBjb2x1bW5zIGV4aXN0XG4gICAgY29uc3QgZXhpc3RpbmdHcm91cEJ5ID0gZ3JvdXBCeS5maWx0ZXIoZyA9PlxuICAgICAgZmxhdENvbHVtbnMuZmluZChjb2wgPT4gY29sLmlkID09PSBnKVxuICAgIClcblxuICAgIC8vIEZpbmQgdGhlIGNvbHVtbnMgdGhhdCBjYW4gb3IgYXJlIGFnZ3JlZ2F0aW5nXG4gICAgLy8gVXNlcyBlYWNoIGNvbHVtbiB0byBhZ2dyZWdhdGUgcm93cyBpbnRvIGEgc2luZ2xlIHZhbHVlXG4gICAgY29uc3QgYWdncmVnYXRlUm93c1RvVmFsdWVzID0gKHJvd3MsIGlzQWdncmVnYXRlZCkgPT4ge1xuICAgICAgY29uc3QgdmFsdWVzID0ge31cblxuICAgICAgZmxhdENvbHVtbnMuZm9yRWFjaChjb2x1bW4gPT4ge1xuICAgICAgICAvLyBEb24ndCBhZ2dyZWdhdGUgY29sdW1ucyB0aGF0IGFyZSBpbiB0aGUgZ3JvdXBCeVxuICAgICAgICBpZiAoZXhpc3RpbmdHcm91cEJ5LmluY2x1ZGVzKGNvbHVtbi5pZCkpIHtcbiAgICAgICAgICB2YWx1ZXNbY29sdW1uLmlkXSA9IHJvd3NbMF0gPyByb3dzWzBdLnZhbHVlc1tjb2x1bW4uaWRdIDogbnVsbFxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29sdW1uVmFsdWVzID0gcm93cy5tYXAoZCA9PiBkLnZhbHVlc1tjb2x1bW4uaWRdKVxuXG4gICAgICAgIGxldCBhZ2dyZWdhdG9yID0gY29sdW1uLmFnZ3JlZ2F0ZVxuXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGFnZ3JlZ2F0b3IpKSB7XG4gICAgICAgICAgaWYgKGFnZ3JlZ2F0b3IubGVuZ3RoICE9PSAyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oeyBjb2x1bW4gfSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgYFJlYWN0IFRhYmxlOiBDb21wbGV4IGFnZ3JlZ2F0b3JzIG11c3QgaGF2ZSAyIHZhbHVlcywgZWcuIGFnZ3JlZ2F0ZTogWydzdW0nLCAnY291bnQnXS4gTW9yZSBpbmZvIGFib3ZlLi4uYFxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXNBZ2dyZWdhdGVkKSB7XG4gICAgICAgICAgICBhZ2dyZWdhdG9yID0gYWdncmVnYXRvclsxXVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhZ2dyZWdhdG9yID0gYWdncmVnYXRvclswXVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBhZ2dyZWdhdGVGbiA9XG4gICAgICAgICAgdHlwZW9mIGFnZ3JlZ2F0b3IgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgID8gYWdncmVnYXRvclxuICAgICAgICAgICAgOiB1c2VyQWdncmVnYXRpb25zW2FnZ3JlZ2F0b3JdIHx8IGFnZ3JlZ2F0aW9uc1thZ2dyZWdhdG9yXVxuXG4gICAgICAgIGlmIChhZ2dyZWdhdGVGbikge1xuICAgICAgICAgIHZhbHVlc1tjb2x1bW4uaWRdID0gYWdncmVnYXRlRm4oY29sdW1uVmFsdWVzLCByb3dzLCBpc0FnZ3JlZ2F0ZWQpXG4gICAgICAgIH0gZWxzZSBpZiAoYWdncmVnYXRvcikge1xuICAgICAgICAgIGNvbnNvbGUuaW5mbyh7IGNvbHVtbiB9KVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIGBSZWFjdCBUYWJsZTogSW52YWxpZCBhZ2dyZWdhdGUgb3B0aW9uIGZvciBjb2x1bW4gbGlzdGVkIGFib3ZlYFxuICAgICAgICAgIClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWx1ZXNbY29sdW1uLmlkXSA9IG51bGxcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIHJldHVybiB2YWx1ZXNcbiAgICB9XG5cbiAgICBsZXQgZ3JvdXBlZEZsYXRSb3dzID0gW11cblxuICAgIC8vIFJlY3Vyc2l2ZWx5IGdyb3VwIHRoZSBkYXRhXG4gICAgY29uc3QgZ3JvdXBSZWN1cnNpdmVseSA9IChyb3dzLCBkZXB0aCA9IDAsIHBhcmVudElkKSA9PiB7XG4gICAgICAvLyBUaGlzIGlzIHRoZSBsYXN0IGxldmVsLCBqdXN0IHJldHVybiB0aGUgcm93c1xuICAgICAgaWYgKGRlcHRoID09PSBleGlzdGluZ0dyb3VwQnkubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiByb3dzXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNvbHVtbklkID0gZXhpc3RpbmdHcm91cEJ5W2RlcHRoXVxuXG4gICAgICAvLyBHcm91cCB0aGUgcm93cyB0b2dldGhlciBmb3IgdGhpcyBsZXZlbFxuICAgICAgbGV0IGdyb3VwZWRSb3dzID0gZ3JvdXBCeUZuKHJvd3MsIGNvbHVtbklkKVxuXG4gICAgICAvLyBSZWN1cnNlIHRvIHN1YiByb3dzIGJlZm9yZSBhZ2dyZWdhdGlvblxuICAgICAgZ3JvdXBlZFJvd3MgPSBPYmplY3QuZW50cmllcyhncm91cGVkUm93cykubWFwKFxuICAgICAgICAoW2dyb3VwQnlWYWwsIHN1YlJvd3NdLCBpbmRleCkgPT4ge1xuICAgICAgICAgIGxldCBpZCA9IGAke2NvbHVtbklkfToke2dyb3VwQnlWYWx9YFxuICAgICAgICAgIGlkID0gcGFyZW50SWQgPyBgJHtwYXJlbnRJZH0+JHtpZH1gIDogaWRcblxuICAgICAgICAgIHN1YlJvd3MgPSBncm91cFJlY3Vyc2l2ZWx5KHN1YlJvd3MsIGRlcHRoICsgMSwgaWQpXG5cbiAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBhZ2dyZWdhdGVSb3dzVG9WYWx1ZXMoXG4gICAgICAgICAgICBzdWJSb3dzLFxuICAgICAgICAgICAgZGVwdGggPCBleGlzdGluZ0dyb3VwQnkubGVuZ3RoXG4gICAgICAgICAgKVxuXG4gICAgICAgICAgY29uc3Qgcm93ID0ge1xuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICBpc0dyb3VwZWQ6IHRydWUsXG4gICAgICAgICAgICBncm91cEJ5SUQ6IGNvbHVtbklkLFxuICAgICAgICAgICAgZ3JvdXBCeVZhbCxcbiAgICAgICAgICAgIHZhbHVlcyxcbiAgICAgICAgICAgIHN1YlJvd3MsXG4gICAgICAgICAgICBkZXB0aCxcbiAgICAgICAgICAgIGluZGV4LFxuICAgICAgICAgIH1cblxuICAgICAgICAgIGdyb3VwZWRGbGF0Um93cy5wdXNoKHJvdywgLi4uc3ViUm93cylcblxuICAgICAgICAgIHJldHVybiByb3dcbiAgICAgICAgfVxuICAgICAgKVxuXG4gICAgICByZXR1cm4gZ3JvdXBlZFJvd3NcbiAgICB9XG5cbiAgICBjb25zdCBncm91cGVkUm93cyA9IGdyb3VwUmVjdXJzaXZlbHkocm93cylcblxuICAgIC8vIEFzc2lnbiB0aGUgbmV3IGRhdGFcbiAgICByZXR1cm4gW2dyb3VwZWRSb3dzLCBncm91cGVkRmxhdFJvd3NdXG4gIH0sIFtcbiAgICBtYW51YWxHcm91cEJ5LFxuICAgIGdyb3VwQnksXG4gICAgcm93cyxcbiAgICBmbGF0Um93cyxcbiAgICBmbGF0Q29sdW1ucyxcbiAgICB1c2VyQWdncmVnYXRpb25zLFxuICAgIGdyb3VwQnlGbixcbiAgXSlcblxuICBjb25zdCBnZXRBdXRvUmVzZXRHcm91cEJ5ID0gdXNlR2V0TGF0ZXN0KGF1dG9SZXNldEdyb3VwQnkpXG5cbiAgdXNlTW91bnRlZExheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGdldEF1dG9SZXNldEdyb3VwQnkoKSkge1xuICAgICAgZGlzcGF0Y2goeyB0eXBlOiBhY3Rpb25zLnJlc2V0R3JvdXBCeSB9KVxuICAgIH1cbiAgfSwgW2Rpc3BhdGNoLCBtYW5hdWxHcm91cEJ5ID8gbnVsbCA6IGRhdGFdKVxuXG4gIE9iamVjdC5hc3NpZ24oaW5zdGFuY2UsIHtcbiAgICBwcmVHcm91cGVkUm93czogcm93cyxcbiAgICBwcmVHcm91cGVkRmxhdFJvdzogZmxhdFJvd3MsXG4gICAgZ3JvdXBlZFJvd3MsXG4gICAgZ3JvdXBlZEZsYXRSb3dzLFxuICAgIHJvd3M6IGdyb3VwZWRSb3dzLFxuICAgIGZsYXRSb3dzOiBncm91cGVkRmxhdFJvd3MsXG4gICAgdG9nZ2xlR3JvdXBCeSxcbiAgfSlcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHtcbiAgYWN0aW9ucyxcbiAgZW5zdXJlUGx1Z2luT3JkZXIsXG4gIGRlZmF1bHRDb2x1bW4sXG4gIG1ha2VQcm9wR2V0dGVyLFxuICB1c2VDb25zdW1lSG9va0dldHRlcixcbiAgZ2V0Rmlyc3REZWZpbmVkLFxuICBkZWZhdWx0T3JkZXJCeUZuLFxuICBpc0Z1bmN0aW9uLFxuICB1c2VHZXRMYXRlc3QsXG4gIHVzZU1vdW50ZWRMYXlvdXRFZmZlY3QsXG59IGZyb20gJy4uL3V0aWxzJ1xuXG5pbXBvcnQgKiBhcyBzb3J0VHlwZXMgZnJvbSAnLi4vc29ydFR5cGVzJ1xuXG4vLyBBY3Rpb25zXG5hY3Rpb25zLnJlc2V0U29ydEJ5ID0gJ3Jlc2V0U29ydEJ5J1xuYWN0aW9ucy50b2dnbGVTb3J0QnkgPSAndG9nZ2xlU29ydEJ5J1xuYWN0aW9ucy5jbGVhclNvcnRCeSA9ICdjbGVhclNvcnRCeSdcblxuZGVmYXVsdENvbHVtbi5zb3J0VHlwZSA9ICdhbHBoYW51bWVyaWMnXG5kZWZhdWx0Q29sdW1uLnNvcnREZXNjRmlyc3QgPSBmYWxzZVxuXG5leHBvcnQgY29uc3QgdXNlU29ydEJ5ID0gaG9va3MgPT4ge1xuICBob29rcy5nZXRTb3J0QnlUb2dnbGVQcm9wcyA9IFtkZWZhdWx0R2V0U29ydEJ5VG9nZ2xlUHJvcHNdXG4gIGhvb2tzLnN0YXRlUmVkdWNlcnMucHVzaChyZWR1Y2VyKVxuICBob29rcy51c2VJbnN0YW5jZS5wdXNoKHVzZUluc3RhbmNlKVxufVxuXG51c2VTb3J0QnkucGx1Z2luTmFtZSA9ICd1c2VTb3J0QnknXG5cbmNvbnN0IGRlZmF1bHRHZXRTb3J0QnlUb2dnbGVQcm9wcyA9IChwcm9wcywgeyBpbnN0YW5jZSwgY29sdW1uIH0pID0+IHtcbiAgY29uc3QgeyBpc011bHRpU29ydEV2ZW50ID0gZSA9PiBlLnNoaWZ0S2V5IH0gPSBpbnN0YW5jZVxuXG4gIHJldHVybiBbXG4gICAgcHJvcHMsXG4gICAge1xuICAgICAgb25DbGljazogY29sdW1uLmNhblNvcnRcbiAgICAgICAgPyBlID0+IHtcbiAgICAgICAgICAgIGUucGVyc2lzdCgpXG4gICAgICAgICAgICBjb2x1bW4udG9nZ2xlU29ydEJ5KFxuICAgICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICFpbnN0YW5jZS5kaXNhYmxlTXVsdGlTb3J0ICYmIGlzTXVsdGlTb3J0RXZlbnQoZSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG4gICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgY3Vyc29yOiBjb2x1bW4uY2FuU29ydCA/ICdwb2ludGVyJyA6IHVuZGVmaW5lZCxcbiAgICAgIH0sXG4gICAgICB0aXRsZTogY29sdW1uLmNhblNvcnQgPyAnVG9nZ2xlIFNvcnRCeScgOiB1bmRlZmluZWQsXG4gICAgfSxcbiAgXVxufVxuXG4vLyBSZWR1Y2VyXG5mdW5jdGlvbiByZWR1Y2VyKHN0YXRlLCBhY3Rpb24sIHByZXZpb3VzU3RhdGUsIGluc3RhbmNlKSB7XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5pbml0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNvcnRCeTogW10sXG4gICAgICAuLi5zdGF0ZSxcbiAgICB9XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMucmVzZXRTb3J0QnkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBzb3J0Qnk6IGluc3RhbmNlLmluaXRpYWxTdGF0ZS5zb3J0QnkgfHwgW10sXG4gICAgfVxuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLmNsZWFyU29ydEJ5KSB7XG4gICAgY29uc3QgeyBzb3J0QnkgfSA9IHN0YXRlXG4gICAgY29uc3QgbmV3U29ydEJ5ID0gc29ydEJ5LmZpbHRlcihkID0+IGQuaWQgIT09IGFjdGlvbi5jb2x1bW5JZClcblxuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIHNvcnRCeTogbmV3U29ydEJ5LFxuICAgIH1cbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy50b2dnbGVTb3J0QnkpIHtcbiAgICBjb25zdCB7IGNvbHVtbklkLCBkZXNjLCBtdWx0aSB9ID0gYWN0aW9uXG5cbiAgICBjb25zdCB7XG4gICAgICBmbGF0Q29sdW1ucyxcbiAgICAgIGRpc2FibGVNdWx0aVNvcnQsXG4gICAgICBkaXNhYmxlU29ydFJlbW92ZSxcbiAgICAgIGRpc2FibGVNdWx0aVJlbW92ZSxcbiAgICAgIG1heE11bHRpU29ydENvbENvdW50ID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsXG4gICAgfSA9IGluc3RhbmNlXG5cbiAgICBjb25zdCB7IHNvcnRCeSB9ID0gc3RhdGVcblxuICAgIC8vIEZpbmQgdGhlIGNvbHVtbiBmb3IgdGhpcyBjb2x1bW5JZFxuICAgIGNvbnN0IGNvbHVtbiA9IGZsYXRDb2x1bW5zLmZpbmQoZCA9PiBkLmlkID09PSBjb2x1bW5JZClcbiAgICBjb25zdCB7IHNvcnREZXNjRmlyc3QgfSA9IGNvbHVtblxuXG4gICAgLy8gRmluZCBhbnkgZXhpc3Rpbmcgc29ydEJ5IGZvciB0aGlzIGNvbHVtblxuICAgIGNvbnN0IGV4aXN0aW5nU29ydEJ5ID0gc29ydEJ5LmZpbmQoZCA9PiBkLmlkID09PSBjb2x1bW5JZClcbiAgICBjb25zdCBleGlzdGluZ0luZGV4ID0gc29ydEJ5LmZpbmRJbmRleChkID0+IGQuaWQgPT09IGNvbHVtbklkKVxuICAgIGNvbnN0IGhhc0Rlc2NEZWZpbmVkID0gdHlwZW9mIGRlc2MgIT09ICd1bmRlZmluZWQnICYmIGRlc2MgIT09IG51bGxcblxuICAgIGxldCBuZXdTb3J0QnkgPSBbXVxuXG4gICAgLy8gV2hhdCBzaG91bGQgd2UgZG8gd2l0aCB0aGlzIHNvcnQgYWN0aW9uP1xuICAgIGxldCBzb3J0QWN0aW9uXG5cbiAgICBpZiAoIWRpc2FibGVNdWx0aVNvcnQgJiYgbXVsdGkpIHtcbiAgICAgIGlmIChleGlzdGluZ1NvcnRCeSkge1xuICAgICAgICBzb3J0QWN0aW9uID0gJ3RvZ2dsZSdcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNvcnRBY3Rpb24gPSAnYWRkJ1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBOb3JtYWwgbW9kZVxuICAgICAgaWYgKGV4aXN0aW5nSW5kZXggIT09IHNvcnRCeS5sZW5ndGggLSAxKSB7XG4gICAgICAgIHNvcnRBY3Rpb24gPSAncmVwbGFjZSdcbiAgICAgIH0gZWxzZSBpZiAoZXhpc3RpbmdTb3J0QnkpIHtcbiAgICAgICAgc29ydEFjdGlvbiA9ICd0b2dnbGUnXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzb3J0QWN0aW9uID0gJ3JlcGxhY2UnXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIHRvZ2dsZSBzdGF0ZXMgdGhhdCB3aWxsIHJlbW92ZSB0aGUgc29ydEJ5XG4gICAgaWYgKFxuICAgICAgc29ydEFjdGlvbiA9PT0gJ3RvZ2dsZScgJiYgLy8gTXVzdCBiZSB0b2dnbGluZ1xuICAgICAgIWRpc2FibGVTb3J0UmVtb3ZlICYmIC8vIElmIGRpc2FibGVTb3J0UmVtb3ZlLCBkaXNhYmxlIGluIGdlbmVyYWxcbiAgICAgICFoYXNEZXNjRGVmaW5lZCAmJiAvLyBNdXN0IG5vdCBiZSBzZXR0aW5nIGRlc2NcbiAgICAgIChtdWx0aSA/ICFkaXNhYmxlTXVsdGlSZW1vdmUgOiB0cnVlKSAmJiAvLyBJZiBtdWx0aSwgZG9uJ3QgYWxsb3cgaWYgZGlzYWJsZU11bHRpUmVtb3ZlXG4gICAgICAoKGV4aXN0aW5nU29ydEJ5ICYmIC8vIEZpbmFsbHksIGRldGVjdCBpZiBpdCBzaG91bGQgaW5kZWVkIGJlIHJlbW92ZWRcbiAgICAgICAgZXhpc3RpbmdTb3J0QnkuZGVzYyAmJlxuICAgICAgICAhc29ydERlc2NGaXJzdCkgfHxcbiAgICAgICAgKCFleGlzdGluZ1NvcnRCeS5kZXNjICYmIHNvcnREZXNjRmlyc3QpKVxuICAgICkge1xuICAgICAgc29ydEFjdGlvbiA9ICdyZW1vdmUnXG4gICAgfVxuXG4gICAgaWYgKHNvcnRBY3Rpb24gPT09ICdyZXBsYWNlJykge1xuICAgICAgbmV3U29ydEJ5ID0gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6IGNvbHVtbklkLFxuICAgICAgICAgIGRlc2M6IGhhc0Rlc2NEZWZpbmVkID8gZGVzYyA6IHNvcnREZXNjRmlyc3QsXG4gICAgICAgIH0sXG4gICAgICBdXG4gICAgfSBlbHNlIGlmIChzb3J0QWN0aW9uID09PSAnYWRkJykge1xuICAgICAgbmV3U29ydEJ5ID0gW1xuICAgICAgICAuLi5zb3J0QnksXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogY29sdW1uSWQsXG4gICAgICAgICAgZGVzYzogaGFzRGVzY0RlZmluZWQgPyBkZXNjIDogc29ydERlc2NGaXJzdCxcbiAgICAgICAgfSxcbiAgICAgIF1cbiAgICAgIC8vIFRha2UgbGF0ZXN0IG4gY29sdW1uc1xuICAgICAgbmV3U29ydEJ5LnNwbGljZSgwLCBuZXdTb3J0QnkubGVuZ3RoIC0gbWF4TXVsdGlTb3J0Q29sQ291bnQpXG4gICAgfSBlbHNlIGlmIChzb3J0QWN0aW9uID09PSAndG9nZ2xlJykge1xuICAgICAgLy8gVGhpcyBmbGlwcyAob3Igc2V0cykgdGhlXG4gICAgICBuZXdTb3J0QnkgPSBzb3J0QnkubWFwKGQgPT4ge1xuICAgICAgICBpZiAoZC5pZCA9PT0gY29sdW1uSWQpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uZCxcbiAgICAgICAgICAgIGRlc2M6IGhhc0Rlc2NEZWZpbmVkID8gZGVzYyA6ICFleGlzdGluZ1NvcnRCeS5kZXNjLFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZFxuICAgICAgfSlcbiAgICB9IGVsc2UgaWYgKHNvcnRBY3Rpb24gPT09ICdyZW1vdmUnKSB7XG4gICAgICBuZXdTb3J0QnkgPSBzb3J0QnkuZmlsdGVyKGQgPT4gZC5pZCAhPT0gY29sdW1uSWQpXG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgc29ydEJ5OiBuZXdTb3J0QnksXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHVzZUluc3RhbmNlKGluc3RhbmNlKSB7XG4gIGNvbnN0IHtcbiAgICBkYXRhLFxuICAgIHJvd3MsXG4gICAgZmxhdENvbHVtbnMsXG4gICAgb3JkZXJCeUZuID0gZGVmYXVsdE9yZGVyQnlGbixcbiAgICBzb3J0VHlwZXM6IHVzZXJTb3J0VHlwZXMsXG4gICAgbWFudWFsU29ydEJ5LFxuICAgIGRlZmF1bHRDYW5Tb3J0LFxuICAgIGRpc2FibGVTb3J0QnksXG4gICAgZmxhdEhlYWRlcnMsXG4gICAgc3RhdGU6IHsgc29ydEJ5IH0sXG4gICAgZGlzcGF0Y2gsXG4gICAgcGx1Z2lucyxcbiAgICBhdXRvUmVzZXRTb3J0QnkgPSB0cnVlLFxuICB9ID0gaW5zdGFuY2VcblxuICBlbnN1cmVQbHVnaW5PcmRlcihwbHVnaW5zLCBbJ3VzZUZpbHRlcnMnXSwgJ3VzZVNvcnRCeScsIFtdKVxuXG4gIC8vIFVwZGF0ZXMgc29ydGluZyBiYXNlZCBvbiBhIGNvbHVtbklkLCBkZXNjIGZsYWcgYW5kIG11bHRpIGZsYWdcbiAgY29uc3QgdG9nZ2xlU29ydEJ5ID0gKGNvbHVtbklkLCBkZXNjLCBtdWx0aSkgPT4ge1xuICAgIGRpc3BhdGNoKHsgdHlwZTogYWN0aW9ucy50b2dnbGVTb3J0QnksIGNvbHVtbklkLCBkZXNjLCBtdWx0aSB9KVxuICB9XG5cbiAgLy8gdXNlIHJlZmVyZW5jZSB0byBhdm9pZCBtZW1vcnkgbGVhayBpbiAjMTYwOFxuICBjb25zdCBnZXRJbnN0YW5jZSA9IHVzZUdldExhdGVzdChpbnN0YW5jZSlcblxuICBjb25zdCBnZXRTb3J0QnlUb2dnbGVQcm9wc0hvb2tzID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoXG4gICAgZ2V0SW5zdGFuY2UoKS5ob29rcyxcbiAgICAnZ2V0U29ydEJ5VG9nZ2xlUHJvcHMnXG4gIClcblxuICAvLyBBZGQgdGhlIGdldFNvcnRCeVRvZ2dsZVByb3BzIG1ldGhvZCB0byBjb2x1bW5zIGFuZCBoZWFkZXJzXG4gIGZsYXRIZWFkZXJzLmZvckVhY2goY29sdW1uID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBhY2Nlc3NvcixcbiAgICAgIGNhblNvcnQ6IGRlZmF1bHRDb2x1bW5DYW5Tb3J0LFxuICAgICAgZGlzYWJsZVNvcnRCeTogY29sdW1uRGlzYWJsZVNvcnRCeSxcbiAgICAgIGlkLFxuICAgIH0gPSBjb2x1bW5cblxuICAgIGNvbnN0IGNhblNvcnQgPSBhY2Nlc3NvclxuICAgICAgPyBnZXRGaXJzdERlZmluZWQoXG4gICAgICAgICAgY29sdW1uRGlzYWJsZVNvcnRCeSA9PT0gdHJ1ZSA/IGZhbHNlIDogdW5kZWZpbmVkLFxuICAgICAgICAgIGRpc2FibGVTb3J0QnkgPT09IHRydWUgPyBmYWxzZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICB0cnVlXG4gICAgICAgIClcbiAgICAgIDogZ2V0Rmlyc3REZWZpbmVkKGRlZmF1bHRDYW5Tb3J0LCBkZWZhdWx0Q29sdW1uQ2FuU29ydCwgZmFsc2UpXG5cbiAgICBjb2x1bW4uY2FuU29ydCA9IGNhblNvcnRcblxuICAgIGlmIChjb2x1bW4uY2FuU29ydCkge1xuICAgICAgY29sdW1uLnRvZ2dsZVNvcnRCeSA9IChkZXNjLCBtdWx0aSkgPT5cbiAgICAgICAgdG9nZ2xlU29ydEJ5KGNvbHVtbi5pZCwgZGVzYywgbXVsdGkpXG5cbiAgICAgIGNvbHVtbi5jbGVhclNvcnRCeSA9ICgpID0+IHtcbiAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBhY3Rpb25zLmNsZWFyU29ydEJ5LCBjb2x1bW5JZDogY29sdW1uLmlkIH0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29sdW1uLmdldFNvcnRCeVRvZ2dsZVByb3BzID0gbWFrZVByb3BHZXR0ZXIoZ2V0U29ydEJ5VG9nZ2xlUHJvcHNIb29rcygpLCB7XG4gICAgICBpbnN0YW5jZTogZ2V0SW5zdGFuY2UoKSxcbiAgICAgIGNvbHVtbixcbiAgICB9KVxuXG4gICAgY29uc3QgY29sdW1uU29ydCA9IHNvcnRCeS5maW5kKGQgPT4gZC5pZCA9PT0gaWQpXG4gICAgY29sdW1uLmlzU29ydGVkID0gISFjb2x1bW5Tb3J0XG4gICAgY29sdW1uLnNvcnRlZEluZGV4ID0gc29ydEJ5LmZpbmRJbmRleChkID0+IGQuaWQgPT09IGlkKVxuICAgIGNvbHVtbi5pc1NvcnRlZERlc2MgPSBjb2x1bW4uaXNTb3J0ZWQgPyBjb2x1bW5Tb3J0LmRlc2MgOiB1bmRlZmluZWRcbiAgfSlcblxuICBjb25zdCBzb3J0ZWRSb3dzID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKG1hbnVhbFNvcnRCeSB8fCAhc29ydEJ5Lmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHJvd3NcbiAgICB9XG5cbiAgICAvLyBGaWx0ZXIgb3V0IHNvcnRCeXMgdGhhdCBjb3JyZXNwb25kIHRvIG5vbiBleGlzdGluZyBjb2x1bW5zXG4gICAgY29uc3QgYXZhaWxhYmxlU29ydEJ5ID0gc29ydEJ5LmZpbHRlcihzb3J0ID0+XG4gICAgICBmbGF0Q29sdW1ucy5maW5kKGNvbCA9PiBjb2wuaWQgPT09IHNvcnQuaWQpXG4gICAgKVxuXG4gICAgY29uc3Qgc29ydERhdGEgPSByb3dzID0+IHtcbiAgICAgIC8vIFVzZSB0aGUgb3JkZXJCeUZuIHRvIGNvbXBvc2UgbXVsdGlwbGUgc29ydEJ5J3MgdG9nZXRoZXIuXG4gICAgICAvLyBUaGlzIHdpbGwgYWxzbyBwZXJmb3JtIGEgc3RhYmxlIHNvcnRpbmcgdXNpbmcgdGhlIHJvdyBpbmRleFxuICAgICAgLy8gaWYgbmVlZGVkLlxuICAgICAgY29uc3Qgc29ydGVkRGF0YSA9IG9yZGVyQnlGbihcbiAgICAgICAgcm93cyxcbiAgICAgICAgYXZhaWxhYmxlU29ydEJ5Lm1hcChzb3J0ID0+IHtcbiAgICAgICAgICAvLyBTdXBwb3J0IGN1c3RvbSBzb3J0aW5nIG1ldGhvZHMgZm9yIGVhY2ggY29sdW1uXG4gICAgICAgICAgY29uc3QgY29sdW1uID0gZmxhdENvbHVtbnMuZmluZChkID0+IGQuaWQgPT09IHNvcnQuaWQpXG5cbiAgICAgICAgICBpZiAoIWNvbHVtbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICBgUmVhY3QtVGFibGU6IENvdWxkIG5vdCBmaW5kIGEgY29sdW1uIHdpdGggaWQ6ICR7c29ydC5pZH0gd2hpbGUgc29ydGluZ2BcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCB7IHNvcnRUeXBlIH0gPSBjb2x1bW5cblxuICAgICAgICAgIC8vIExvb2sgdXAgc29ydEJ5IGZ1bmN0aW9ucyBpbiB0aGlzIG9yZGVyOlxuICAgICAgICAgIC8vIGNvbHVtbiBmdW5jdGlvblxuICAgICAgICAgIC8vIGNvbHVtbiBzdHJpbmcgbG9va3VwIG9uIHVzZXIgc29ydFR5cGVcbiAgICAgICAgICAvLyBjb2x1bW4gc3RyaW5nIGxvb2t1cCBvbiBidWlsdC1pbiBzb3J0VHlwZVxuICAgICAgICAgIC8vIGRlZmF1bHQgZnVuY3Rpb25cbiAgICAgICAgICAvLyBkZWZhdWx0IHN0cmluZyBsb29rdXAgb24gdXNlciBzb3J0VHlwZVxuICAgICAgICAgIC8vIGRlZmF1bHQgc3RyaW5nIGxvb2t1cCBvbiBidWlsdC1pbiBzb3J0VHlwZVxuICAgICAgICAgIGNvbnN0IHNvcnRNZXRob2QgPVxuICAgICAgICAgICAgaXNGdW5jdGlvbihzb3J0VHlwZSkgfHxcbiAgICAgICAgICAgICh1c2VyU29ydFR5cGVzIHx8IHt9KVtzb3J0VHlwZV0gfHxcbiAgICAgICAgICAgIHNvcnRUeXBlc1tzb3J0VHlwZV1cblxuICAgICAgICAgIGlmICghc29ydE1ldGhvZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICBgUmVhY3QtVGFibGU6IENvdWxkIG5vdCBmaW5kIGEgdmFsaWQgc29ydFR5cGUgb2YgJyR7c29ydFR5cGV9JyBmb3IgY29sdW1uICcke3NvcnQuaWR9Jy5gXG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gUmV0dXJuIHRoZSBjb3JyZWN0IHNvcnRGbi5cbiAgICAgICAgICAvLyBUaGlzIGZ1bmN0aW9uIHNob3VsZCBhbHdheXMgcmV0dXJuIGluIGFzY2VuZGluZyBvcmRlclxuICAgICAgICAgIHJldHVybiAoYSwgYikgPT4gc29ydE1ldGhvZChhLCBiLCBzb3J0LmlkKVxuICAgICAgICB9KSxcbiAgICAgICAgLy8gTWFwIHRoZSBkaXJlY3Rpb25zXG4gICAgICAgIGF2YWlsYWJsZVNvcnRCeS5tYXAoc29ydCA9PiB7XG4gICAgICAgICAgLy8gRGV0ZWN0IGFuZCB1c2UgdGhlIHNvcnRJbnZlcnRlZCBvcHRpb25cbiAgICAgICAgICBjb25zdCBjb2x1bW4gPSBmbGF0Q29sdW1ucy5maW5kKGQgPT4gZC5pZCA9PT0gc29ydC5pZClcblxuICAgICAgICAgIGlmIChjb2x1bW4gJiYgY29sdW1uLnNvcnRJbnZlcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHNvcnQuZGVzY1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiAhc29ydC5kZXNjXG4gICAgICAgIH0pXG4gICAgICApXG5cbiAgICAgIC8vIElmIHRoZXJlIGFyZSBzdWItcm93cywgc29ydCB0aGVtXG4gICAgICBzb3J0ZWREYXRhLmZvckVhY2gocm93ID0+IHtcbiAgICAgICAgaWYgKCFyb3cuc3ViUm93cyB8fCByb3cuc3ViUm93cy5sZW5ndGggPD0gMSkge1xuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIHJvdy5zdWJSb3dzID0gc29ydERhdGEocm93LnN1YlJvd3MpXG4gICAgICB9KVxuXG4gICAgICByZXR1cm4gc29ydGVkRGF0YVxuICAgIH1cblxuICAgIHJldHVybiBzb3J0RGF0YShyb3dzKVxuICB9LCBbbWFudWFsU29ydEJ5LCBzb3J0QnksIHJvd3MsIGZsYXRDb2x1bW5zLCBvcmRlckJ5Rm4sIHVzZXJTb3J0VHlwZXNdKVxuXG4gIGNvbnN0IGdldEF1dG9SZXNldFNvcnRCeSA9IHVzZUdldExhdGVzdChhdXRvUmVzZXRTb3J0QnkpXG5cbiAgdXNlTW91bnRlZExheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGdldEF1dG9SZXNldFNvcnRCeSgpKSB7XG4gICAgICBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvbnMucmVzZXRTb3J0QnkgfSlcbiAgICB9XG4gIH0sIFttYW51YWxTb3J0QnkgPyBudWxsIDogZGF0YV0pXG5cbiAgT2JqZWN0LmFzc2lnbihpbnN0YW5jZSwge1xuICAgIHByZVNvcnRlZFJvd3M6IHJvd3MsXG4gICAgc29ydGVkUm93cyxcbiAgICByb3dzOiBzb3J0ZWRSb3dzLFxuICAgIHRvZ2dsZVNvcnRCeSxcbiAgfSlcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcblxuLy9cblxuaW1wb3J0IHtcbiAgYWN0aW9ucyxcbiAgZW5zdXJlUGx1Z2luT3JkZXIsXG4gIGV4cGFuZFJvd3MsXG4gIGZ1bmN0aW9uYWxVcGRhdGUsXG4gIHVzZU1vdW50ZWRMYXlvdXRFZmZlY3QsXG4gIHVzZUdldExhdGVzdCxcbn0gZnJvbSAnLi4vdXRpbHMnXG5cbmNvbnN0IHBsdWdpbk5hbWUgPSAndXNlUGFnaW5hdGlvbidcblxuLy8gQWN0aW9uc1xuYWN0aW9ucy5yZXNldFBhZ2UgPSAncmVzZXRQYWdlJ1xuYWN0aW9ucy5nb3RvUGFnZSA9ICdnb3RvUGFnZSdcbmFjdGlvbnMuc2V0UGFnZVNpemUgPSAnc2V0UGFnZVNpemUnXG5cbmV4cG9ydCBjb25zdCB1c2VQYWdpbmF0aW9uID0gaG9va3MgPT4ge1xuICBob29rcy5zdGF0ZVJlZHVjZXJzLnB1c2gocmVkdWNlcilcbiAgaG9va3MudXNlSW5zdGFuY2UucHVzaCh1c2VJbnN0YW5jZSlcbn1cblxudXNlUGFnaW5hdGlvbi5wbHVnaW5OYW1lID0gcGx1Z2luTmFtZVxuXG5mdW5jdGlvbiByZWR1Y2VyKHN0YXRlLCBhY3Rpb24sIHByZXZpb3VzU3RhdGUsIGluc3RhbmNlKSB7XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5pbml0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBhZ2VTaXplOiAxMCxcbiAgICAgIHBhZ2VJbmRleDogMCxcbiAgICAgIC4uLnN0YXRlLFxuICAgIH1cbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5yZXNldFBhZ2UpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBwYWdlSW5kZXg6IGluc3RhbmNlLmluaXRpYWxTdGF0ZS5wYWdlSW5kZXggfHwgMCxcbiAgICB9XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMuZ290b1BhZ2UpIHtcbiAgICBjb25zdCB7IHBhZ2VDb3VudCB9ID0gaW5zdGFuY2VcbiAgICBjb25zdCBuZXdQYWdlSW5kZXggPSBmdW5jdGlvbmFsVXBkYXRlKGFjdGlvbi5wYWdlSW5kZXgsIHN0YXRlLnBhZ2VJbmRleClcblxuICAgIGlmIChuZXdQYWdlSW5kZXggPCAwIHx8IG5ld1BhZ2VJbmRleCA+IHBhZ2VDb3VudCAtIDEpIHtcbiAgICAgIHJldHVybiBzdGF0ZVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBwYWdlSW5kZXg6IG5ld1BhZ2VJbmRleCxcbiAgICB9XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMuc2V0UGFnZVNpemUpIHtcbiAgICBjb25zdCB7IHBhZ2VTaXplIH0gPSBhY3Rpb25cbiAgICBjb25zdCB0b3BSb3dJbmRleCA9IHN0YXRlLnBhZ2VTaXplICogc3RhdGUucGFnZUluZGV4XG4gICAgY29uc3QgcGFnZUluZGV4ID0gTWF0aC5mbG9vcih0b3BSb3dJbmRleCAvIHBhZ2VTaXplKVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgcGFnZUluZGV4LFxuICAgICAgcGFnZVNpemUsXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHVzZUluc3RhbmNlKGluc3RhbmNlKSB7XG4gIGNvbnN0IHtcbiAgICByb3dzLFxuICAgIGF1dG9SZXNldFBhZ2UgPSB0cnVlLFxuICAgIG1hbnVhbEV4cGFuZGVkS2V5ID0gJ2V4cGFuZGVkJyxcbiAgICBwbHVnaW5zLFxuICAgIHBhZ2VDb3VudDogdXNlclBhZ2VDb3VudCxcbiAgICBwYWdpbmF0ZUV4cGFuZGVkUm93cyA9IHRydWUsXG4gICAgZXhwYW5kU3ViUm93cyA9IHRydWUsXG4gICAgc3RhdGU6IHsgcGFnZVNpemUsIHBhZ2VJbmRleCwgZXhwYW5kZWQsIGZpbHRlcnMsIGdyb3VwQnksIHNvcnRCeSB9LFxuICAgIGRpc3BhdGNoLFxuICAgIGRhdGEsXG4gICAgbWFudWFsUGFnaW5hdGlvbixcbiAgICBtYW51YWxGaWx0ZXJzLFxuICAgIG1hbnVhbEdyb3VwQnksXG4gICAgbWFudWFsU29ydEJ5LFxuICB9ID0gaW5zdGFuY2VcblxuICBlbnN1cmVQbHVnaW5PcmRlcihcbiAgICBwbHVnaW5zLFxuICAgIFsndXNlRmlsdGVycycsICd1c2VHcm91cEJ5JywgJ3VzZVNvcnRCeScsICd1c2VFeHBhbmRlZCddLFxuICAgICd1c2VQYWdpbmF0aW9uJyxcbiAgICBbXVxuICApXG5cbiAgY29uc3QgZ2V0QXV0b1Jlc2V0UGFnZSA9IHVzZUdldExhdGVzdChhdXRvUmVzZXRQYWdlKVxuXG4gIHVzZU1vdW50ZWRMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChnZXRBdXRvUmVzZXRQYWdlKCkpIHtcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogYWN0aW9ucy5yZXNldFBhZ2UgfSlcbiAgICB9XG4gIH0sIFtcbiAgICBkaXNwYXRjaCxcbiAgICBtYW51YWxQYWdpbmF0aW9uID8gbnVsbCA6IGRhdGEsXG4gICAgbWFudWFsUGFnaW5hdGlvbiB8fCBtYW51YWxGaWx0ZXJzID8gbnVsbCA6IGZpbHRlcnMsXG4gICAgbWFudWFsUGFnaW5hdGlvbiB8fCBtYW51YWxHcm91cEJ5ID8gbnVsbCA6IGdyb3VwQnksXG4gICAgbWFudWFsUGFnaW5hdGlvbiB8fCBtYW51YWxTb3J0QnkgPyBudWxsIDogc29ydEJ5LFxuICBdKVxuXG4gIGNvbnN0IHBhZ2VDb3VudCA9IG1hbnVhbFBhZ2luYXRpb25cbiAgICA/IHVzZXJQYWdlQ291bnRcbiAgICA6IE1hdGguY2VpbChyb3dzLmxlbmd0aCAvIHBhZ2VTaXplKVxuXG4gIGNvbnN0IHBhZ2VPcHRpb25zID0gUmVhY3QudXNlTWVtbyhcbiAgICAoKSA9PiAocGFnZUNvdW50ID4gMCA/IFsuLi5uZXcgQXJyYXkocGFnZUNvdW50KV0ubWFwKChkLCBpKSA9PiBpKSA6IFtdKSxcbiAgICBbcGFnZUNvdW50XVxuICApXG5cbiAgY29uc3QgcGFnZSA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgIGxldCBwYWdlXG5cbiAgICBpZiAobWFudWFsUGFnaW5hdGlvbikge1xuICAgICAgcGFnZSA9IHJvd3NcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcGFnZVN0YXJ0ID0gcGFnZVNpemUgKiBwYWdlSW5kZXhcbiAgICAgIGNvbnN0IHBhZ2VFbmQgPSBwYWdlU3RhcnQgKyBwYWdlU2l6ZVxuXG4gICAgICBwYWdlID0gcm93cy5zbGljZShwYWdlU3RhcnQsIHBhZ2VFbmQpXG4gICAgfVxuXG4gICAgaWYgKHBhZ2luYXRlRXhwYW5kZWRSb3dzKSB7XG4gICAgICByZXR1cm4gcGFnZVxuICAgIH1cblxuICAgIHJldHVybiBleHBhbmRSb3dzKHBhZ2UsIHsgbWFudWFsRXhwYW5kZWRLZXksIGV4cGFuZGVkLCBleHBhbmRTdWJSb3dzIH0pXG4gIH0sIFtcbiAgICBleHBhbmRTdWJSb3dzLFxuICAgIGV4cGFuZGVkLFxuICAgIG1hbnVhbEV4cGFuZGVkS2V5LFxuICAgIG1hbnVhbFBhZ2luYXRpb24sXG4gICAgcGFnZUluZGV4LFxuICAgIHBhZ2VTaXplLFxuICAgIHBhZ2luYXRlRXhwYW5kZWRSb3dzLFxuICAgIHJvd3MsXG4gIF0pXG5cbiAgY29uc3QgY2FuUHJldmlvdXNQYWdlID0gcGFnZUluZGV4ID4gMFxuICBjb25zdCBjYW5OZXh0UGFnZSA9IHBhZ2VDb3VudCA9PT0gLTEgfHwgcGFnZUluZGV4IDwgcGFnZUNvdW50IC0gMVxuXG4gIGNvbnN0IGdvdG9QYWdlID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgcGFnZUluZGV4ID0+IHtcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogYWN0aW9ucy5nb3RvUGFnZSwgcGFnZUluZGV4IH0pXG4gICAgfSxcbiAgICBbZGlzcGF0Y2hdXG4gIClcblxuICBjb25zdCBwcmV2aW91c1BhZ2UgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgcmV0dXJuIGdvdG9QYWdlKG9sZCA9PiBvbGQgLSAxKVxuICB9LCBbZ290b1BhZ2VdKVxuXG4gIGNvbnN0IG5leHRQYWdlID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHJldHVybiBnb3RvUGFnZShvbGQgPT4gb2xkICsgMSlcbiAgfSwgW2dvdG9QYWdlXSlcblxuICBjb25zdCBzZXRQYWdlU2l6ZSA9IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgIHBhZ2VTaXplID0+IHtcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogYWN0aW9ucy5zZXRQYWdlU2l6ZSwgcGFnZVNpemUgfSlcbiAgICB9LFxuICAgIFtkaXNwYXRjaF1cbiAgKVxuXG4gIE9iamVjdC5hc3NpZ24oaW5zdGFuY2UsIHtcbiAgICBwYWdlT3B0aW9ucyxcbiAgICBwYWdlQ291bnQsXG4gICAgcGFnZSxcbiAgICBjYW5QcmV2aW91c1BhZ2UsXG4gICAgY2FuTmV4dFBhZ2UsXG4gICAgZ290b1BhZ2UsXG4gICAgcHJldmlvdXNQYWdlLFxuICAgIG5leHRQYWdlLFxuICAgIHNldFBhZ2VTaXplLFxuICB9KVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQge1xuICBhY3Rpb25zLFxuICBtYWtlUHJvcEdldHRlcixcbiAgZW5zdXJlUGx1Z2luT3JkZXIsXG4gIHVzZUdldExhdGVzdCxcbiAgdXNlTW91bnRlZExheW91dEVmZmVjdCxcbiAgdXNlQ29uc3VtZUhvb2tHZXR0ZXIsXG59IGZyb20gJy4uL3V0aWxzJ1xuXG5jb25zdCBwbHVnaW5OYW1lID0gJ3VzZVJvd1NlbGVjdCdcblxuLy8gQWN0aW9uc1xuYWN0aW9ucy5yZXNldFNlbGVjdGVkUm93cyA9ICdyZXNldFNlbGVjdGVkUm93cydcbmFjdGlvbnMudG9nZ2xlQWxsUm93c1NlbGVjdGVkID0gJ3RvZ2dsZUFsbFJvd3NTZWxlY3RlZCdcbmFjdGlvbnMudG9nZ2xlUm93U2VsZWN0ZWQgPSAndG9nZ2xlUm93U2VsZWN0ZWQnXG5cbmV4cG9ydCBjb25zdCB1c2VSb3dTZWxlY3QgPSBob29rcyA9PiB7XG4gIGhvb2tzLmdldFRvZ2dsZVJvd1NlbGVjdGVkUHJvcHMgPSBbZGVmYXVsdEdldFRvZ2dsZVJvd1NlbGVjdGVkUHJvcHNdXG4gIGhvb2tzLmdldFRvZ2dsZUFsbFJvd3NTZWxlY3RlZFByb3BzID0gW2RlZmF1bHRHZXRUb2dnbGVBbGxSb3dzU2VsZWN0ZWRQcm9wc11cbiAgaG9va3Muc3RhdGVSZWR1Y2Vycy5wdXNoKHJlZHVjZXIpXG4gIGhvb2tzLnVzZVJvd3MucHVzaCh1c2VSb3dzKVxuICBob29rcy51c2VJbnN0YW5jZS5wdXNoKHVzZUluc3RhbmNlKVxufVxuXG51c2VSb3dTZWxlY3QucGx1Z2luTmFtZSA9IHBsdWdpbk5hbWVcblxuY29uc3QgZGVmYXVsdEdldFRvZ2dsZVJvd1NlbGVjdGVkUHJvcHMgPSAocHJvcHMsIHsgaW5zdGFuY2UsIHJvdyB9KSA9PiB7XG4gIGNvbnN0IHsgbWFudWFsUm93U2VsZWN0ZWRLZXkgPSAnaXNTZWxlY3RlZCcgfSA9IGluc3RhbmNlXG4gIGxldCBjaGVja2VkID0gZmFsc2VcblxuICBpZiAocm93Lm9yaWdpbmFsICYmIHJvdy5vcmlnaW5hbFttYW51YWxSb3dTZWxlY3RlZEtleV0pIHtcbiAgICBjaGVja2VkID0gdHJ1ZVxuICB9IGVsc2Uge1xuICAgIGNoZWNrZWQgPSByb3cuaXNTZWxlY3RlZFxuICB9XG5cbiAgcmV0dXJuIFtcbiAgICBwcm9wcyxcbiAgICB7XG4gICAgICBvbkNoYW5nZTogZSA9PiB7XG4gICAgICAgIHJvdy50b2dnbGVSb3dTZWxlY3RlZChlLnRhcmdldC5jaGVja2VkKVxuICAgICAgfSxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgfSxcbiAgICAgIGNoZWNrZWQsXG4gICAgICB0aXRsZTogJ1RvZ2dsZSBSb3cgU2VsZWN0ZWQnLFxuICAgICAgaW5kZXRlcm1pbmF0ZTogcm93LmlzU29tZVNlbGVjdGVkLFxuICAgIH0sXG4gIF1cbn1cblxuY29uc3QgZGVmYXVsdEdldFRvZ2dsZUFsbFJvd3NTZWxlY3RlZFByb3BzID0gKHByb3BzLCB7IGluc3RhbmNlIH0pID0+IFtcbiAgcHJvcHMsXG4gIHtcbiAgICBvbkNoYW5nZTogZSA9PiB7XG4gICAgICBpbnN0YW5jZS50b2dnbGVBbGxSb3dzU2VsZWN0ZWQoZS50YXJnZXQuY2hlY2tlZClcbiAgICB9LFxuICAgIHN0eWxlOiB7XG4gICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICB9LFxuICAgIGNoZWNrZWQ6IGluc3RhbmNlLmlzQWxsUm93c1NlbGVjdGVkLFxuICAgIHRpdGxlOiAnVG9nZ2xlIEFsbCBSb3dzIFNlbGVjdGVkJyxcbiAgICBpbmRldGVybWluYXRlOiBCb29sZWFuKFxuICAgICAgIWluc3RhbmNlLmlzQWxsUm93c1NlbGVjdGVkICYmXG4gICAgICAgIE9iamVjdC5rZXlzKGluc3RhbmNlLnN0YXRlLnNlbGVjdGVkUm93SWRzKS5sZW5ndGhcbiAgICApLFxuICB9LFxuXVxuXG5mdW5jdGlvbiByZWR1Y2VyKHN0YXRlLCBhY3Rpb24sIHByZXZpb3VzU3RhdGUsIGluc3RhbmNlKSB7XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5pbml0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNlbGVjdGVkUm93SWRzOiB7fSxcbiAgICAgIC4uLnN0YXRlLFxuICAgIH1cbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5yZXNldFNlbGVjdGVkUm93cykge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIHNlbGVjdGVkUm93SWRzOiBpbnN0YW5jZS5pbml0aWFsU3RhdGUuc2VsZWN0ZWRSb3dJZHMgfHwge30sXG4gICAgfVxuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLnRvZ2dsZUFsbFJvd3NTZWxlY3RlZCkge1xuICAgIGNvbnN0IHsgc2VsZWN0ZWQgfSA9IGFjdGlvblxuICAgIGNvbnN0IHsgaXNBbGxSb3dzU2VsZWN0ZWQsIGZsYXRSb3dzQnlJZCB9ID0gaW5zdGFuY2VcblxuICAgIGNvbnN0IHNlbGVjdEFsbCA9XG4gICAgICB0eXBlb2Ygc2VsZWN0ZWQgIT09ICd1bmRlZmluZWQnID8gc2VsZWN0ZWQgOiAhaXNBbGxSb3dzU2VsZWN0ZWRcblxuICAgIGlmIChzZWxlY3RBbGwpIHtcbiAgICAgIGNvbnN0IHNlbGVjdGVkUm93SWRzID0ge31cblxuICAgICAgT2JqZWN0LmtleXMoZmxhdFJvd3NCeUlkKS5mb3JFYWNoKHJvd0lkID0+IHtcbiAgICAgICAgc2VsZWN0ZWRSb3dJZHNbcm93SWRdID0gdHJ1ZVxuICAgICAgfSlcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIHNlbGVjdGVkUm93SWRzLFxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIHNlbGVjdGVkUm93SWRzOiB7fSxcbiAgICB9XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMudG9nZ2xlUm93U2VsZWN0ZWQpIHtcbiAgICBjb25zdCB7IGlkLCBzZWxlY3RlZCB9ID0gYWN0aW9uXG4gICAgY29uc3QgeyBmbGF0R3JvdXBlZFJvd3NCeUlkIH0gPSBpbnN0YW5jZVxuXG4gICAgLy8gSm9pbiB0aGUgaWRzIG9mIGRlZXAgcm93c1xuICAgIC8vIHRvIG1ha2UgYSBrZXksIHRoZW4gbWFuYWdlIGFsbCBvZiB0aGUga2V5c1xuICAgIC8vIGluIGEgZmxhdCBvYmplY3RcbiAgICBjb25zdCByb3cgPSBmbGF0R3JvdXBlZFJvd3NCeUlkW2lkXVxuICAgIGNvbnN0IGlzU2VsZWN0ZWQgPSByb3cuaXNTZWxlY3RlZFxuICAgIGNvbnN0IHNob3VsZEV4aXN0ID0gdHlwZW9mIHNlbGVjdGVkICE9PSAndW5kZWZpbmVkJyA/IHNlbGVjdGVkIDogIWlzU2VsZWN0ZWRcblxuICAgIGlmIChpc1NlbGVjdGVkID09PSBzaG91bGRFeGlzdCkge1xuICAgICAgcmV0dXJuIHN0YXRlXG4gICAgfVxuXG4gICAgbGV0IG5ld1NlbGVjdGVkUm93SWRzID0geyAuLi5zdGF0ZS5zZWxlY3RlZFJvd0lkcyB9XG5cbiAgICBjb25zdCBoYW5kbGVSb3dCeUlkID0gaWQgPT4ge1xuICAgICAgY29uc3Qgcm93ID0gZmxhdEdyb3VwZWRSb3dzQnlJZFtpZF1cblxuICAgICAgaWYgKCFyb3cuaXNHcm91cGVkKSB7XG4gICAgICAgIGlmICghaXNTZWxlY3RlZCAmJiBzaG91bGRFeGlzdCkge1xuICAgICAgICAgIG5ld1NlbGVjdGVkUm93SWRzW2lkXSA9IHRydWVcbiAgICAgICAgfSBlbHNlIGlmIChpc1NlbGVjdGVkICYmICFzaG91bGRFeGlzdCkge1xuICAgICAgICAgIGRlbGV0ZSBuZXdTZWxlY3RlZFJvd0lkc1tpZF1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocm93LnN1YlJvd3MpIHtcbiAgICAgICAgcmV0dXJuIHJvdy5zdWJSb3dzLmZvckVhY2gocm93ID0+IGhhbmRsZVJvd0J5SWQocm93LmlkKSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVSb3dCeUlkKGlkKVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgc2VsZWN0ZWRSb3dJZHM6IG5ld1NlbGVjdGVkUm93SWRzLFxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB1c2VSb3dzKHJvd3MsIHsgaW5zdGFuY2UgfSkge1xuICBjb25zdCB7XG4gICAgc3RhdGU6IHsgc2VsZWN0ZWRSb3dJZHMgfSxcbiAgfSA9IGluc3RhbmNlXG5cbiAgaW5zdGFuY2Uuc2VsZWN0ZWRGbGF0Um93cyA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHNlbGVjdGVkRmxhdFJvd3MgPSBbXVxuXG4gICAgcm93cy5mb3JFYWNoKHJvdyA9PiB7XG4gICAgICBjb25zdCBpc1NlbGVjdGVkID0gZ2V0Um93SXNTZWxlY3RlZChyb3csIHNlbGVjdGVkUm93SWRzKVxuICAgICAgcm93LmlzU2VsZWN0ZWQgPSAhIWlzU2VsZWN0ZWRcbiAgICAgIHJvdy5pc1NvbWVTZWxlY3RlZCA9IGlzU2VsZWN0ZWQgPT09IG51bGxcblxuICAgICAgaWYgKGlzU2VsZWN0ZWQpIHtcbiAgICAgICAgc2VsZWN0ZWRGbGF0Um93cy5wdXNoKHJvdylcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgcmV0dXJuIHNlbGVjdGVkRmxhdFJvd3NcbiAgfSwgW3Jvd3MsIHNlbGVjdGVkUm93SWRzXSlcblxuICByZXR1cm4gcm93c1xufVxuXG5mdW5jdGlvbiB1c2VJbnN0YW5jZShpbnN0YW5jZSkge1xuICBjb25zdCB7XG4gICAgZGF0YSxcbiAgICBob29rcyxcbiAgICBwbHVnaW5zLFxuICAgIGZsYXRSb3dzLFxuICAgIGF1dG9SZXNldFNlbGVjdGVkUm93cyA9IHRydWUsXG4gICAgc3RhdGU6IHsgc2VsZWN0ZWRSb3dJZHMgfSxcbiAgICBkaXNwYXRjaCxcbiAgfSA9IGluc3RhbmNlXG5cbiAgZW5zdXJlUGx1Z2luT3JkZXIoXG4gICAgcGx1Z2lucyxcbiAgICBbJ3VzZUZpbHRlcnMnLCAndXNlR3JvdXBCeScsICd1c2VTb3J0QnknXSxcbiAgICAndXNlUm93U2VsZWN0JyxcbiAgICBbXVxuICApXG5cbiAgY29uc3QgW2ZsYXRSb3dzQnlJZCwgZmxhdEdyb3VwZWRSb3dzQnlJZF0gPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBhbGwgPSB7fVxuICAgIGNvbnN0IGdyb3VwZWQgPSB7fVxuXG4gICAgZmxhdFJvd3MuZm9yRWFjaChyb3cgPT4ge1xuICAgICAgaWYgKCFyb3cuaXNHcm91cGVkKSB7XG4gICAgICAgIGFsbFtyb3cuaWRdID0gcm93XG4gICAgICB9XG4gICAgICBncm91cGVkW3Jvdy5pZF0gPSByb3dcbiAgICB9KVxuXG4gICAgcmV0dXJuIFthbGwsIGdyb3VwZWRdXG4gIH0sIFtmbGF0Um93c10pXG5cbiAgbGV0IGlzQWxsUm93c1NlbGVjdGVkID0gQm9vbGVhbihcbiAgICBPYmplY3Qua2V5cyhmbGF0Um93c0J5SWQpLmxlbmd0aCAmJiBPYmplY3Qua2V5cyhzZWxlY3RlZFJvd0lkcykubGVuZ3RoXG4gIClcblxuICBpZiAoaXNBbGxSb3dzU2VsZWN0ZWQpIHtcbiAgICBpZiAoT2JqZWN0LmtleXMoZmxhdFJvd3NCeUlkKS5zb21lKGlkID0+ICFzZWxlY3RlZFJvd0lkc1tpZF0pKSB7XG4gICAgICBpc0FsbFJvd3NTZWxlY3RlZCA9IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgY29uc3QgZ2V0QXV0b1Jlc2V0U2VsZWN0ZWRSb3dzID0gdXNlR2V0TGF0ZXN0KGF1dG9SZXNldFNlbGVjdGVkUm93cylcblxuICB1c2VNb3VudGVkTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZ2V0QXV0b1Jlc2V0U2VsZWN0ZWRSb3dzKCkpIHtcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogYWN0aW9ucy5yZXNldFNlbGVjdGVkUm93cyB9KVxuICAgIH1cbiAgfSwgW2Rpc3BhdGNoLCBkYXRhXSlcblxuICBjb25zdCB0b2dnbGVBbGxSb3dzU2VsZWN0ZWQgPSBzZWxlY3RlZCA9PlxuICAgIGRpc3BhdGNoKHsgdHlwZTogYWN0aW9ucy50b2dnbGVBbGxSb3dzU2VsZWN0ZWQsIHNlbGVjdGVkIH0pXG5cbiAgY29uc3QgdG9nZ2xlUm93U2VsZWN0ZWQgPSAoaWQsIHNlbGVjdGVkKSA9PlxuICAgIGRpc3BhdGNoKHsgdHlwZTogYWN0aW9ucy50b2dnbGVSb3dTZWxlY3RlZCwgaWQsIHNlbGVjdGVkIH0pXG5cbiAgY29uc3QgZ2V0SW5zdGFuY2UgPSB1c2VHZXRMYXRlc3QoaW5zdGFuY2UpXG5cbiAgY29uc3QgZ2V0VG9nZ2xlQWxsUm93c1NlbGVjdGVkUHJvcHNIb29rcyA9IHVzZUNvbnN1bWVIb29rR2V0dGVyKFxuICAgIGdldEluc3RhbmNlKCkuaG9va3MsXG4gICAgJ2dldFRvZ2dsZUFsbFJvd3NTZWxlY3RlZFByb3BzJ1xuICApXG5cbiAgY29uc3QgZ2V0VG9nZ2xlQWxsUm93c1NlbGVjdGVkUHJvcHMgPSBtYWtlUHJvcEdldHRlcihcbiAgICBnZXRUb2dnbGVBbGxSb3dzU2VsZWN0ZWRQcm9wc0hvb2tzKCksXG4gICAgeyBpbnN0YW5jZTogZ2V0SW5zdGFuY2UoKSB9XG4gIClcblxuICBjb25zdCBnZXRUb2dnbGVSb3dTZWxlY3RlZFByb3BzSG9va3MgPSB1c2VDb25zdW1lSG9va0dldHRlcihcbiAgICBnZXRJbnN0YW5jZSgpLmhvb2tzLFxuICAgICdnZXRUb2dnbGVSb3dTZWxlY3RlZFByb3BzJ1xuICApXG5cbiAgaG9va3MucHJlcGFyZVJvdy5wdXNoKHJvdyA9PiB7XG4gICAgcm93LnRvZ2dsZVJvd1NlbGVjdGVkID0gc2V0ID0+IHRvZ2dsZVJvd1NlbGVjdGVkKHJvdy5pZCwgc2V0KVxuXG4gICAgcm93LmdldFRvZ2dsZVJvd1NlbGVjdGVkUHJvcHMgPSBtYWtlUHJvcEdldHRlcihcbiAgICAgIGdldFRvZ2dsZVJvd1NlbGVjdGVkUHJvcHNIb29rcygpLFxuICAgICAgeyBpbnN0YW5jZTogZ2V0SW5zdGFuY2UoKSwgcm93IH1cbiAgICApXG4gIH0pXG5cbiAgT2JqZWN0LmFzc2lnbihpbnN0YW5jZSwge1xuICAgIGZsYXRSb3dzQnlJZCxcbiAgICBmbGF0R3JvdXBlZFJvd3NCeUlkLFxuICAgIHRvZ2dsZVJvd1NlbGVjdGVkLFxuICAgIHRvZ2dsZUFsbFJvd3NTZWxlY3RlZCxcbiAgICBnZXRUb2dnbGVBbGxSb3dzU2VsZWN0ZWRQcm9wcyxcbiAgICBpc0FsbFJvd3NTZWxlY3RlZCxcbiAgfSlcbn1cblxuZnVuY3Rpb24gZ2V0Um93SXNTZWxlY3RlZChyb3csIHNlbGVjdGVkUm93SWRzKSB7XG4gIGlmIChzZWxlY3RlZFJvd0lkc1tyb3cuaWRdKSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIGlmIChyb3cuc3ViUm93cyAmJiByb3cuc3ViUm93cy5sZW5ndGgpIHtcbiAgICBsZXQgYWxsQ2hpbGRyZW5TZWxlY3RlZCA9IHRydWVcbiAgICBsZXQgc29tZVNlbGVjdGVkID0gZmFsc2VcblxuICAgIHJvdy5zdWJSb3dzLmZvckVhY2goc3ViUm93ID0+IHtcbiAgICAgIC8vIEJhaWwgb3V0IGVhcmx5IGlmIHdlIGtub3cgYm90aCBvZiB0aGVzZVxuICAgICAgaWYgKHNvbWVTZWxlY3RlZCAmJiAhYWxsQ2hpbGRyZW5TZWxlY3RlZCkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgaWYgKGdldFJvd0lzU2VsZWN0ZWQoc3ViUm93LCBzZWxlY3RlZFJvd0lkcykpIHtcbiAgICAgICAgc29tZVNlbGVjdGVkID0gdHJ1ZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWxsQ2hpbGRyZW5TZWxlY3RlZCA9IGZhbHNlXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gYWxsQ2hpbGRyZW5TZWxlY3RlZCA/IHRydWUgOiBzb21lU2VsZWN0ZWQgPyBudWxsIDogZmFsc2VcbiAgfVxuXG4gIHJldHVybiBmYWxzZVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQge1xuICBhY3Rpb25zLFxuICBmdW5jdGlvbmFsVXBkYXRlLFxuICB1c2VNb3VudGVkTGF5b3V0RWZmZWN0LFxuICB1c2VHZXRMYXRlc3QsXG59IGZyb20gJy4uL3V0aWxzJ1xuXG4vLyBBY3Rpb25zXG5hY3Rpb25zLnNldFJvd1N0YXRlID0gJ3NldFJvd1N0YXRlJ1xuYWN0aW9ucy5yZXNldFJvd1N0YXRlID0gJ3Jlc2V0Um93U3RhdGUnXG5cbmV4cG9ydCBjb25zdCB1c2VSb3dTdGF0ZSA9IGhvb2tzID0+IHtcbiAgaG9va3Muc3RhdGVSZWR1Y2Vycy5wdXNoKHJlZHVjZXIpXG4gIGhvb2tzLnVzZUluc3RhbmNlLnB1c2godXNlSW5zdGFuY2UpXG59XG5cbnVzZVJvd1N0YXRlLnBsdWdpbk5hbWUgPSAndXNlUm93U3RhdGUnXG5cbmZ1bmN0aW9uIHJlZHVjZXIoc3RhdGUsIGFjdGlvbiwgcHJldmlvdXNTdGF0ZSwgaW5zdGFuY2UpIHtcbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLmluaXQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcm93U3RhdGU6IHt9LFxuICAgICAgLi4uc3RhdGUsXG4gICAgfVxuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLnJlc2V0Um93U3RhdGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICByb3dTdGF0ZTogaW5zdGFuY2UuaW5pdGlhbFN0YXRlLnJvd1N0YXRlIHx8IHt9LFxuICAgIH1cbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5zZXRSb3dTdGF0ZSkge1xuICAgIGNvbnN0IHsgaWQsIHZhbHVlIH0gPSBhY3Rpb25cblxuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIHJvd1N0YXRlOiB7XG4gICAgICAgIC4uLnN0YXRlLnJvd1N0YXRlLFxuICAgICAgICBbaWRdOiBmdW5jdGlvbmFsVXBkYXRlKHZhbHVlLCBzdGF0ZS5yb3dTdGF0ZVtpZF0gfHwge30pLFxuICAgICAgfSxcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdXNlSW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgY29uc3Qge1xuICAgIGhvb2tzLFxuICAgIGluaXRpYWxSb3dTdGF0ZUFjY2Vzc29yLFxuICAgIGF1dG9SZXNldFJvd1N0YXRlID0gdHJ1ZSxcbiAgICBzdGF0ZTogeyByb3dTdGF0ZSB9LFxuICAgIGRhdGEsXG4gICAgZGlzcGF0Y2gsXG4gIH0gPSBpbnN0YW5jZVxuXG4gIGNvbnN0IHNldFJvd1N0YXRlID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgKGlkLCB2YWx1ZSwgY29sdW1uSWQpID0+XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6IGFjdGlvbnMuc2V0Um93U3RhdGUsXG4gICAgICAgIGlkLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgY29sdW1uSWQsXG4gICAgICB9KSxcbiAgICBbZGlzcGF0Y2hdXG4gIClcblxuICBjb25zdCBzZXRDZWxsU3RhdGUgPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAocm93UGF0aCwgY29sdW1uSWQsIHZhbHVlKSA9PiB7XG4gICAgICByZXR1cm4gc2V0Um93U3RhdGUoXG4gICAgICAgIHJvd1BhdGgsXG4gICAgICAgIG9sZCA9PiB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLm9sZCxcbiAgICAgICAgICAgIGNlbGxTdGF0ZToge1xuICAgICAgICAgICAgICAuLi5vbGQuY2VsbFN0YXRlLFxuICAgICAgICAgICAgICBbY29sdW1uSWRdOiBmdW5jdGlvbmFsVXBkYXRlKFxuICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgIChvbGQuY2VsbFN0YXRlIHx8IHt9KVtjb2x1bW5JZF0gfHwge31cbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjb2x1bW5JZFxuICAgICAgKVxuICAgIH0sXG4gICAgW3NldFJvd1N0YXRlXVxuICApXG5cbiAgaG9va3MucHJlcGFyZVJvdy5wdXNoKHJvdyA9PiB7XG4gICAgaWYgKHJvdy5vcmlnaW5hbCkge1xuICAgICAgcm93LnN0YXRlID1cbiAgICAgICAgKHR5cGVvZiByb3dTdGF0ZVtyb3cuaWRdICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICAgID8gcm93U3RhdGVbcm93LmlkXVxuICAgICAgICAgIDogaW5pdGlhbFJvd1N0YXRlQWNjZXNzb3IgJiYgaW5pdGlhbFJvd1N0YXRlQWNjZXNzb3Iocm93KSkgfHwge31cblxuICAgICAgcm93LnNldFN0YXRlID0gdXBkYXRlciA9PiB7XG4gICAgICAgIHJldHVybiBzZXRSb3dTdGF0ZShyb3cuaWQsIHVwZGF0ZXIpXG4gICAgICB9XG5cbiAgICAgIHJvdy5jZWxscy5mb3JFYWNoKGNlbGwgPT4ge1xuICAgICAgICBjZWxsLnN0YXRlID0gcm93LnN0YXRlLmNlbGxTdGF0ZSB8fCB7fVxuXG4gICAgICAgIGNlbGwuc2V0U3RhdGUgPSB1cGRhdGVyID0+IHtcbiAgICAgICAgICByZXR1cm4gc2V0Q2VsbFN0YXRlKHJvdy5pZCwgY2VsbC5jb2x1bW4uaWQsIHVwZGF0ZXIpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9KVxuXG4gIGNvbnN0IGdldEF1dG9SZXNldFJvd1N0YXRlID0gdXNlR2V0TGF0ZXN0KGF1dG9SZXNldFJvd1N0YXRlKVxuXG4gIHVzZU1vdW50ZWRMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChnZXRBdXRvUmVzZXRSb3dTdGF0ZSgpKSB7XG4gICAgICBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvbnMucmVzZXRSb3dTdGF0ZSB9KVxuICAgIH1cbiAgfSwgW2RhdGFdKVxuXG4gIE9iamVjdC5hc3NpZ24oaW5zdGFuY2UsIHtcbiAgICBzZXRSb3dTdGF0ZSxcbiAgICBzZXRDZWxsU3RhdGUsXG4gIH0pXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5cbmltcG9ydCB7IGZ1bmN0aW9uYWxVcGRhdGUsIGFjdGlvbnMgfSBmcm9tICcuLi91dGlscydcblxuLy8gQWN0aW9uc1xuYWN0aW9ucy5yZXNldENvbHVtbk9yZGVyID0gJ3Jlc2V0Q29sdW1uT3JkZXInXG5hY3Rpb25zLnNldENvbHVtbk9yZGVyID0gJ3NldENvbHVtbk9yZGVyJ1xuXG5leHBvcnQgY29uc3QgdXNlQ29sdW1uT3JkZXIgPSBob29rcyA9PiB7XG4gIGhvb2tzLnN0YXRlUmVkdWNlcnMucHVzaChyZWR1Y2VyKVxuICBob29rcy5mbGF0Q29sdW1uc0RlcHMucHVzaCgoZGVwcywgeyBpbnN0YW5jZSB9KSA9PiB7XG4gICAgcmV0dXJuIFsuLi5kZXBzLCBpbnN0YW5jZS5zdGF0ZS5jb2x1bW5PcmRlcl1cbiAgfSlcbiAgaG9va3MuZmxhdENvbHVtbnMucHVzaChmbGF0Q29sdW1ucylcbiAgaG9va3MudXNlSW5zdGFuY2UucHVzaCh1c2VJbnN0YW5jZSlcbn1cblxudXNlQ29sdW1uT3JkZXIucGx1Z2luTmFtZSA9ICd1c2VDb2x1bW5PcmRlcidcblxuZnVuY3Rpb24gcmVkdWNlcihzdGF0ZSwgYWN0aW9uLCBwcmV2aW91c1N0YXRlLCBpbnN0YW5jZSkge1xuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMuaW5pdCkge1xuICAgIHJldHVybiB7XG4gICAgICBjb2x1bW5PcmRlcjogW10sXG4gICAgICAuLi5zdGF0ZSxcbiAgICB9XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMucmVzZXRDb2x1bW5PcmRlcikge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIGNvbHVtbk9yZGVyOiBpbnN0YW5jZS5pbml0aWFsU3RhdGUuY29sdW1uT3JkZXIgfHwgW10sXG4gICAgfVxuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLnNldENvbHVtbk9yZGVyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgY29sdW1uT3JkZXI6IGZ1bmN0aW9uYWxVcGRhdGUoYWN0aW9uLmNvbHVtbk9yZGVyLCBzdGF0ZS5jb2x1bW5PcmRlciksXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGZsYXRDb2x1bW5zKFxuICBjb2x1bW5zLFxuICB7XG4gICAgaW5zdGFuY2U6IHtcbiAgICAgIHN0YXRlOiB7IGNvbHVtbk9yZGVyIH0sXG4gICAgfSxcbiAgfVxuKSB7XG4gIC8vIElmIHRoZXJlIGlzIG5vIG9yZGVyLCByZXR1cm4gdGhlIG5vcm1hbCBjb2x1bW5zXG4gIGlmICghY29sdW1uT3JkZXIgfHwgIWNvbHVtbk9yZGVyLmxlbmd0aCkge1xuICAgIHJldHVybiBjb2x1bW5zXG4gIH1cblxuICBjb25zdCBjb2x1bW5PcmRlckNvcHkgPSBbLi4uY29sdW1uT3JkZXJdXG5cbiAgLy8gSWYgdGhlcmUgaXMgYW4gb3JkZXIsIG1ha2UgYSBjb3B5IG9mIHRoZSBjb2x1bW5zXG4gIGNvbnN0IGNvbHVtbnNDb3B5ID0gWy4uLmNvbHVtbnNdXG5cbiAgLy8gQW5kIG1ha2UgYSBuZXcgb3JkZXJlZCBhcnJheSBvZiB0aGUgY29sdW1uc1xuICBjb25zdCBjb2x1bW5zSW5PcmRlciA9IFtdXG5cbiAgLy8gTG9vcCBvdmVyIHRoZSBjb2x1bW5zIGFuZCBwbGFjZSB0aGVtIGluIG9yZGVyIGludG8gdGhlIG5ldyBhcnJheVxuICB3aGlsZSAoY29sdW1uc0NvcHkubGVuZ3RoICYmIGNvbHVtbk9yZGVyQ29weS5sZW5ndGgpIHtcbiAgICBjb25zdCB0YXJnZXRDb2x1bW5JZCA9IGNvbHVtbk9yZGVyQ29weS5zaGlmdCgpXG4gICAgY29uc3QgZm91bmRJbmRleCA9IGNvbHVtbnNDb3B5LmZpbmRJbmRleChkID0+IGQuaWQgPT09IHRhcmdldENvbHVtbklkKVxuICAgIGlmIChmb3VuZEluZGV4ID4gLTEpIHtcbiAgICAgIGNvbHVtbnNJbk9yZGVyLnB1c2goY29sdW1uc0NvcHkuc3BsaWNlKGZvdW5kSW5kZXgsIDEpWzBdKVxuICAgIH1cbiAgfVxuXG4gIC8vIElmIHRoZXJlIGFyZSBhbnkgY29sdW1ucyBsZWZ0LCBhZGQgdGhlbSB0byB0aGUgZW5kXG4gIHJldHVybiBbLi4uY29sdW1uc0luT3JkZXIsIC4uLmNvbHVtbnNDb3B5XVxufVxuXG5mdW5jdGlvbiB1c2VJbnN0YW5jZShpbnN0YW5jZSkge1xuICBjb25zdCB7IGRpc3BhdGNoIH0gPSBpbnN0YW5jZVxuXG4gIGluc3RhbmNlLnNldENvbHVtbk9yZGVyID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgY29sdW1uT3JkZXIgPT4ge1xuICAgICAgcmV0dXJuIGRpc3BhdGNoKHsgdHlwZTogYWN0aW9ucy5zZXRDb2x1bW5PcmRlciwgY29sdW1uT3JkZXIgfSlcbiAgICB9LFxuICAgIFtkaXNwYXRjaF1cbiAgKVxufVxuIiwiaW1wb3J0IHtcbiAgYWN0aW9ucyxcbiAgZGVmYXVsdENvbHVtbixcbiAgZ2V0Rmlyc3REZWZpbmVkLFxuICBtYWtlUHJvcEdldHRlcixcbiAgdXNlR2V0TGF0ZXN0LFxufSBmcm9tICcuLi91dGlscydcbmltcG9ydCB7IHVzZUNvbnN1bWVIb29rR2V0dGVyIH0gZnJvbSAnLi4vcHVibGljVXRpbHMnXG5cbi8vIERlZmF1bHQgQ29sdW1uXG5kZWZhdWx0Q29sdW1uLmNhblJlc2l6ZSA9IHRydWVcblxuLy8gQWN0aW9uc1xuYWN0aW9ucy5jb2x1bW5TdGFydFJlc2l6aW5nID0gJ2NvbHVtblN0YXJ0UmVzaXppbmcnXG5hY3Rpb25zLmNvbHVtblJlc2l6aW5nID0gJ2NvbHVtblJlc2l6aW5nJ1xuYWN0aW9ucy5jb2x1bW5Eb25lUmVzaXppbmcgPSAnY29sdW1uRG9uZVJlc2l6aW5nJ1xuXG5leHBvcnQgY29uc3QgdXNlUmVzaXplQ29sdW1ucyA9IGhvb2tzID0+IHtcbiAgaG9va3MuZ2V0UmVzaXplclByb3BzID0gW2RlZmF1bHRHZXRSZXNpemVyUHJvcHNdXG4gIGhvb2tzLmdldEhlYWRlclByb3BzLnB1c2goe1xuICAgIHN0eWxlOiB7XG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICB9LFxuICB9KVxuICBob29rcy5zdGF0ZVJlZHVjZXJzLnB1c2gocmVkdWNlcilcbiAgaG9va3MudXNlSW5zdGFuY2VCZWZvcmVEaW1lbnNpb25zLnB1c2godXNlSW5zdGFuY2VCZWZvcmVEaW1lbnNpb25zKVxufVxuXG5jb25zdCBkZWZhdWx0R2V0UmVzaXplclByb3BzID0gKHByb3BzLCB7IGluc3RhbmNlLCBoZWFkZXIgfSkgPT4ge1xuICBjb25zdCB7IGRpc3BhdGNoIH0gPSBpbnN0YW5jZVxuXG4gIGNvbnN0IG9uUmVzaXplU3RhcnQgPSAoZSwgaGVhZGVyKSA9PiB7XG4gICAgbGV0IGlzVG91Y2hFdmVudCA9IGZhbHNlXG4gICAgaWYgKGUudHlwZSA9PT0gJ3RvdWNoc3RhcnQnKSB7XG4gICAgICAvLyBsZXRzIG5vdCByZXNwb25kIHRvIG11bHRpcGxlIHRvdWNoZXMgKGUuZy4gMiBvciAzIGZpbmdlcnMpXG4gICAgICBpZiAoZS50b3VjaGVzICYmIGUudG91Y2hlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgaXNUb3VjaEV2ZW50ID0gdHJ1ZVxuICAgIH1cbiAgICBjb25zdCBoZWFkZXJzVG9SZXNpemUgPSBnZXRMZWFmSGVhZGVycyhoZWFkZXIpXG4gICAgY29uc3QgaGVhZGVySWRXaWR0aHMgPSBoZWFkZXJzVG9SZXNpemUubWFwKGQgPT4gW2QuaWQsIGQudG90YWxXaWR0aF0pXG5cbiAgICBjb25zdCBjbGllbnRYID0gaXNUb3VjaEV2ZW50ID8gTWF0aC5yb3VuZChlLnRvdWNoZXNbMF0uY2xpZW50WCkgOiBlLmNsaWVudFhcblxuICAgIGNvbnN0IGRpc3BhdGNoTW92ZSA9IGNsaWVudFhQb3MgPT4ge1xuICAgICAgZGlzcGF0Y2goeyB0eXBlOiBhY3Rpb25zLmNvbHVtblJlc2l6aW5nLCBjbGllbnRYOiBjbGllbnRYUG9zIH0pXG4gICAgfVxuICAgIGNvbnN0IGRpc3BhdGNoRW5kID0gKCkgPT4gZGlzcGF0Y2goeyB0eXBlOiBhY3Rpb25zLmNvbHVtbkRvbmVSZXNpemluZyB9KVxuXG4gICAgY29uc3QgaGFuZGxlcnNBbmRFdmVudHMgPSB7XG4gICAgICBtb3VzZToge1xuICAgICAgICBtb3ZlRXZlbnQ6ICdtb3VzZW1vdmUnLFxuICAgICAgICBtb3ZlSGFuZGxlcjogZSA9PiBkaXNwYXRjaE1vdmUoZS5jbGllbnRYKSxcbiAgICAgICAgdXBFdmVudDogJ21vdXNldXAnLFxuICAgICAgICB1cEhhbmRsZXI6IGUgPT4ge1xuICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAnbW91c2Vtb3ZlJyxcbiAgICAgICAgICAgIGhhbmRsZXJzQW5kRXZlbnRzLm1vdXNlLm1vdmVIYW5kbGVyXG4gICAgICAgICAgKVxuICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAnbW91c2V1cCcsXG4gICAgICAgICAgICBoYW5kbGVyc0FuZEV2ZW50cy5tb3VzZS51cEhhbmRsZXJcbiAgICAgICAgICApXG4gICAgICAgICAgZGlzcGF0Y2hFbmQoKVxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHRvdWNoOiB7XG4gICAgICAgIG1vdmVFdmVudDogJ3RvdWNobW92ZScsXG4gICAgICAgIG1vdmVIYW5kbGVyOiBlID0+IHtcbiAgICAgICAgICBpZiAoZS5jYW5jZWxhYmxlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcbiAgICAgICAgICB9XG4gICAgICAgICAgZGlzcGF0Y2hNb3ZlKGUudG91Y2hlc1swXS5jbGllbnRYKVxuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICB1cEV2ZW50OiAndG91Y2hlbmQnLFxuICAgICAgICB1cEhhbmRsZXI6IGUgPT4ge1xuICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICBoYW5kbGVyc0FuZEV2ZW50cy50b3VjaC5tb3ZlRXZlbnQsXG4gICAgICAgICAgICBoYW5kbGVyc0FuZEV2ZW50cy50b3VjaC5tb3ZlSGFuZGxlclxuICAgICAgICAgIClcbiAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgaGFuZGxlcnNBbmRFdmVudHMudG91Y2gudXBFdmVudCxcbiAgICAgICAgICAgIGhhbmRsZXJzQW5kRXZlbnRzLnRvdWNoLm1vdmVIYW5kbGVyXG4gICAgICAgICAgKVxuICAgICAgICAgIGRpc3BhdGNoRW5kKClcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfVxuXG4gICAgY29uc3QgZXZlbnRzID0gaXNUb3VjaEV2ZW50XG4gICAgICA/IGhhbmRsZXJzQW5kRXZlbnRzLnRvdWNoXG4gICAgICA6IGhhbmRsZXJzQW5kRXZlbnRzLm1vdXNlXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudHMubW92ZUV2ZW50LCBldmVudHMubW92ZUhhbmRsZXIsIHtcbiAgICAgIHBhc3NpdmU6IGZhbHNlLFxuICAgIH0pXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudHMudXBFdmVudCwgZXZlbnRzLnVwSGFuZGxlciwge1xuICAgICAgcGFzc2l2ZTogZmFsc2UsXG4gICAgfSlcblxuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6IGFjdGlvbnMuY29sdW1uU3RhcnRSZXNpemluZyxcbiAgICAgIGNvbHVtbklkOiBoZWFkZXIuaWQsXG4gICAgICBjb2x1bW5XaWR0aDogaGVhZGVyLnRvdGFsV2lkdGgsXG4gICAgICBoZWFkZXJJZFdpZHRocyxcbiAgICAgIGNsaWVudFgsXG4gICAgfSlcbiAgfVxuXG4gIHJldHVybiBbXG4gICAgcHJvcHMsXG4gICAge1xuICAgICAgb25Nb3VzZURvd246IGUgPT4gZS5wZXJzaXN0KCkgfHwgb25SZXNpemVTdGFydChlLCBoZWFkZXIpLFxuICAgICAgb25Ub3VjaFN0YXJ0OiBlID0+IGUucGVyc2lzdCgpIHx8IG9uUmVzaXplU3RhcnQoZSwgaGVhZGVyKSxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIGN1cnNvcjogJ2V3LXJlc2l6ZScsXG4gICAgICB9LFxuICAgICAgZHJhZ2dhYmxlOiBmYWxzZSxcbiAgICB9LFxuICBdXG59XG5cbnVzZVJlc2l6ZUNvbHVtbnMucGx1Z2luTmFtZSA9ICd1c2VSZXNpemVDb2x1bW5zJ1xuXG5mdW5jdGlvbiByZWR1Y2VyKHN0YXRlLCBhY3Rpb24pIHtcbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLmluaXQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY29sdW1uUmVzaXppbmc6IHtcbiAgICAgICAgY29sdW1uV2lkdGhzOiB7fSxcbiAgICAgIH0sXG4gICAgICAuLi5zdGF0ZSxcbiAgICB9XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMuY29sdW1uU3RhcnRSZXNpemluZykge1xuICAgIGNvbnN0IHsgY2xpZW50WCwgY29sdW1uSWQsIGNvbHVtbldpZHRoLCBoZWFkZXJJZFdpZHRocyB9ID0gYWN0aW9uXG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBjb2x1bW5SZXNpemluZzoge1xuICAgICAgICAuLi5zdGF0ZS5jb2x1bW5SZXNpemluZyxcbiAgICAgICAgc3RhcnRYOiBjbGllbnRYLFxuICAgICAgICBoZWFkZXJJZFdpZHRocyxcbiAgICAgICAgY29sdW1uV2lkdGgsXG4gICAgICAgIGlzUmVzaXppbmdDb2x1bW46IGNvbHVtbklkLFxuICAgICAgfSxcbiAgICB9XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMuY29sdW1uUmVzaXppbmcpIHtcbiAgICBjb25zdCB7IGNsaWVudFggfSA9IGFjdGlvblxuICAgIGNvbnN0IHsgc3RhcnRYLCBjb2x1bW5XaWR0aCwgaGVhZGVySWRXaWR0aHMgfSA9IHN0YXRlLmNvbHVtblJlc2l6aW5nXG5cbiAgICBjb25zdCBkZWx0YVggPSBjbGllbnRYIC0gc3RhcnRYXG4gICAgY29uc3QgcGVyY2VudGFnZURlbHRhWCA9IGRlbHRhWCAvIGNvbHVtbldpZHRoXG5cbiAgICBjb25zdCBuZXdDb2x1bW5XaWR0aHMgPSB7fVxuXG4gICAgaGVhZGVySWRXaWR0aHMuZm9yRWFjaCgoW2hlYWRlcklkLCBoZWFkZXJXaWR0aF0pID0+IHtcbiAgICAgIG5ld0NvbHVtbldpZHRoc1toZWFkZXJJZF0gPSBNYXRoLm1heChcbiAgICAgICAgaGVhZGVyV2lkdGggKyBoZWFkZXJXaWR0aCAqIHBlcmNlbnRhZ2VEZWx0YVgsXG4gICAgICAgIDBcbiAgICAgIClcbiAgICB9KVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgY29sdW1uUmVzaXppbmc6IHtcbiAgICAgICAgLi4uc3RhdGUuY29sdW1uUmVzaXppbmcsXG4gICAgICAgIGNvbHVtbldpZHRoczoge1xuICAgICAgICAgIC4uLnN0YXRlLmNvbHVtblJlc2l6aW5nLmNvbHVtbldpZHRocyxcbiAgICAgICAgICAuLi5uZXdDb2x1bW5XaWR0aHMsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH1cbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5jb2x1bW5Eb25lUmVzaXppbmcpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBjb2x1bW5SZXNpemluZzoge1xuICAgICAgICAuLi5zdGF0ZS5jb2x1bW5SZXNpemluZyxcbiAgICAgICAgc3RhcnRYOiBudWxsLFxuICAgICAgICBpc1Jlc2l6aW5nQ29sdW1uOiBudWxsLFxuICAgICAgfSxcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgdXNlSW5zdGFuY2VCZWZvcmVEaW1lbnNpb25zID0gaW5zdGFuY2UgPT4ge1xuICBjb25zdCB7XG4gICAgZmxhdEhlYWRlcnMsXG4gICAgZGlzYWJsZVJlc2l6aW5nLFxuICAgIHN0YXRlOiB7IGNvbHVtblJlc2l6aW5nIH0sXG4gIH0gPSBpbnN0YW5jZVxuXG4gIGNvbnN0IGdldEluc3RhbmNlID0gdXNlR2V0TGF0ZXN0KGluc3RhbmNlKVxuXG4gIGNvbnN0IGdldFJlc2l6ZXJQcm9wc0hvb2tzID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoXG4gICAgZ2V0SW5zdGFuY2UoKS5ob29rcyxcbiAgICAnZ2V0UmVzaXplclByb3BzJ1xuICApXG5cbiAgZmxhdEhlYWRlcnMuZm9yRWFjaChoZWFkZXIgPT4ge1xuICAgIGNvbnN0IGNhblJlc2l6ZSA9IGdldEZpcnN0RGVmaW5lZChcbiAgICAgIGhlYWRlci5kaXNhYmxlUmVzaXppbmcgPT09IHRydWUgPyBmYWxzZSA6IHVuZGVmaW5lZCxcbiAgICAgIGRpc2FibGVSZXNpemluZyA9PT0gdHJ1ZSA/IGZhbHNlIDogdW5kZWZpbmVkLFxuICAgICAgdHJ1ZVxuICAgIClcblxuICAgIGhlYWRlci5jYW5SZXNpemUgPSBjYW5SZXNpemVcbiAgICBoZWFkZXIud2lkdGggPSBjb2x1bW5SZXNpemluZy5jb2x1bW5XaWR0aHNbaGVhZGVyLmlkXSB8fCBoZWFkZXIud2lkdGhcbiAgICBoZWFkZXIuaXNSZXNpemluZyA9IGNvbHVtblJlc2l6aW5nLmlzUmVzaXppbmdDb2x1bW4gPT09IGhlYWRlci5pZFxuXG4gICAgaWYgKGNhblJlc2l6ZSkge1xuICAgICAgaGVhZGVyLmdldFJlc2l6ZXJQcm9wcyA9IG1ha2VQcm9wR2V0dGVyKGdldFJlc2l6ZXJQcm9wc0hvb2tzKCksIHtcbiAgICAgICAgaW5zdGFuY2U6IGdldEluc3RhbmNlKCksXG4gICAgICAgIGhlYWRlcixcbiAgICAgIH0pXG4gICAgfVxuICB9KVxufVxuXG5mdW5jdGlvbiBnZXRMZWFmSGVhZGVycyhoZWFkZXIpIHtcbiAgY29uc3QgbGVhZkhlYWRlcnMgPSBbXVxuICBjb25zdCByZWN1cnNlSGVhZGVyID0gaGVhZGVyID0+IHtcbiAgICBpZiAoaGVhZGVyLmNvbHVtbnMgJiYgaGVhZGVyLmNvbHVtbnMubGVuZ3RoKSB7XG4gICAgICBoZWFkZXIuY29sdW1ucy5tYXAocmVjdXJzZUhlYWRlcilcbiAgICB9XG4gICAgbGVhZkhlYWRlcnMucHVzaChoZWFkZXIpXG4gIH1cbiAgcmVjdXJzZUhlYWRlcihoZWFkZXIpXG4gIHJldHVybiBsZWFmSGVhZGVyc1xufVxuIiwiaW1wb3J0IHsgZW5zdXJlUGx1Z2luT3JkZXIgfSBmcm9tICcuLi91dGlscydcblxuY29uc3QgY2VsbFN0eWxlcyA9IHtcbiAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gIHRvcDogMCxcbn1cblxuZXhwb3J0IGNvbnN0IHVzZUFic29sdXRlTGF5b3V0ID0gaG9va3MgPT4ge1xuICBob29rcy5nZXRUYWJsZUJvZHlQcm9wcy5wdXNoKGdldFJvd1N0eWxlcylcbiAgaG9va3MuZ2V0Um93UHJvcHMucHVzaChnZXRSb3dTdHlsZXMpXG4gIGhvb2tzLmdldEhlYWRlckdyb3VwUHJvcHMucHVzaChnZXRSb3dTdHlsZXMpXG4gIGhvb2tzLnVzZUluc3RhbmNlLnB1c2godXNlSW5zdGFuY2UpXG5cbiAgaG9va3MuZ2V0SGVhZGVyUHJvcHMucHVzaCgocHJvcHMsIHsgY29sdW1uIH0pID0+IFtcbiAgICBwcm9wcyxcbiAgICB7XG4gICAgICBzdHlsZToge1xuICAgICAgICAuLi5jZWxsU3R5bGVzLFxuICAgICAgICBsZWZ0OiBgJHtjb2x1bW4udG90YWxMZWZ0fXB4YCxcbiAgICAgICAgd2lkdGg6IGAke2NvbHVtbi50b3RhbFdpZHRofXB4YCxcbiAgICAgIH0sXG4gICAgfSxcbiAgXSlcblxuICBob29rcy5nZXRDZWxsUHJvcHMucHVzaCgocHJvcHMsIHsgY2VsbCB9KSA9PiBbXG4gICAgcHJvcHMsXG4gICAge1xuICAgICAgc3R5bGU6IHtcbiAgICAgICAgLi4uY2VsbFN0eWxlcyxcbiAgICAgICAgbGVmdDogYCR7Y2VsbC5jb2x1bW4udG90YWxMZWZ0fXB4YCxcbiAgICAgICAgd2lkdGg6IGAke2NlbGwuY29sdW1uLnRvdGFsV2lkdGh9cHhgLFxuICAgICAgfSxcbiAgICB9LFxuICBdKVxufVxuXG51c2VBYnNvbHV0ZUxheW91dC5wbHVnaW5OYW1lID0gJ3VzZUFic29sdXRlTGF5b3V0J1xuXG5jb25zdCBnZXRSb3dTdHlsZXMgPSAocHJvcHMsIHsgaW5zdGFuY2UgfSkgPT4gW1xuICBwcm9wcyxcbiAge1xuICAgIHN0eWxlOiB7XG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIHdpZHRoOiBgJHtpbnN0YW5jZS50b3RhbENvbHVtbnNXaWR0aH1weGAsXG4gICAgfSxcbiAgfSxcbl1cblxuZnVuY3Rpb24gdXNlSW5zdGFuY2UoeyBwbHVnaW5zIH0pIHtcbiAgZW5zdXJlUGx1Z2luT3JkZXIocGx1Z2lucywgW10sIHVzZUFic29sdXRlTGF5b3V0LnBsdWdpbk5hbWUsIFtcbiAgICAndXNlUmVzaXplQ29sdW1ucycsXG4gIF0pXG59XG4iLCJleHBvcnQgZnVuY3Rpb24gdXNlRmxleExheW91dChob29rcykge1xuICBob29rcy5nZXRUYWJsZUJvZHlQcm9wcy5wdXNoKGdldFRhYmxlQm9keVByb3BzKVxuICBob29rcy5nZXRSb3dQcm9wcy5wdXNoKGdldFJvd1N0eWxlcylcbiAgaG9va3MuZ2V0SGVhZGVyR3JvdXBQcm9wcy5wdXNoKGdldFJvd1N0eWxlcylcbiAgaG9va3MuZ2V0SGVhZGVyUHJvcHMucHVzaChnZXRIZWFkZXJQcm9wcylcbiAgaG9va3MuZ2V0Q2VsbFByb3BzLnB1c2goZ2V0Q2VsbFByb3BzKVxufVxuXG51c2VGbGV4TGF5b3V0LnBsdWdpbk5hbWUgPSAndXNlRmxleExheW91dCdcblxuY29uc3QgZ2V0VGFibGVCb2R5UHJvcHMgPSAocHJvcHMsIHsgaW5zdGFuY2UgfSkgPT4gW1xuICBwcm9wcyxcbiAge1xuICAgIHN0eWxlOiB7XG4gICAgICBtaW5XaWR0aDogYCR7aW5zdGFuY2UudG90YWxDb2x1bW5zV2lkdGh9cHhgLFxuICAgIH0sXG4gIH0sXG5dXG5cbmNvbnN0IGdldFJvd1N0eWxlcyA9IChwcm9wcywgeyBpbnN0YW5jZSB9KSA9PiBbXG4gIHByb3BzLFxuICB7XG4gICAgc3R5bGU6IHtcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGZsZXg6ICcxIDAgYXV0bycsXG4gICAgICBtaW5XaWR0aDogYCR7aW5zdGFuY2UudG90YWxDb2x1bW5zTWluV2lkdGh9cHhgLFxuICAgIH0sXG4gIH0sXG5dXG5cbmNvbnN0IGdldEhlYWRlclByb3BzID0gKHByb3BzLCB7IGNvbHVtbiB9KSA9PiBbXG4gIHByb3BzLFxuICB7XG4gICAgc3R5bGU6IHtcbiAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgICAgZmxleDogYCR7Y29sdW1uLnRvdGFsV2lkdGh9IDAgYXV0b2AsXG4gICAgICBtaW5XaWR0aDogYCR7Y29sdW1uLnRvdGFsTWluV2lkdGh9cHhgLFxuICAgICAgd2lkdGg6IGAke2NvbHVtbi50b3RhbFdpZHRofXB4YCxcbiAgICB9LFxuICB9LFxuXVxuXG5jb25zdCBnZXRDZWxsUHJvcHMgPSAocHJvcHMsIHsgY2VsbCB9KSA9PiBbXG4gIHByb3BzLFxuICB7XG4gICAgc3R5bGU6IHtcbiAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgICAgZmxleDogYCR7Y2VsbC5jb2x1bW4udG90YWxXaWR0aH0gMCBhdXRvYCxcbiAgICAgIG1pbldpZHRoOiBgJHtjZWxsLmNvbHVtbi50b3RhbE1pbldpZHRofXB4YCxcbiAgICAgIHdpZHRoOiBgJHtjZWxsLmNvbHVtbi50b3RhbFdpZHRofXB4YCxcbiAgICB9LFxuICB9LFxuXVxuIiwiaW1wb3J0IHsgaCB9IGZyb20gXCJwcmVhY3RcIlxuaW1wb3J0IHsgc3R5bGVkIH0gZnJvbSBcIkBua3NhcmFmL2dvb2JlclwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJwcmVhY3QvaG9va3NcIjtcblxuY29uc3QgU2tlbGV0b24gPSAoeyB3aWR0aCwgaGVpZ2h0IH06IHt3aWR0aD86IG51bWJlciwgaGVpZ2h0OiBudW1iZXJ9KSA9PiB7XG4gIGNvbnN0IHJhbmRvbUludGVnZXIgPSAobWluLCBtYXgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSArIG1pbik7XG4gIGNvbnN0IG1heFdpZHRoID0gd2lkdGggfHwgMTUwO1xuICBjb25zdCBbY3VycmVudFdpZHRoLCBzZXRXaWR0aF0gPSB1c2VTdGF0ZSgwKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldFdpZHRoKHJhbmRvbUludGVnZXIoNjAsIG1heFdpZHRoKSk7XG4gICAgcmV0dXJuICgpID0+IHdpZHRoO1xuICB9LCBbXSk7XG5cblxuICByZXR1cm4gKFxuICAgIDxSZWN0YW5nbGUgaGVpZ2h0PXtoZWlnaHR9IHdpZHRoPXtjdXJyZW50V2lkdGh9IC8+XG4gICk7XG59O1xuXG5cbmNvbnN0IFJlY3RhbmdsZTogYW55ID0gc3R5bGVkPHsgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXJ9Pignc3BhbicpYFxuXG5Aa2V5ZnJhbWVzIHB1bHNhdGUge1xuICBmcm9tIHtcbiAgIGJhY2tncm91bmQtcG9zaXRpb246MjAwJSA1MCU7XG4gIH1cblxuICB0byB7XG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjotMjAwJSA1MCU7XG4gIH1cbn1cblxuICB3aWR0aDogJHsocHJvcHMpID0+IHByb3BzLndpZHRofXB4O1xuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoXG4gICAgMjcwZGVnLFxuICAgIHJnYigyNTAsIDI1MCwgMjUwKSxcbiAgICByZ2IoMjM0LCAyMzQsIDIzNCksXG4gICAgcmdiKDIzNCwgMjM0LCAyMzQpLFxuICAgIHJnYigyNTAsIDI1MCwgMjUwKVxuICApO1xuICBiYWNrZ3JvdW5kLXNpemU6IDQwMCUgNDAwJTtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICBkaXNwbGF5OiBibG9jaztcbiAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogbGluZWFyO1xuICBhbmltYXRpb24tZGlyZWN0aW9uOiBub3JtYWw7XG4gIGFuaW1hdGlvbi1kdXJhdGlvbjogM3M7XG4gIGFuaW1hdGlvbi1maWxsLW1vZGU6IG5vbmU7XG4gIGJvcmRlci1yYWRpdXM6IDBweDtcbiAgYW5pbWF0aW9uLXBsYXktc3RhdGU6IHJ1bm5pbmc7XG4gIGFuaW1hdGlvbi1kZWxheTogaW5pdGlhbDtcbiAgYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDogaW5maW5pdGU7XG4gIGFuaW1hdGlvbi1kaXJlY3Rpb246IGluaXRpYWw7XG4gIGFuaW1hdGlvbi1maWxsLW1vZGU6IGluaXRpYWw7XG4gIGFuaW1hdGlvbi1wbGF5LXN0YXRlOiBpbml0aWFsO1xuICBoZWlnaHQ6ICR7KHByb3BzKSA9PiAocHJvcHMuaGVpZ2h0ID8gcHJvcHMuaGVpZ2h0IDogMTYpfXB4O1xuICBhbmltYXRpb24tbmFtZTogcHVsc2F0ZTtcbiAgJjpsYXN0LWNoaWxkIHtcbiAgICBtYXJnaW4tYm90dG9tOiAwO1xuICB9XG5gO1xuXG5leHBvcnQgZGVmYXVsdCBTa2VsZXRvbjtcbiIsIi8qIGVzbGludC1kaXNhYmxlIGpzeC1hMTF5L25vLXN0YXRpYy1lbGVtZW50LWludGVyYWN0aW9ucyAqL1xuLyogZXNsaW50LWRpc2FibGUganN4LWExMXkvY2xpY2stZXZlbnRzLWhhdmUta2V5LWV2ZW50cyAqL1xuLyogZXNsaW50LWRpc2FibGUgcmVhY3QvanN4LXByb3BzLW5vLXNwcmVhZGluZyAqL1xuaW1wb3J0IHsgaCwgRnVuY3Rpb25Db21wb25lbnQgfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IHtcbiB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VSZWYsXG59IGZyb20gJ3ByZWFjdC9ob29rcyc7XG5pbXBvcnQgeyBzdHlsZWQgfSBmcm9tIFwiQG5rc2FyYWYvZ29vYmVyXCJcbmltcG9ydCByZWdpc3RlciBmcm9tICdwcmVhY3QtY3VzdG9tLWVsZW1lbnQnO1xuaW1wb3J0IHsgdXNlVGFibGUsIENvbHVtbiB9IGZyb20gJ3JlYWN0LXRhYmxlJ1xuaW1wb3J0IEFwcCBmcm9tICcuLi8uLi9BcHAnO1xuaW1wb3J0IHVzZUN1c3RvbUV2ZW50IGZyb20gJy4uLy4uL3V0aWxzL3VzZUN1c3RvbUV2ZW50JztcbmltcG9ydCBTa2VsZXRvbiBmcm9tIFwiLi4vU2tlbGV0b25cIjtcblxuXG5jb25zdCBMb2FkaW5nVGFibGUgPSAoKSA9PiB7XG4gICAgY29uc3QgY29sdW1ucyA9IG5ldyBBcnJheSg0KS5maWxsKHt9KS5tYXAoKGl0ZW0sIGkpID0+ICh7IGFjY2Vzc29yOiBgJHtpfWAgfSkpO1xuICAgIGNvbnN0IGRhdGEgPSBuZXcgQXJyYXkoNCkuZmlsbCh7fSk7XG5cbiAgICBjb25zdCB7XG4gICAgICAgIGdldFRhYmxlUHJvcHMsXG4gICAgICAgIGdldFRhYmxlQm9keVByb3BzLFxuICAgICAgICBoZWFkZXJHcm91cHMsXG4gICAgICAgIHJvd3MsXG4gICAgICAgIHByZXBhcmVSb3csXG4gICAgfSA9IHVzZVRhYmxlKHtcbiAgICAgICAgY29sdW1ucyxcbiAgICAgICAgZGF0YSxcbiAgICB9KTtcblxuICAgIHJldHVybiAoXG4gICAgICA8QXBwPlxuICAgICAgICA8U3R5bGVzPlxuICAgICAgICAgIDxkaXYgey4uLmdldFRhYmxlUHJvcHMoKX0gY2xhc3NOYW1lPVwidGFibGVcIj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIHtoZWFkZXJHcm91cHMubWFwKChoZWFkZXJHcm91cCkgPT4gKFxuICAgICAgICAgICAgICAgIDxkaXYga2V5PXtoZWFkZXJHcm91cC5pZH0gey4uLmhlYWRlckdyb3VwLmdldEhlYWRlckdyb3VwUHJvcHMoKX0gY2xhc3NOYW1lPVwidHIgaGVhZGVyXCI+XG4gICAgICAgICAgICAgICAgICB7aGVhZGVyR3JvdXAuaGVhZGVycy5tYXAoKGNvbHVtbikgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17Y29sdW1uLmlkfSB7Li4uY29sdW1uLmdldEhlYWRlclByb3BzKCl9IGNsYXNzTmFtZT1cInRoXCI+XG4gICAgICAgICAgICAgICAgICAgICAgey8qIDxTa2VsZXRvbiBoZWlnaHQ9ezE2fSAvPiAqL31cblxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IHsuLi5nZXRUYWJsZUJvZHlQcm9wcygpfT5cbiAgICAgICAgICAgICAge3Jvd3MubWFwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChyb3cpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlcGFyZVJvdyhyb3cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtyb3cuaWR9IHsuLi5yb3cuZ2V0Um93UHJvcHMoKX0gY2xhc3NOYW1lPVwidHJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtyb3cuY2VsbHMubWFwKChjZWxsKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtjZWxsLnZhbHVlfSB7Li4uY2VsbC5nZXRDZWxsUHJvcHMoKX0gY2xhc3NOYW1lPVwidGRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2tlbGV0b24gaGVpZ2h0PXsxNn0gLz5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvU3R5bGVzPlxuICAgICAgPC9BcHA+XG4gICAgKVxufVxuXG5jb25zdCBUYWJsZTogRnVuY3Rpb25Db21wb25lbnQ8eyBkYXRhOiBzdHJpbmcsIGNvbHVtbnM6IHN0cmluZ30+ID0gKHsgZGF0YSwgY29sdW1ucyB9KSA9PiB7XG4gICAgY29uc3QgW2RhdGFTdGF0ZSwgc2V0RGF0YV0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbY29sdW1uc1N0YXRlLCBzZXRDb2x1bW5zXSA9IHVzZVN0YXRlKG51bGwpO1xuXG4gICAgY29uc3QgY29tcG9uZW50UmVmID0gdXNlUmVmPEhUTUxUYWJsZUVsZW1lbnQ+KCk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoZGF0YSAmJiBjb2x1bW5zKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWREYXRhOiBBcnJheTxhbnk+ID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZENvbHVtbnM6IEFycmF5PENvbHVtbj4gPSBKU09OLnBhcnNlKGNvbHVtbnMpO1xuXG4gICAgICAgICAgICBzZXREYXRhKHBhcnNlZERhdGEpO1xuICAgICAgICAgICAgc2V0Q29sdW1ucyhwYXJzZWRDb2x1bW5zKTtcbiAgICAgICB9XG4gICAgfSwgW2RhdGEsIGNvbHVtbnNdKTtcblxuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZGF0YVN0YXRlLCBjb2x1bW5zU3RhdGUpO1xuICAgIH0sIFtkYXRhU3RhdGUsIGNvbHVtbnNTdGF0ZV0pO1xuXG5cbiAgICBjb25zdCBkaXNwYXRjaEV2ZW50ID0gdXNlQ3VzdG9tRXZlbnQoe1xuICAgICAgICByZWY6IGNvbXBvbmVudFJlZixcbiAgICAgICAgZXZlbnROYW1lOiAndGFibGVSb3dDbGlja2VkJyxcbiAgICB9KTtcblxuXG4gICAgaWYgKCFkYXRhU3RhdGUgfHwgIWNvbHVtbnNTdGF0ZSkgcmV0dXJuIDxMb2FkaW5nVGFibGUgLz5cblxuICAgIGNvbnN0IHtcbiAgICAgICAgZ2V0VGFibGVQcm9wcyxcbiAgICAgICAgZ2V0VGFibGVCb2R5UHJvcHMsXG4gICAgICAgIGhlYWRlckdyb3VwcyxcbiAgICAgICAgcm93cyxcbiAgICAgICAgcHJlcGFyZVJvdyxcbiAgICB9ID0gdXNlVGFibGUoe1xuICAgICAgICBjb2x1bW5zOiBjb2x1bW5zU3RhdGUsXG4gICAgICAgIGRhdGE6IGRhdGFTdGF0ZSxcbiAgICB9KTtcblxuICAgIHJldHVybiAoXG4gICAgICA8QXBwPlxuICAgICAgICA8U3R5bGVzPlxuICAgICAgICAgIDxkaXYgcmVmPXtjb21wb25lbnRSZWZ9IHsuLi5nZXRUYWJsZVByb3BzKCl9IGNsYXNzTmFtZT1cInRhYmxlXCI+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICB7aGVhZGVyR3JvdXBzLm1hcCgoaGVhZGVyR3JvdXApID0+IChcbiAgICAgICAgICAgICAgICA8ZGl2IGtleT17aGVhZGVyR3JvdXAuaWR9IHsuLi5oZWFkZXJHcm91cC5nZXRIZWFkZXJHcm91cFByb3BzKCl9IGNsYXNzTmFtZT1cInRyIGhlYWRlclwiPlxuICAgICAgICAgICAgICAgICAge2hlYWRlckdyb3VwLmhlYWRlcnMubWFwKChjb2x1bW4pID0+IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2NvbHVtbi5pZH0gey4uLmNvbHVtbi5nZXRIZWFkZXJQcm9wcygpfSBjbGFzc05hbWU9XCJ0aFwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtjb2x1bW4ucmVuZGVyKCdIZWFkZXInKX1cblxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IHsuLi5nZXRUYWJsZUJvZHlQcm9wcygpfT5cbiAgICAgICAgICAgICAge3Jvd3MubWFwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChyb3csIGkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlcGFyZVJvdyhyb3cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgb25DbGljaz17KCkgPT4gZGlzcGF0Y2hFdmVudChyb3cudmFsdWVzKX0ga2V5PXtyb3cuaWR9IHsuLi5yb3cuZ2V0Um93UHJvcHMoKX0gY2xhc3NOYW1lPVwidHJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtyb3cuY2VsbHMubWFwKChjZWxsKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtjZWxsLnZhbHVlfSB7Li4uY2VsbC5nZXRDZWxsUHJvcHMoKX0gY2xhc3NOYW1lPVwidGRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2VsbC5yZW5kZXIoJ0NlbGwnKX1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L1N0eWxlcz5cbiAgICAgIDwvQXBwPlxuICAgIClcbiAgICB9XG5cblxuY29uc3QgU3R5bGVzID0gc3R5bGVkKFwiZGl2XCIpYFxuICAudGFibGUge1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICBiYWNrZ3JvdW5kOiAkeyhwcm9wcykgPT4gcHJvcHMudGhlbWUuY29sb3JzLiREODB9O1xuICAgIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDhweDtcbiAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogOHB4O1xuICAgIGJveC1zaGFkb3c6IDAgMXB4IDJweCAwIHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuXG4gICAgLnRyLmhlYWRlciB7XG4gICAgICBiYWNrZ3JvdW5kOiAkeyhwcm9wcykgPT4gcHJvcHMudGhlbWUuY29sb3JzLiRCNDB9O1xuICAgICAgaGVpZ2h0OiA0MnB4O1xuICAgICAgJjpob3ZlciB7XG4gICAgICAgIGJhY2tncm91bmQ6ICR7KHByb3BzKSA9PiBwcm9wcy50aGVtZS5jb2xvcnMuJEI0MH07XG4gICAgICAgIGN1cnNvcjogZGVmYXVsdDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAudHIge1xuICAgICAgaGVpZ2h0OiA1NHB4O1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgJHsocHJvcHMpID0+IHByb3BzLnRoZW1lLmNvbG9ycy4kRDYwfTtcblxuICAgICAgJjpob3ZlciB7XG4gICAgICAgIGJhY2tncm91bmQ6ICR7KHByb3BzKSA9PiBwcm9wcy50aGVtZS5jb2xvcnMuJEI1MH07XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgdHJhbnNpdGlvbjogYWxsIDEyMG1zIGVhc2U7XG4gICAgICB9XG5cbiAgICAgIC50aCxcbiAgICAgIC50ZCB7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICBmbGV4OiAxO1xuICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgICAgICBvdmVyZmxvdy14OiBoaWRkZW47XG4gICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgICAgICBwYWRkaW5nOiAwIDMwcHggMCAwO1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgfVxuXG4gICAgICAudGg6Zmlyc3QtY2hpbGQsXG4gICAgICAudGQ6Zmlyc3QtY2hpbGQge1xuICAgICAgICBwYWRkaW5nOiAwIDAgMCAzMHB4O1xuICAgICAgfVxuICAgIH1cbiAgfVxuYDtcblxucmVnaXN0ZXIoVGFibGUsICd4LXRhYmxlJywgWydjb2x1bW5zJywgJ2RhdGEnXSk7XG5cbmV4cG9ydCBkZWZhdWx0IFRhYmxlO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==